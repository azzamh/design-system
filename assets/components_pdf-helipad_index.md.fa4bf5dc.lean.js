import{t as P}from"./chunks/index.df38a97b.js";import{p as j}from"./chunks/PdfViewer.b4d3b0a0.js";import{g as I,p as k}from"./chunks/PdfObject.99bcd686.js";import{E as q,x as C,ae as T,W as O,d as S,U as b,h as m,g as R,y as L,c as _,k as i,r as B,N as D,l as o,n as H,o as g,f as A,an as N,C as U,H as E,w as y,Q as v,a3 as V,F as $,D as G,b as M}from"./chunks/framework.f5f77227.js";import{p as z}from"./chunks/PdfObjectAddon.4fcd52ca.js";import{_ as J}from"./chunks/Button.vue_vue_type_script_setup_true_lang.2a97e00e.js";import"./chunks/Button.vue_vue_type_style_index_0_lang.4ed993c7.js";import{I as Q}from"./chunks/16.b8706f01.js";import"./chunks/index.b8759187.js";import"./chunks/index.eaec9522.js";import"./chunks/noop.cb277961.js";import"./chunks/20.bb018358.js";import"./chunks/20.aaffb2c4.js";import"./chunks/Divider.53957fad.js";import"./chunks/Divider.vue_vue_type_style_index_0_lang.4ed993c7.js";import"./chunks/Select.vue_vue_type_style_index_0_lang.6f50b0e3.js";import"./chunks/Dropdown.vue_vue_type_script_setup_true_lang.7cf975cd.js";import"./chunks/Dropdown.vue_vue_type_style_index_0_lang.559f1785.js";import"./chunks/use-focus.32a6221d.js";import"./chunks/toNumber.75689a18.js";import"./chunks/isObject.32699ff3.js";import"./chunks/isSymbol.4326927f.js";import"./chunks/isObjectLike.53b0037d.js";import"./chunks/floating-ui.dom.546cdae4.js";import"./chunks/index.2165cda4.js";import"./chunks/index.0f84685e.js";import"./chunks/DropdownHeader.311ceedb.js";import"./chunks/Subheading.ae221a66.js";import"./chunks/Input.88a385da.js";import"./chunks/index.a3ecab28.js";import"./chunks/accept.c8f4354a.js";import"./chunks/Input.vue_vue_type_style_index_0_lang.4ed993c7.js";import"./chunks/Text.acf44734.js";import"./chunks/Label.30c79594.js";import"./chunks/Dot.912fdce0.js";import"./chunks/Dot.vue_vue_type_style_index_0_lang.4ed993c7.js";import"./chunks/Label.vue_vue_type_style_index_0_lang.4ed993c7.js";import"./chunks/20.3c42dcdd.js";import"./chunks/20.2d77b086.js";import"./chunks/IconCheckbox.b09949e0.js";import"./chunks/SpinnerRing.7d567aee.js";import"./chunks/value.d2e2d3a1.js";import"./chunks/adapter.0f94470a.js";import"./chunks/use-loading.cae02e7d.js";import"./chunks/defu.fbddeef0.js";import"./chunks/isNil.c75b1b34.js";import"./chunks/Heading.6eb9dccb.js";import"./chunks/Heading.vue_vue_type_style_index_0_lang.4ed993c7.js";import"./chunks/focus.33532f0c.js";import"./chunks/commonjsHelpers.de833af9.js";import"./chunks/index.463848a8.js";import"./chunks/debounce.b619e377.js";import"./chunks/toInteger.d4d227f4.js";import"./chunks/toString.5230fc0f.js";import"./chunks/isArray.513c67aa.js";import"./chunks/memoize.ddd08355.js";import"./chunks/eq.0257f0f1.js";import"./chunks/SpinnerRinggo.ab91a05d.js";function W(d,t={}){const p=q(!0),n=q();async function e(){if(r(),d.value){const{default:c}=await O(()=>import("./chunks/interact.min.a63a6f6b.js").then(a=>a.i),["assets/chunks/interact.min.a63a6f6b.js","assets/chunks/commonjsHelpers.de833af9.js"]);n.value=c(d.value).draggable({inertia:!0,enabled:p.value,autoScroll:!0,onstart:t.onstart,onmove:t.onmove,onend:t.onend}).on("tap",t.ontap)}}function r(){n.value&&n.value.unset()}return C(d,async()=>{await e()}),C(p,c=>{n.value&&n.value.draggable(c)}),T(()=>{r()}),p}const X={class:"pdf-object__container"},Y={class:"pdf-object__container"},w=S({__name:"PdfHelipad",props:{scale:{type:Number,default:1},width:{type:Number,default:198},height:{type:Number,default:106},disabled:{type:Boolean,default:!1}},emits:["landed","click"],setup(d,{emit:t}){const p=d,n=P("object"),e=b(p,"scale"),r=b(p,"width"),c=b(p,"height"),a=m(!1),u=m(0),h=m(0),l=R(()=>{const s=[];return p.disabled&&s.push("pdf-helipad--disabled"),s}),f=W(n,{onstart(){const{left:s,top:F}=n.value.getBoundingClientRect();a.value=!0,u.value=s,h.value=F},onmove(s){u.value=s.clientX-s.rect.width*e.value/2,h.value=s.clientY-s.rect.height*e.value/2},onend(s){if(s.relatedTarget){const F=s.relatedTarget,x=I({reference:F,object:n.value,scale:e.value});t("landed",{...x,width:r.value,height:c.value})}a.value=!1},ontap(s){t("click",s)}});return L(()=>{n.value&&(a.value?(n.value.style.position="fixed",n.value.style.transform=`translate(${u.value}px, ${h.value}px) scale(${e.value})`,n.value.style.zIndex="50"):(n.value.style.position="absolute",n.value.style.transform="translate(0px, 0px)",n.value.style.zIndex="2"))}),C(()=>p.disabled,s=>{f.value=!s},{immediate:!0}),(s,F)=>(g(),_("div",{"data-testid":"pdf-helipad",class:H(["pdf-helipad",o(l)])},[i("div",{ref_key:"object",ref:n,"data-testid":"pdf-helipad-object",class:"pdf-object pdf-object--external",style:D({width:`${o(r)}px`,height:`${o(c)}px`})},[i("div",X,[B(s.$slots,"default")])],4),i("div",{class:"pdf-object pdf-object--external pdf-helipad__ghost",style:D({width:`${o(r)}px`,height:`${o(c)}px`})},[i("div",Y,[B(s.$slots,"default")])],4)],2))}});const K=v("",5),Z=["src"],ss=["src"],as=v("",2),ns=["src"],ls=v("",8),ra=JSON.parse(`{"title":"PDF Helipad · Components","description":"Add object to PDF Viewer with Drag'n'Drop","frontmatter":{"title":"PDF Helipad · Components","description":"Add object to PDF Viewer with Drag'n'Drop"},"headers":[],"relativePath":"components/pdf-helipad/index.md","filePath":"components/pdf-helipad/index.md"}`),ps={name:"components/pdf-helipad/index.md"},Ea=Object.assign(ps,{setup(d){const t=A("/assets/pdf/Calibrator-v3.pdf"),p=A("/assets/images/img-helicopter.svg"),n=N([]),e=m(1);function r(a){n.push({_id:Symbol("ObjectId"),page:a==null?void 0:a.page,x:a==null?void 0:a.x,y:a==null?void 0:a.y,width:a==null?void 0:a.width,height:a==null?void 0:a.height})}function c(a){n.splice(a,1)}return(a,u)=>{const h=U("preview");return g(),_("div",null,[K,E(w,{scale:o(e),onLanded:r},{default:y(()=>[i("img",{class:"w-full h-full bg-base-white",src:o(p)},null,8,Z)]),_:1},8,["scale"]),E(h,null,{default:y(()=>[E(j,{src:o(t),scale:o(e),"onUpdate:scale":u[0]||(u[0]=l=>V(e)?e.value=l:null)},{default:y(()=>[(g(!0),_($,null,G(o(n),(l,f)=>(g(),M(k,{key:l._id,page:l.page,"onUpdate:page":s=>l.page=s,x:l.x,"onUpdate:x":s=>l.x=s,y:l.y,"onUpdate:y":s=>l.y=s,width:l.width,"onUpdate:width":s=>l.width=s,height:l.height,"onUpdate:height":s=>l.height=s},{default:y(()=>[i("img",{class:"w-full h-full rounded",src:o(p)},null,8,ss),E(z,null,{default:y(()=>[E(J,{size:"sm",icon:"",color:"danger",onClick:s=>c(f)},{default:y(()=>[E(Q)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["page","onUpdate:page","x","onUpdate:x","y","onUpdate:y","width","onUpdate:width","height","onUpdate:height"]))),128))]),_:1},8,["src","scale"])]),_:1}),as,E(h,{class:"!bg-base-white"},{default:y(()=>[E(w,{disabled:""},{default:y(()=>[i("img",{class:"w-full h-full",src:o(p)},null,8,ns)]),_:1})]),_:1}),ls])}}});export{ra as __pageData,Ea as default};
