import{i as I,g as b,j as k,k as N}from"./index.CF2swUAz.js";import{d as B,p as W,q as H,u as M}from"./index.CyBTFB5O.js";import{I as D,y as _,p as a,P as w,r as m,a7 as V,l as p,z as j,_ as R,o as $,c as z,m as P,d as A,K as d,w as y,f as E,aa as L}from"./framework.BKe39h19.js";import{f as q}from"./focus.DWrlVhv-.js";import{u as O}from"./index.BcOYuKu3.js";import{d as X}from"./debounce.CE-8mXQa.js";import{r as J}from"./baseGetTag.Cu32HCTk.js";import{t as K}from"./toInteger.NZnbAWM7.js";import{t as U}from"./toNumber.Dcxq_36h.js";import{t as T}from"./toString.CQAYsbsy.js";import{n as g}from"./noop.DX6rZLP_.js";import{I as Z,a as G}from"./20.CII7kjKA.js";import{I as Q}from"./20.CB6zjLF0.js";import{_ as x}from"./Button.vue_vue_type_script_setup_true_lang.DfXXWqOU.js";/* empty css                                               */import{_ as Y}from"./Divider.vue_vue_type_script_setup_true_lang.Dkjyep1P.js";/* empty css                                                */import{_ as ee}from"./Select.vue_vue_type_style_index_0_lang.Bnji6RK_.js";var te=J.isFinite,oe=Math.min;function ne(e){var n=Math[e];return function(o,t){if(o=U(o),t=t==null?0:oe(K(t),292),t&&te(o)){var i=(T(o)+"e").split("e"),s=n(i[0]+"e"+(+i[1]+t));return i=(T(s)+"e").split("e"),+(i[0]+"e"+(+i[1]-t))}return n(o)}}var ie=ne("round");function se(e,n=document.body,o=!1){const t=D();function i(){var s,l;t.value=o?(s=a(n))==null?void 0:s.querySelectorAll(a(e)):(l=a(n))==null?void 0:l.querySelector(a(e))}return _(()=>a(e),()=>{i()}),I(n,s=>{s.some(l=>l.type==="childList")&&i()},{childList:!0,subtree:!0}),B(()=>{i()}),t}const S=Symbol("PDFObjects"),Me=Symbol("PDFObjects");function ae(e){var f,v,u,r;const n=p(()=>ie(e.width/e.height,2)),o=m((f=e.minWidth)!=null?f:e.width*.5),t=m((v=e.maxWidth)!=null?v:e.width*2),i=m((u=e.minHeight)!=null?u:e.height*.5),s=m((r=e.maxHeight)!=null?r:e.height*2),l=O(e.width,o,t),h=O(e.height,i,s);return _(()=>e.minWidth,c=>{Number.isFinite(c)&&(o.value=c)}),_(()=>e.minHeight,c=>{Number.isFinite(c)&&(i.value=c)}),_(()=>e.maxWidth,c=>{Number.isFinite(c)&&(t.value=c)}),_(()=>e.maxHeight,c=>{Number.isFinite(c)&&(s.value=c)}),{ratio:n,width:l,height:h,minWidth:o,maxWidth:t,minHeight:i,maxHeight:s}}function De(e){var C;const{objects:n,page:o}=w(S),t=m((C=e.page)!=null?C:o.value),i=m(e.x),s=m(e.y),l=Symbol("PDFObject"),{width:h,height:f,minWidth:v,maxWidth:u,minHeight:r,maxHeight:c,ratio:F}=ae(e);return n.set(l,V({id:l,page:t,x:i,y:s,width:h,height:f})),W(()=>{Number.isFinite(t.value)||M(o).toBeTruthy().then(()=>{t.value=o.value})}),H(()=>{n.delete(l)}),{id:l,x:i,y:s,page:t,width:h,height:f,minWidth:v,minHeight:r,maxWidth:u,maxHeight:c,ratio:F}}function Ve(e){const{root:n}=w(S),o=p(()=>`.page[data-page-number="${a(e)}"]`);return se(o,n)}const je=X(q,100),le=Symbol("PdfViewer");function re(){return w(le,()=>{const e=m(1),n=m(1),o=m(0);return{page:e,scale:n,totalPage:o,zoomIn:g,zoomOut:g,next:g,prev:g}},!0)}function Re(e,n={}){const o=m(!1),t=p(()=>{var r;return(r=a(n.offsetTop))!=null?r:0}),i=p(()=>{var r;return(r=a(e))==null?void 0:r.parentElement}),{top:s,height:l}=b(i),{top:h,width:f,left:v}=b(e),{height:u}=k();return j(r=>{o.value&&e.value&&(s.value-t.value>=0?(e.value.style.setProperty("height",`${u.value-h.value}px`),e.value.style.setProperty("width","100%")):(i.value.style.setProperty("min-height",`${l.value}px`),e.value.style.setProperty("position","fixed"),e.value.style.setProperty("top",`${t.value}px`),e.value.style.setProperty("left",`${v.value}px`),e.value.style.setProperty("width",`${f.value}px`),e.value.style.setProperty("height",`${u.value-t.value}px`)),r(()=>{i.value.style.removeProperty("min-height"),e.value.style.removeProperty("position"),e.value.style.removeProperty("top"),e.value.style.removeProperty("left"),e.value.style.removeProperty("width"),e.value.style.removeProperty("height")}))}),o}const ue={},ce={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"none",class:"persona-icon",viewBox:"0 0 20 20"},me=P("path",{fill:"currentColor","fill-rule":"evenodd",d:"M9.558 6.598a.625.625 0 0 1 .884 0l4.44 4.44a.625.625 0 1 1-.884.884L10 7.924l-3.998 3.998a.625.625 0 1 1-.884-.884z","clip-rule":"evenodd"},null,-1),de=[me];function fe(e,n){return $(),z("svg",ce,de)}const he=R(ue,[["render",fe]]),ve={"data-testid":"pdf-navigation",class:"pdf__navigation"},_e={class:"pdf__navigation-container"},pe={class:"pdf__navigation-scale"},ye={"data-testid":"pdf-total",class:"pdf__navigation-total"},Ae=A({__name:"PdfNavigation",setup(e){const{page:n,scale:o,totalPage:t,zoomIn:i,zoomOut:s,next:l,prev:h}=re(),f=p(()=>Array.from({length:t.value}).map((v,u)=>({text:`${u+1}`,value:u+1})));return(v,u)=>($(),z("div",ve,[P("div",_e,[d(x,{"data-testid":"pdf-zoom-out",variant:"ghost",size:"xs",icon:"",onClick:a(s)},{default:y(()=>[d(Z)]),_:1},8,["onClick"]),P("span",pe,E((a(o)*100).toFixed(0))+"% ",1),d(x,{"data-testid":"pdf-zoom-in",variant:"ghost",size:"xs",icon:"",onClick:a(i)},{default:y(()=>[d(G)]),_:1},8,["onClick"]),d(Y,{vertical:""}),d(ee,{modelValue:a(n),"onUpdate:modelValue":u[0]||(u[0]=r=>L(n)?n.value=r:null),options:a(f),size:"xs"},null,8,["modelValue","options"]),P("span",ye,"of "+E(a(t)),1),d(x,{"data-testid":"pdf-prev",variant:"ghost",size:"xs",icon:"",onClick:a(h)},{default:y(()=>[d(he)]),_:1},8,["onClick"]),d(x,{"data-testid":"pdf-next",variant:"ghost",size:"xs",icon:"",onClick:a(l)},{default:y(()=>[d(Q)]),_:1},8,["onClick"])])]))}}),ge=["mousemove","mousedown","touchstart","keydown","scroll"];function Le(e,n=5e3){const o=m(!1);let t;function i(){o.value=!1,t&&clearTimeout(t),t=setTimeout(()=>{o.value=!0},n)}return N(e,ge,i,{passive:!0}),o}export{S as P,Ae as _,Ve as a,Me as b,re as c,Le as d,Re as e,je as f,le as g,De as u};
