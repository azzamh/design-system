import{t as I,o as W,d as y}from"./index.4e947356.js";import{_ as Z}from"./Button.vue_vue_type_script_setup_true_lang.6548455d.js";import"./Button.vue_vue_type_style_index_0_lang.4ed993c7.js";import{p as K,D as U}from"./Dropdown.vue_vue_type_style_index_0_lang.485fd372.js";import{_ as C,o as r,c as D,k as b,d as V,M as X,h as E,g as w,E as q,x as R,W as A,C as v,b as f,w as m,Z as z,r as h,H as $,e as N,a as M,t as H,I as J,T as P,a4 as Q,y as Y,n as O,a2 as x,a7 as ee}from"./framework.c6b37a8b.js";import{u as oe}from"./use-focus.9e2f5fde.js";import{a as te,c as ne,f as ae,s as se,o as le,h as re}from"./floating-ui.dom.546cdae4.js";import{u as ie}from"./index.c3f1570d.js";import{I as de}from"./16.189b8710.js";const ue={},ce={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",class:"persona-icon",viewBox:"0 0 16 16"},pe=b("path",{fill:"currentColor","fill-rule":"evenodd",d:"M5.646 3.647a.5.5 0 0 1 .708 0l4 4a.5.5 0 0 1 0 .707l-4 4a.5.5 0 0 1-.708-.708L9.293 8 5.647 4.354a.5.5 0 0 1 0-.708Z","clip-rule":"evenodd"},null,-1),fe=[pe];function ve(e,a){return r(),D("svg",ce,fe)}const me=C(ue,[["render",ve]]),_e={},we={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",class:"persona-icon",viewBox:"0 0 16 16"},he=b("path",{fill:"currentColor","fill-rule":"evenodd",d:"M7.613 13.376a.444.444 0 0 1-.627-.012L2.124 8.308a.445.445 0 0 1 0-.616l4.862-5.056a.444.444 0 1 1 .64.617L3.487 7.556h10.068a.444.444 0 0 1 0 .888H3.488l4.137 4.303a.445.445 0 0 1-.012.629Z","clip-rule":"evenodd"},null,-1),be=[he];function ke(e,a){return r(),D("svg",we,be)}const ge=C(_e,[["render",ke]]),T=Symbol("DropdownTree"),ye=V({components:{DropdownItem:K,IconNext:me,IconBack:ge},props:{text:{type:String,default:""},noCaret:{type:Boolean,default:!1}},emits:["click"],setup(e,{slots:a,emit:d}){var p;const n=X(T,void 0,!0),c=E("slide-left"),u=w(()=>n===void 0),o=(p=n==null?void 0:n.tree)!=null?p:q({_level:0,slots:a}),s=()=>{o.value={_level:o.value._level+1,prev:o.value,slots:a}},i=()=>{o.value.prev&&(o.value=o.value.prev)},_=w(()=>o.value.slots.default),B=w(()=>!!(u.value&&o.value.prev));R(o,(l,t)=>{c.value=l._level>t._level?"slide-left":"slide-right"}),u.value&&A(T,{tree:o,next:s,back:i});function S(){u.value&&(o.value={prev:void 0,_level:0,slots:a})}function k(){const l=new MouseEvent("click");d("click",l),l.defaultPrevented||s()}return{isRoot:u,tree:o,view:_,next:s,back:i,reset:S,canBack:B,transition:c,handleOnClick:k}}}),$e=b("div",{class:"dropdown__group-content"},null,-1),Ce={class:"dropdown__subitem__content"};function De(e,a,d,n,c,u){const o=v("IconBack"),s=v("DropdownItem"),i=v("IconNext");return r(),f(P,{name:e.transition,mode:"out-in"},{default:m(()=>[(r(),D("div",{key:e.tree._level,"data-testid":"dropdown-subitem",class:"dropdown__subitem"},[e.canBack?(r(),f(s,{key:"btn-back","data-testid":"dropdown-back",class:"dropdown__subitem__btn dropdown__subitem__btn--back",onClick:a[0]||(a[0]=z(_=>e.back(),["prevent"]))},{default:m(()=>[h(e.$slots,"button-back",{},()=>[$(o,{class:"dropdown__subitem__next"}),$e])]),_:3})):N("",!0),e.isRoot?(r(),f(J(e.view),{key:2})):(r(),f(s,{key:"btn-next",class:"dropdown__subitem__btn",onClick:z(e.handleOnClick,["prevent"])},{default:m(()=>[b("div",Ce,[h(e.$slots,"button-content",{next:e.next,back:e.back},()=>[M(H(e.text),1)])]),e.noCaret?N("",!0):(r(),f(i,{key:0,"data-testid":"dropdown-subitem-next",class:"dropdown__subitem__next"}))]),_:3},8,["onClick"]))]))]),_:3},8,["name"])}const Be=C(ye,[["render",De]]),Se=V({components:{Button:Z,DropdownGroup:Be,IconArrow:de},props:{modelValue:{type:Boolean,default:!1},text:{type:String,default:""},placement:{type:String,default:"bottom-start"},variant:{type:String,default:"solid"},color:{type:String,default:"default"},size:{type:String,default:"md"},icon:{type:Boolean,default:!1},pill:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},noCaret:{type:Boolean,default:!1},divider:{type:Boolean,default:!1},menuClass:{type:[String,Array,Object],default:void 0},buttonClass:{type:[String,Array,Object],default:void 0},menuSize:{type:String,default:"sm"}},models:{prop:"modelValue",event:"update:modelValue"},emits:["show","hide","update:modelValue"],setup(e,{emit:a}){const d=I("dropdown"),n=I("menu"),c=I("wizard"),u=Q(e,"placement"),o=ie(e),s=E(!1),{next:i,prev:_}=oe(n),B=w(()=>{const t=[""];return e.divider&&t.push("dropdown--divider"),t}),S=w(()=>{const t=[""];return e.menuSize&&t.push(`dropdown__menu--${e.menuSize}`),t});function k(){e.disabled||(o.value?l():p())}function p(){e.disabled||(o.value=!0,a("show"))}function l(){e.disabled||(o.value=!1,a("hide"))}return W(n,()=>{o.value&&setTimeout(()=>{l()})},{ignore:[d]}),y("Escape",t=>{const g=t.target;o.value&&(l(),typeof g.blur=="function"&&g.blur())}),y(["ArrowUp"],t=>{o.value&&(t.preventDefault(),_())}),y(["ArrowDown"],t=>{o.value&&(t.preventDefault(),i())}),y(["Tab"],t=>{o.value&&(t.preventDefault(),t.shiftKey?_():i())}),Y(t=>{if(d.value&&n.value){const g=te(d.value,n.value,()=>{ne(d.value,n.value,{strategy:"absolute",placement:u.value,middleware:[ae(),se(),le(8),re()]}).then(({x:j,y:F,placement:G,middlewareData:L})=>{n.value&&(n.value.dataset.popperPlacement=G,n.value.style.left=`${j||0}px`,n.value.style.top=`${F||0}px`,s.value=L.hide.referenceHidden)})});t(g)}},{flush:"post"}),R(o,t=>{!t&&c.value&&c.value.reset()},{immediate:!0}),A(U,{isOpen:o,toggle:k,open:p,close:l}),{isOpen:o,isHidden:s,classNames:B,containerSize:S,toggle:k,open:p,close:l}}});function Ie(e,a,d,n,c,u){const o=v("IconArrow"),s=v("Button"),i=v("DropdownGroup");return r(),D("div",{ref:"dropdown",class:O(["dropdown",[{"dropdown--open":e.isOpen,"dropdown--no-caret":e.noCaret},e.classNames]]),"data-testid":"dropdown"},[h(e.$slots,"activator",{toggle:e.toggle,open:e.open,close:e.close,isOpen:e.isOpen},()=>[$(s,{"data-testid":"dropdown-activator",class:O(["dropdown__activator",e.buttonClass]),variant:e.variant,color:e.color,size:e.size,icon:e.icon,pill:e.pill,disabled:e.disabled,onClick:z(e.toggle,["prevent"])},{default:m(()=>[h(e.$slots,"button-content",{},()=>[M(H(e.text),1)]),e.noCaret?N("",!0):(r(),f(o,{key:0,class:"dropdown__caret","data-testid":"dropdown-caret"}))]),_:3},8,["class","variant","color","size","icon","pill","disabled","onClick"])]),$(P,{name:"fade"},{default:m(()=>[x(b("div",{ref:"menu","data-testid":"dropdown-menu",class:O(["dropdown__menu",[e.menuClass,e.containerSize]])},[$(i,{ref:"wizard",class:"dropdown__menu__container"},{default:m(()=>[h(e.$slots,"default")]),_:3},512)],2),[[ee,e.isOpen&&!e.isHidden]])]),_:3})],2)}const He=C(Se,[["render",Ie]]);export{He as D,Be as p};
