import{u as D}from"./index.CNBnMbe7.js";import{N as E}from"./index.DVPlHAa2.js";import{d as M,ac as N,k as h,r as x,H as G,l as I,y as F,o as T,f as V,w as k,a as z,ar as K,as as P,Q as O,K as Y,O as J,x as b,n as L,p as m}from"./framework.BSGfltUV.js";const q="--vc-auto-duration",U=`height var(${q}) cubic-bezier(0.33, 1, 0.68, 1)`,g={padding:0},W=300,X={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:"0"},Z=()=>typeof navigator<"u"&&navigator.userAgent.includes("Firefox");function H(a){return a.value?parseFloat(getComputedStyle(a.value).height):0}function $(a){var l;return{height:`${((l=a.value)==null?void 0:l.scrollHeight)||0}px`}}function B(a){if(!a.value)return{};const{transition:l}=getComputedStyle(a.value);return l==="all 0s ease 0s"||Z()&&l==="all"?{transition:U}:{transition:l}}function R(a){if(!a.value)return!0;const{transition:l}=getComputedStyle(a.value);return typeof window.requestAnimationFrame>"u"||matchMedia("(prefers-reduced-motion: reduce)").matches||l.includes("none")||l.includes("height 0s")}function ee(a=0){if(a===0)return 0;const l=a/36,o=Math.round((4+15*l**.25+l/5)*10);return Number.isFinite(o)?o:0}const ae=M({inheritAttrs:!0,__name:"Collapse",props:{when:{type:Boolean},baseHeight:{default:0},as:{default:"div"}},emits:["collapse","expand","collapsed","expanded"],setup(a,{emit:l}){const o=a,n=l,i=N(o,"when"),u=N(o,"baseHeight"),d=h(()=>({overflow:"hidden",height:`${u.value}px`})),p=h(()=>({...g,...u.value===0?{display:"none"}:d.value})),t=x(null),s=x(i.value?"expanded":"collapsed"),r=e=>s.value=e;function f(){return i.value?g:u.value===0?X:p.value}const w=G(f()),c=e=>w.value=e,v=e=>c({...w.value,...e}),_=x(W),Q=e=>_.value=e,C=h(()=>({[q]:`${_.value}ms`}));function S(){c(g),r("expanded"),n("expanded")}function A(){c(p.value),r("collapsed"),n("collapsed")}I(()=>{if(!t.value)return;const e=ee(t.value.scrollHeight-u.value);e>0&&Q(e),!i.value&&u.value===0&&c(p.value)}),F(i,e=>{if(e){if(R(t))return S();r("expanding"),n("expand"),c({...g,...d.value,...C.value}),requestAnimationFrame(()=>{v({...$(t),...B(t),willChange:"height"})})}else{if(R(t))return A();r("collapsing"),n("collapse"),v({...C.value,...$(t)}),requestAnimationFrame(()=>{v({...d.value,...B(t),willChange:"height"})})}}),F(u,e=>{i.value||(e>0?v({display:void 0,height:`${e}px`}):v({display:"none"}))});function j(e){var y;e.target===t.value&&e.propertyName==="height"&&(i.value?((y=t.value)==null?void 0:y.scrollHeight)===H(t)&&S():u.value===H(t)&&A())}return(e,y)=>(T(),V(Y(o.as),{ref_key:"collapseRef",ref:t,style:O(w.value),onTransitionend:j,"data-collapse":s.value},{default:k(()=>[z(e.$slots,"default",K(P({state:s.value})))]),_:3},40,["style","data-collapse"]))}}),se=M({__name:"Collapse",props:{modelValue:{type:Boolean,default:!1},isNav:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(a){const l=a,o=D(l),n=J(E,void 0,!0),i=b("(min-width: 1024px)"),u=b("(min-width: 768px)"),d=b("(min-width: 640px)"),p=h(()=>{var s,r,f;return((s=n==null?void 0:n.toggleable)==null?void 0:s.value)==="lg"?i.value:((r=n==null?void 0:n.toggleable)==null?void 0:r.value)==="md"?u.value:((f=n==null?void 0:n.toggleable)==null?void 0:f.value)==="sm"?d.value:o.value}),t=h(()=>{const s=[""];return o.value?s.push("collapse--show"):s.push("collapse--hide"),l.isNav&&s.push("navbar--collapse"),s});return(s,r)=>(T(),V(m(ae),{"data-testid":"collapse",class:L(["collapses",m(t)]),when:m(o)||m(p)},{default:k(()=>[z(s.$slots,"default")]),_:3},8,["class","when"]))}});export{se as _};
