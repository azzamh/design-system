import{u as o,d as v,r as l,q as f,A as g,_,v as y,b as S,z as A,F as z,a as c}from"./framework.85587507.js";import{d as $,c as d,a as b}from"./create-image.219ca7ba.js";import{l as h}from"./load-image.265b152a.js";const k=o({props:{variant:{type:String,default:void 0},src:{type:String,default:void 0},fallbackSrc:{type:String,default:$()},name:{type:String,default:void 0},size:{type:String,default:"md"},imgClass:{type:[String,Array,Object],default:void 0}},emits:["imgloaded","imgerror"],setup(a,{emit:s}){const t=v(d(50)),n=l(()=>{const e=["avatar"];return a.size&&e.push(`avatar--${a.size}`),e}),r=l(()=>a.variant?a.variant:!a.src&&a.name?"alias":"image");function i(){r.value==="alias"?m():u()}function u(){t.value=d(50),h(a.src).then(()=>{t.value=a.src,s("imgloaded",a.src)}).catch(e=>{t.value=a.fallbackSrc,s("imgerror",e)})}function m(){t.value=b(a.name)}return f(()=>[a.src,a.name,a.variant],()=>{i()}),g(()=>{i()}),{classNames:n,type:r,imageSrc:t}}});const q=["data-type","src"];function C(a,s,t,n,r,i){return y(),S("div",{"data-testid":"avatar",class:c(a.classNames)},[A(a.$slots,"default",{},()=>[z("img",{"data-testid":"avatar-image",class:c(["avatar__image",a.imgClass]),"data-type":a.type,src:a.imageSrc,alt:"Avatar Image"},null,10,q)])],2)}const j=_(k,[["render",C]]);export{j as p};
