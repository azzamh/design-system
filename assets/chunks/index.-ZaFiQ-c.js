import{d as s}from"./defu.e0WOoTFj.js";import{l}from"./load-image.o1nqrQGg.js";import{c as u}from"./create-image._im0xJpR.js";import{r as g,z as m,q as c,aw as f,ax as h}from"./framework.JO26iv-T.js";function d(e){const o=e.slice(1,3),n=e.slice(3,5),t=e.slice(5,7);return{R:Number.parseInt(o,16),G:Number.parseInt(n,16),B:Number.parseInt(t,16)}}function x(e,o,n=1){const t=document.createElement("canvas"),i=t.getContext("2d");return t.width=e*n,t.height=o*n,i.scale(n,n),t}function L(e,o){const n=e.getContext("2d"),t=n.getImageData(0,0,e.width,e.height),i=t.data,r=d(o);for(let a=0;a<i.length;a+=4)i[a+3]>0&&(i[a]=r.R,i[a+1]=r.G,i[a+2]=r.B);n.putImageData(t,0,0)}function U(e,o,n){const t=e.getContext("2d"),i=s(n,{color:"#000000",lineSize:2.5,lineCap:"round",lineJoin:"round"});t.strokeStyle=i.color,t.lineWidth=i.lineSize,t.lineJoin=i.lineJoin,t.lineCap=i.lineCap,t.beginPath(),t.moveTo(o[0],o[1]),t.lineTo(o[2],o[3]),t.stroke()}function C(e){e.getContext("2d").clearRect(0,0,e.width,e.height)}async function I(e,o){const n=e.getContext("2d"),t=await l(o);n.clearRect(0,0,e.width,e.height),n.drawImage(t,0,0)}function O(e,...o){return e.toDataURL(...o)}function y(e,o=u(512,512)){const n=g(o);return m(()=>c(e),t=>{var i;(i=n.value)!=null&&i.startsWith("blob")&&window.URL.revokeObjectURL(n.value),n.value=t instanceof globalThis.File?window.URL.createObjectURL(t):t!=null?t:o}),f(()=>{const t=c(e);t&&(n.value=t instanceof globalThis.File?window.URL.createObjectURL(t):t)}),h(()=>{var t;(t=n.value)!=null&&t.startsWith("blob")&&window.URL.revokeObjectURL(n.value)}),n}export{C as a,x as c,U as d,I as p,L as r,O as t,y as u};
