import{a as O,D as R,I as x,w as V,b as z}from"./vuedraggable.umd.63ce1a31.js";import{_ as C}from"./Checkbox.vue_vue_type_script_setup_true_lang.e362abec.js";import"./Checkbox.vue_vue_type_style_index_0_lang.4ed993c7.js";import{d as D,c as s,k as b,r as m,n as u,L as $,o as l,g as y,b as S,w as A,l as i,e as h,H as k,a3 as p,F as B,D as L,N as F,a as N,t as v}from"./framework.7f91dcc9.js";import{u as I}from"./index.a9b22dca.js";const K=D({inheritAttrs:!1,__name:"TableStaticRoot",props:{scrollable:{type:Boolean,default:!0},tableClass:{type:[String,Array,Object],default:void 0}},setup(e){return(n,r)=>e.scrollable?(l(),s("div",$({key:0,class:"table-static"},n.$attrs),[b("table",{class:u(["table-static__table",e.tableClass])},[m(n.$slots,"default")],2)],16)):(l(),s("table",$({key:1,class:["table-static__table",e.tableClass]},n.$attrs),[m(n.$slots,"default")],16))}}),E={key:0,class:"table-static__headers"},H={key:0,class:"table-static__header table-static__drag"},M={key:1,class:"table-static__header table-static__checkbox"},P=["data-header"],q={key:0,class:"table-static__cell table-static__drag","data-testid":"table-static-drag-handle"},G={key:1,class:"table-static__cell table-static__checkbox"},J=["data-cell"],Q={key:2,class:"table-static__body"},W={class:"table-static__row"},X=["colspan"],Y={class:"flex items-center justify-center text-subtle dark:text-dark-subtle"},se=D({__name:"TableStatic",props:{apperance:{type:String,default:"table"},modelValue:{type:Array,default:()=>[]},fields:{type:Array,default:()=>[]},items:{type:Array,default:()=>[]},selectable:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},emptyLabel:{type:String,default:"There are no records to show"},noLabel:{type:Boolean,default:!1},tableClass:{type:[String,Array,Object],default:void 0},trClass:{type:[String,Array,Object],default:void 0},scrollable:{type:Boolean,default:!0}},emits:["update:modelValue","update:items"],setup(e,{emit:n}){const r=e,o=I(r),T=n,_=y({get(){return r.items.map(t=>z(t))},set(t){T("update:items",t)}}),j=y(()=>{const t=["table-static"];return r.apperance&&t.push(`table-static--${r.apperance}`),r.selectable&&t.push("table-static--selectable"),r.draggable&&t.push("table-static--draggable"),r.noLabel&&t.push("table-static--no-label"),r.scrollable&&t.push("table-static--scrollable"),t}),f=y(()=>r.items.filter(t=>t._selectable!==!1)),g=y({get(){return r.items.length===0?!1:o.value.length===f.value.length},set(t){g.value!==t&&(o.value=t?f.value.map(c=>V(c)):[])}}),U=y(()=>o.value.length>0&&o.value.length<f.value.length);return(t,c)=>(l(),S(K,{"data-testid":"table-static",scrollable:e.scrollable,class:u(i(j)),"table-class":e.tableClass},{default:A(()=>[e.noLabel?h("",!0):(l(),s("thead",E,[b("tr",{class:u(e.trClass)},[e.draggable?(l(),s("th",H)):h("",!0),e.selectable?(l(),s("th",M,[k(C,{modelValue:i(g),"onUpdate:modelValue":c[0]||(c[0]=a=>p(g)?g.value=a:null),"data-testid":"table-static-select-all",indeterminate:i(U)},null,8,["modelValue","indeterminate"])])):h("",!0),(l(!0),s(B,null,L(e.fields,a=>(l(),s("th",{key:a.key,class:u(["table-static__header",a.thClass]),"data-testid":"table-static-header",style:F(a.width?{width:i(O)(a.width)}:{}),"data-header":a.key},[m(t.$slots,`head(${a.key})`,{label:a.label,field:a},()=>[N(v(a.label),1)])],14,P))),128))],2)])),Array.isArray(e.items)&&e.items.length>0?(l(),S(i(R),{key:1,modelValue:i(_),"onUpdate:modelValue":c[2]||(c[2]=a=>p(_)?_.value=a:null),class:"table-static__body",handle:".table-static__drag","item-key":"_key",tag:"tbody",disabled:!e.draggable},{item:A(({element:a,index:w})=>[b("tr",{class:u(["table-static__row",e.trClass]),"data-role":"row"},[m(t.$slots,"row",{item:a,index:w},()=>[e.draggable?(l(),s("td",q,[k(x)])):h("",!0),e.selectable?(l(),s("td",G,[k(C,{modelValue:i(o),"onUpdate:modelValue":c[1]||(c[1]=d=>p(o)?o.value=d:null),"data-testid":"table-static-select",value:i(V)(a),disabled:a._selectable===!1},null,8,["modelValue","value","disabled"])])):h("",!0),(l(!0),s(B,null,L(e.fields,d=>(l(),s("td",{key:d.key,class:u(["table-static__cell",d.tdClass]),"data-testid":"table-static-cell","data-cell":d.key},[m(t.$slots,`cell(${d.key})`,{index:w,item:a},()=>[N(v(d.formatter(a[d.key],a)),1)])],10,J))),128))])],2)]),_:3},8,["modelValue","disabled"])):(l(),s("tbody",Q,[b("tr",W,[b("td",{colspan:e.selectable?e.fields.length+1:e.fields.length,"data-testid":"table-static-empty",class:"table-static__cell table-static__cell--empty datatable__state-empty"},[m(t.$slots,"empty",{},()=>[b("span",Y,v(e.emptyLabel),1)])],8,X)])]))]),_:3},8,["scrollable","class","table-class"]))}});export{se as _};
