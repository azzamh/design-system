import{u as S,r as f,Q as P,_ as y,v as u,C as _,j as b,g as D,i as x,X as T,h as W,J as L,f as O,F as g,P as M,L as X,q as R,a1 as E,M as B,a5 as I,I as q,B as N,$ as K,z as U,e as Z}from"./framework.408943e8.js";import{t as C,o as G,f as h}from"./theme.af157f64.js";import{p as J}from"./Button.8033dbfe.js";import{u as Q}from"./use-focus.b9bc053c.js";import{a as Y,c as ee,f as te,s as ne,o as oe,h as ae}from"./floating-ui.dom.d66a0422.js";import{u as se}from"./index.66165b19.js";import{I as le}from"./16.76204428.js";const A=Symbol("DROPDOWN_CONTEXT"),ie=S({props:{text:{type:String,default:""},href:{type:String,default:void 0},active:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:a}){const s=P(A,void 0,!0);function o(t){a("click",t),(s!=null&&s.close&&!t.defaultPrevented||t.defaultPrevented&&e.href)&&s.close()}const r=f(()=>{const t=[""];return e.active&&t.push("dropdown__item--active"),t}),l=f(()=>{let t="button";return e.href&&(t="a"),t});return{handleOnClick:o,classNames:r,tagName:l}}});function re(e,a,s,o,r,l){return u(),_(L(e.tagName),{"data-testid":"dropdown-item",class:W(["dropdown__item",e.classNames]),href:e.href,disabled:e.disabled,onClick:e.handleOnClick},{default:b(()=>[D(e.$slots,"default",{},()=>[x(T(e.text),1)])]),_:3},8,["class","href","disabled","onClick"])}const de=y(ie,[["render",re]]),ue={},ce={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",class:"persona-icon",viewBox:"0 0 16 16"},fe=g("path",{fill:"currentColor",d:"M5.646 3.647a.5.5 0 0 1 .708 0l4 4a.5.5 0 0 1 0 .707l-4 4a.5.5 0 0 1-.708-.708L9.293 8 5.647 4.354a.5.5 0 0 1 0-.708Z"},null,-1),pe=[fe];function _e(e,a){return u(),O("svg",ce,pe)}const ve=y(ue,[["render",_e]]),me={},we={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",class:"persona-icon",viewBox:"0 0 16 16"},he=g("path",{fill:"currentColor",d:"M7.613 13.376a.444.444 0 0 1-.627-.012L2.124 8.308a.445.445 0 0 1 0-.616l4.862-5.056a.444.444 0 1 1 .64.617L3.487 7.556h10.068a.444.444 0 0 1 0 .888H3.488l4.137 4.303a.445.445 0 0 1-.012.629Z"},null,-1),be=[he];function ye(e,a){return u(),O("svg",we,be)}const ge=y(me,[["render",ye]]),z=Symbol("DropdownTree"),ke=S({components:{DropdownItem:de,IconNext:ve,IconBack:ge},props:{text:{type:String,default:""},noCaret:{type:Boolean,default:!1}},emits:["click"],setup(e,{slots:a,emit:s}){var p;const o=P(z,void 0,!0),r=M("slide-left"),l=f(()=>o===void 0),t=(p=o==null?void 0:o.tree)!=null?p:X({_level:0,slots:a}),d=()=>{t.value={_level:t.value._level+1,prev:t.value,slots:a}},c=()=>{t.value.prev&&(t.value=t.value.prev)},v=f(()=>t.value.slots.default),k=f(()=>!!(l.value&&t.value.prev));R(t,(i,n)=>{r.value=i._level>n._level?"slide-left":"slide-right"}),l.value&&E(z,{tree:t,next:d,back:c});function $(){l.value&&(t.value={prev:void 0,_level:0,slots:a})}function m(){const i=new MouseEvent("click");s("click",i),i.defaultPrevented||d()}return{isRoot:l,tree:t,view:v,next:d,back:c,reset:$,canBack:k,transition:r,handleOnClick:m}}});const $e=g("div",{class:"dropdown__group-content"},null,-1),Be={class:"dropdown__subitem__content"};function Ce(e,a,s,o,r,l){const t=B("IconBack"),d=B("DropdownItem"),c=B("IconNext");return u(),_(K,{name:e.transition,mode:"out-in"},{default:b(()=>[(u(),O("div",{key:e.tree._level,"data-testid":"dropdown-subitem",class:"dropdown__subitem"},[e.canBack?(u(),_(d,{key:"btn-back","data-testid":"dropdown-back",class:"dropdown__subitem__btn dropdown__subitem__btn--back",onClick:a[0]||(a[0]=I(v=>e.back(),["prevent"]))},{default:b(()=>[D(e.$slots,"button-back",{},()=>[q(t,{class:"dropdown__subitem__next"}),$e])]),_:3})):N("",!0),e.isRoot?(u(),_(L(e.view),{key:2})):(u(),_(d,{key:"btn-next",class:"dropdown__subitem__btn",onClick:I(e.handleOnClick,["prevent"])},{default:b(()=>[g("div",Be,[D(e.$slots,"button-content",{next:e.next,back:e.back},()=>[x(T(e.text),1)])]),e.noCaret?N("",!0):(u(),_(c,{key:0,"data-testid":"dropdown-subitem-next",class:"dropdown__subitem__next"}))]),_:3},8,["onClick"]))]))]),_:3},8,["name"])}const De=y(ke,[["render",Ce]]),Te=S({components:{Button:J,DropdownGroup:De,IconArrow:le},props:{modelValue:{type:Boolean,default:!1},text:{type:String,default:""},placement:{type:String,default:"bottom-start"},variant:{type:String,default:"solid"},color:{type:String,default:"default"},size:{type:String,default:"md"},icon:{type:Boolean,default:!1},pill:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},noCaret:{type:Boolean,default:!1},divider:{type:Boolean,default:!1},menuClass:{type:[String,Array,Object],default:void 0},buttonClass:{type:[String,Array,Object],default:void 0},menuSize:{type:String,default:"sm"}},models:{prop:"modelValue",event:"update:modelValue"},emits:["show","hide","update:modelValue"],setup(e,{emit:a}){const s=C("dropdown"),o=C("menu"),r=C("wizard"),l=U(e,"placement"),t=se(e),d=M(!1),{next:c,prev:v}=Q(o),k=f(()=>{const n=[""];return e.divider&&n.push("dropdown--divider"),n}),$=f(()=>{const n=[""];return e.menuSize&&n.push(`dropdown__menu--${e.menuSize}`),n});function m(){e.disabled||(t.value?i():p())}function p(){e.disabled||(t.value=!0,a("show"))}function i(){e.disabled||(t.value=!1,a("hide"))}return G(o,()=>{t.value&&setTimeout(()=>{i()})},{ignore:[s]}),h("Escape",n=>{const w=n.target;t.value&&(i(),typeof w.blur=="function"&&w.blur())}),h(["ArrowUp"],n=>{t.value&&(n.preventDefault(),v())}),h(["ArrowDown"],n=>{t.value&&(n.preventDefault(),c())}),h(["Tab"],n=>{t.value&&(n.preventDefault(),n.shiftKey?v():c())}),Z(n=>{if(s.value&&o.value){const w=Y(s.value,o.value,()=>{ee(s.value,o.value,{strategy:"absolute",placement:l.value,middleware:[te(),ne(),oe(8),ae()]}).then(({x:F,y:V,placement:H,middlewareData:j})=>{o.value&&(o.value.dataset.popperPlacement=H,o.value.style.left=`${F||0}px`,o.value.style.top=`${V||0}px`,d.value=j.hide.referenceHidden)})});n(w)}},{flush:"post"}),R(t,n=>{!n&&r.value&&r.value.reset()},{immediate:!0}),E(A,{isOpen:t,toggle:m,open:p,close:i}),{isOpen:t,isHidden:d,classNames:k,containerSize:$,toggle:m,open:p,close:i}}});export{Te as _,De as a,de as p};
