import{I as J,z as P,af as K,Z as Q,d as W,r as m,am as k,aa as V,l as r,ax as Y,an as E,o as ee,c as ae,p as i,a9 as x,ai as D,S as R,q as C,n as te}from"./framework.1iuB3FAc.js";import{u as T}from"./index.x42eHTML.js";import{t as le}from"./throttle.Yy5L90F6.js";function I(d,g){const e=J();P(d,async u=>{if(e.value&&e.value.unset(),u){const{default:p}=await Q(()=>import("./interact.min.V9qN7HVv.js").then(f=>f.i),__vite__mapDeps([0,1,2])),v=le(g,1e3/120);e.value=p(u).styleCursor(!1).draggable({onmove:v})}}),K(async()=>{e.value&&e.value.unset()})}const oe=W({__name:"InputRange",props:{modelValue:{type:[Number,Array],default:void 0},start:{type:Number,default:void 0},end:{type:Number,default:void 0},step:{type:[String,Number],default:1},min:{type:[String,Number],default:0},max:{type:[String,Number],default:100},multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},error:{type:Boolean,default:!1}},emits:["change","update:modelValue","update:end","update:start"],setup(d,{emit:g}){var w,A,N;const e=d,u=g,p=m(),v=m(),f=m(),l=k(V(e,"min")),n=k(V(e,"max")),y=k(V(e,"step")),_=m(Array.isArray(e.modelValue)?e.modelValue[0]:(w=e.start)!=null?w:l.value),b=m(Array.isArray(e.modelValue)?e.modelValue[1]:(N=(A=e.end)!=null?A:e.modelValue)!=null?N:n.value),z=r(()=>e.multiple?_.value+y.value:l.value),M=r(()=>e.multiple?b.value-y.value:n.value),s=T(_.value,l,M),o=T(b.value,z,n),{width:L,left:U}=Y(p),$=r({get(){var a;return Array.isArray(e.modelValue)?e.modelValue[0]:(a=e.start)!=null?a:l.value},set(a){u("update:start",a)}}),q=r({get(){var a;return Array.isArray(e.modelValue)?e.modelValue[1]:Number.isFinite(e.modelValue)?e.modelValue:(a=e.end)!=null?a:n.value},set(a){u("update:end",a)}}),S=r(()=>(s.value-l.value)/(n.value-l.value)*100),F=r(()=>(o.value-l.value)/(n.value-l.value)*100),O=r(()=>{const a=[];return e.disabled&&a.push("input-range--disabled"),e.readonly&&a.push("input-range--readonly"),e.error&&a.push("input-range--error","state--error"),a}),X=r(()=>({width:`${S.value}%`})),Z=r(()=>({width:`${F.value-S.value}%`}));function c(a){const h=(a.pageX-U.value)/L.value*(n.value-l.value)+l.value;return Math.round(h/y.value)*y.value}function j(a){!e.disabled&&!e.readonly&&(s.value=c(a))}function G(a){if(!e.disabled&&!e.readonly){const t=c(a);if(e.multiple){const B=Math.abs(t-s.value),h=Math.abs(t-o.value);if(B<h){s.value=t;return}}o.value=t}}function H(a){!e.disabled&&!e.readonly&&(o.value=c(a))}return I(v,a=>{!e.disabled&&!e.readonly&&(s.value=c(a))}),I(f,a=>{!e.disabled&&!e.readonly&&(o.value=c(a))}),E(s,$,{immediate:!1}),E(o,q,{immediate:!1}),P([s,o],([a,t])=>{_.value=a,b.value=t,e.multiple?(u("update:modelValue",[a,t]),u("change",[a,t])):(u("update:modelValue",t),u("change",t))}),(a,t)=>(ee(),ae("div",{"data-testid":"input-range",class:te(["input-range",C(O)])},[i("div",{ref_key:"track",ref:p,class:"input-range__tracks"},[x(i("div",{"data-testid":"track-lower",class:"input-range__track input-range__track-lower",style:R(C(X)),onClickCapture:j},null,36),[[D,d.multiple]]),i("div",{"data-testid":"track-active",class:"input-range__track input-range__track-active",style:R(C(Z)),onClickCapture:G},[x(i("div",{ref_key:"thumbStart",ref:v,"data-testid":"thumb-start",class:"input-range__thumb input-range__thumb-start"},null,512),[[D,d.multiple]]),i("div",{ref_key:"thumbEnd",ref:f,"data-testid":"thumb-end",class:"input-range__thumb input-range__thumb-end"},null,512)],36),i("div",{"data-testid":"track-upper",class:"input-range__track input-range__track-upper",onClickCapture:H},null,32)],512)],2))}});export{oe as _};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/chunks/interact.min.V9qN7HVv.js","assets/chunks/theme.CM5SDijO.js","assets/chunks/framework.1iuB3FAc.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
