import{_ as x,o as s,c as b,p as k,d as M,O as q,r as w,l as g,H as J,z as P,$ as F,E,f as h,w as y,a2 as V,J as N,a as p,g as C,t as H,b as L,K as X,T as j,a3 as G,aa as Q,A as Y,q as _,n as T,a9 as Z,ae as ee}from"./framework.df26sawU.js";import{o as te,d as I}from"./index.9VyAL9bU.js";import{_ as oe}from"./Button.vue_vue_type_script_setup_true_lang.hxtYkjvd.js";import"./Button.vue_vue_type_style_index_0_lang.w40geAFS.js";import{p as ne,D as ae}from"./Dropdown.vue_vue_type_style_index_0_lang.MkBMTrJi.js";import{u as se}from"./use-focus.oPJP1ZqW.js";import{a as le,c as de,f as re,s as ie,o as ue,h as ce}from"./floating-ui.dom._N-HlnuN.js";import{u as pe}from"./index.MObnfSB8.js";import{I as fe}from"./20.IH6uxv3O.js";const me={},ve={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",class:"persona-icon",viewBox:"0 0 16 16"},_e=k("path",{fill:"currentColor","fill-rule":"evenodd",d:"M5.647 3.647a.5.5 0 0 1 .707 0l4 4a.5.5 0 0 1 0 .707l-4 4a.5.5 0 0 1-.708-.708L9.294 8 5.647 4.354a.5.5 0 0 1 0-.707","clip-rule":"evenodd"},null,-1),we=[_e];function he(e,d){return s(),b("svg",ve,we)}const be=x(me,[["render",he]]),ye={},ke={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",class:"persona-icon",viewBox:"0 0 16 16"},$e=k("path",{fill:"currentColor","fill-rule":"evenodd",d:"M7.613 13.376a.444.444 0 0 1-.627-.012L2.124 8.308a.445.445 0 0 1 0-.616l4.862-5.056a.444.444 0 1 1 .64.617L3.487 7.556h10.068a.444.444 0 0 1 0 .888H3.488l4.137 4.303a.445.445 0 0 1-.012.629","clip-rule":"evenodd"},null,-1),ge=[$e];function Ce(e,d){return s(),b("svg",ke,ge)}const Be=x(ye,[["render",Ce]]),R=Symbol("DropdownTree"),De=M({components:{DropdownItem:ne,IconNext:be,IconBack:Be},props:{text:{type:String,default:""},noCaret:{type:Boolean,default:!1}},emits:["click"],setup(e,{slots:d,emit:l}){var O;const c=q(R,void 0,!0),r=w("slide-left"),n=g(()=>c===void 0),o=(O=c==null?void 0:c.tree)!=null?O:J({_level:0,slots:d}),i=()=>{o.value={_level:o.value._level+1,prev:o.value,slots:d}},f=()=>{o.value.prev&&(o.value=o.value.prev)},a=g(()=>o.value.slots.default),B=g(()=>!!(n.value&&o.value.prev));P(o,(m,$)=>{r.value=m._level>$._level?"slide-left":"slide-right"}),n.value&&F(R,{tree:o,next:i,back:f});function D(){n.value&&(o.value={prev:void 0,_level:0,slots:d})}function S(){const m=new MouseEvent("click");l("click",m),m.defaultPrevented||i()}return{isRoot:n,tree:o,view:a,next:i,back:f,reset:D,canBack:B,transition:r,handleOnClick:S}}}),Se=k("div",{class:"dropdown__group-content"},null,-1),Oe={class:"dropdown__subitem__content"};function ze(e,d,l,c,r,n){const o=E("IconBack"),i=E("DropdownItem"),f=E("IconNext");return s(),h(j,{name:e.transition,mode:"out-in"},{default:y(()=>[(s(),b("div",{key:e.tree._level,"data-testid":"dropdown-subitem",class:"dropdown__subitem"},[e.canBack?(s(),h(i,{key:"btn-back","data-testid":"dropdown-back",class:"dropdown__subitem__btn dropdown__subitem__btn--back",onClick:d[0]||(d[0]=V(a=>e.back(),["prevent"]))},{default:y(()=>[p(e.$slots,"button-back",{},()=>[N(o,{class:"dropdown__subitem__next"}),Se])]),_:3})):C("",!0),e.isRoot?(s(),h(X(e.view),{key:2})):(s(),h(i,{key:"btn-next",class:"dropdown__subitem__btn",onClick:V(e.handleOnClick,["prevent"])},{default:y(()=>[k("div",Oe,[p(e.$slots,"button-content",{next:e.next,back:e.back},()=>[L(H(e.text),1)])]),e.noCaret?C("",!0):(s(),h(f,{key:0,"data-testid":"dropdown-subitem-next",class:"dropdown__subitem__next"}))]),_:3},8,["onClick"]))]))]),_:3},8,["name"])}const Ie=x(De,[["render",ze]]),Ne={key:0,class:"drowdown__menu__prepend"},Ae={key:1,class:"drowdown__menu__append"},Le=M({models:{prop:"modelValue",event:"update:modelValue"},__name:"Dropdown",props:{modelValue:{type:Boolean,default:!1},text:{type:String,default:""},placement:{type:String,default:"bottom-start"},variant:{type:String,default:"solid"},color:{type:String,default:"default"},size:{type:String,default:"md"},icon:{type:Boolean,default:!1},pill:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},noCaret:{type:Boolean,default:!1},divider:{type:Boolean,default:!1},menuClass:{type:[String,Array,Object],default:void 0},buttonClass:{type:[String,Array,Object],default:void 0},menuSize:{type:String,default:"sm"},noAnimation:{type:Boolean,default:!1}},emits:["show","hide","update:modelValue"],setup(e,{expose:d}){const l=e,c=G(),r=w(),n=w(),o=w(),i=w(),f=Q(l,"placement"),a=pe(l),B=w(!1),{next:D,prev:S}=se(o),O=g(()=>{const t=[""];return l.divider&&t.push("dropdown--divider"),l.menuSize&&t.push(`dropdown--menu-${l.menuSize}`),t}),m=g(()=>{const t=[""];return c.prepend&&t.push("dropdown__menu--has-prepend"),c.append&&t.push("dropdown__menu--has-append"),t});function $(){l.disabled||(a.value?v():z())}function z(){l.disabled||(a.value=!0)}function v(){l.disabled||(a.value=!1)}return te(n,()=>{a.value&&setTimeout(()=>{v()})},{ignore:[r]}),I("Escape",t=>{const u=t.target;a.value&&(v(),typeof u.blur=="function"&&u.blur())}),I(["ArrowUp"],t=>{a.value&&(t.preventDefault(),S())}),I(["ArrowDown"],t=>{a.value&&(t.preventDefault(),D())}),I(["Tab"],t=>{a.value&&(t.preventDefault(),t.shiftKey?S():D())}),Y(t=>{if(r.value&&n.value){const u=le(r.value,n.value,()=>{de(r.value,n.value,{strategy:"absolute",placement:f.value,middleware:[re(),ie(),ue(8),ce()]}).then(({x:A,y:K,placement:U,middlewareData:W})=>{n.value&&(n.value.dataset.popperPlacement=U,n.value.style.left=`${A||0}px`,n.value.style.top=`${K||0}px`,B.value=W.hide.referenceHidden)})},{animationFrame:!0});t(u)}},{flush:"post"}),P(a,t=>{!t&&i.value&&i.value.reset()},{immediate:!0}),F(ae,{isOpen:a,toggle:$,open:z,close:v}),d({menuBody:o,menu:n,root:r,open:z,close:v}),(t,u)=>(s(),b("div",{ref_key:"root",ref:r,class:T(["dropdown",[{"dropdown--open":_(a),"dropdown--no-caret":e.noCaret},_(O)]]),"data-testid":"dropdown"},[p(t.$slots,"activator",{toggle:$,open:z,close:v,isOpen:_(a)},()=>[N(oe,{"data-testid":"dropdown-activator",class:T(["dropdown__activator",e.buttonClass]),variant:e.variant,color:e.color,size:e.size,icon:e.icon,pill:e.pill,disabled:e.disabled,onClick:V($,["prevent"])},{default:y(()=>[p(t.$slots,"button-content",{},()=>[L(H(e.text),1)]),e.noCaret?C("",!0):(s(),h(fe,{key:0,class:"dropdown__caret","data-testid":"dropdown-caret"}))]),_:3},8,["class","variant","color","size","icon","pill","disabled"])]),N(j,{name:"fade",css:!e.noAnimation,onAfterEnter:u[0]||(u[0]=A=>t.$emit("show")),onAfterLeave:u[1]||(u[1]=A=>t.$emit("hide"))},{default:y(()=>[Z(k("div",{ref_key:"menu",ref:n,"data-testid":"dropdown-menu",class:T(["dropdown__menu",[e.menuClass,_(m)]])},[t.$slots.prepend?(s(),b("div",Ne,[p(t.$slots,"prepend")])):C("",!0),k("div",{ref_key:"menuBody",ref:o,class:"dropdown__menu__body"},[N(Ie,{ref_key:"wizard",ref:i,class:"dropdown__menu__container"},{default:y(()=>[p(t.$slots,"default")]),_:3},512)],512),t.$slots.append?(s(),b("div",Ae,[p(t.$slots,"append")])):C("",!0)],2),[[ee,_(a)&&!_(B)]])]),_:3},8,["css"])],2))}});export{Le as _,Ie as p};
