import{u as g,z as b,r as c,P as f,L as q,A as B,q as x,v as H,C as M,j as T,R as j,J as F,g as V,af as L,ag as R,Q as k,_ as G,M as O,h as P}from"./framework.408943e8.js";import{u as Q}from"./index.66165b19.js";import{N as E}from"./index.fe135e19.js";import{i as m}from"./theme.af157f64.js";const z="--vc-auto-duration",I=`height var(${z}) cubic-bezier(0.33, 1, 0.68, 1)`,h={padding:0},J={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:"0"};function C(e){var a;return{height:`${(a=e==null?void 0:e.scrollHeight)!=null?a:0}px`}}function N(e){if(!e)return{};const{transition:a}=getComputedStyle(e);return a==="all 0s ease 0s"?{transition:I}:{transition:a}}function A(e){if(!e)return!0;const{transition:a}=getComputedStyle(e);return window.matchMedia("(prefers-reduced-motion: reduce)").matches||a.includes("none")||a.includes("height 0s")}g({inheritAttrs:!0});const K=g({__name:"Collapse",props:{when:{type:Boolean},baseHeight:{default:0},as:{default:"div"}},emits:["collapse","expand","collapsed","expanded"],setup(e,{emit:a}){const s=e,n=b(s,"when"),i=b(s,"baseHeight"),r=c(()=>({overflow:"hidden",height:`${i.value}px`})),p=c(()=>({...h,...i.value===0?{display:"none"}:r.value})),t=f(null),u=f(n.value?"expanded":"collapsed"),l=q({}),d=f(300),_=c(()=>({[z]:`${d.value}ms`}));function w(){l.value=h,u.value="expanded",a("expanded")}function y(){l.value=p.value,u.value="collapsed",a("collapsed")}function S(o){var v,$;o.target===t.value&&o.propertyName==="height"&&(n.value?((v=t.value)==null?void 0:v.scrollHeight)===parseFloat(o.target.style.height)&&w():(($=t.value)==null?void 0:$.style.height)===`${i.value}px`&&y())}return B(()=>{t.value&&(n.value||i.value!==0||(l.value=J),d.value=function(o=0){if(o===0)return 0;const v=o/36;return Math.round(10*(4+15*v**.25+v/5))}(t.value.scrollHeight-i.value),l.value=n.value?h:p.value)}),x(n,o=>{if(o){if(A(t.value))return w();u.value="expanding",a("expand"),l.value={...h,...r.value,..._.value,willChange:"height"},requestAnimationFrame(()=>{l.value={...l.value,...C(t.value),...N(t.value)}})}else{if(A(t.value))return y();u.value="collapsing",a("collapse"),l.value={...l.value,..._.value,...C(t.value),willChange:"height"},requestAnimationFrame(()=>{l.value={...l.value,...r.value,...N(t.value)}})}}),x(i,o=>{n.value||(l.value={...l.value,...o===0?{display:"none"}:{transition:"none",height:`${o}px`}})}),(o,v)=>(H(),M(F(s.as),{ref_key:"collapseRef",ref:t,style:j(l.value),onTransitionend:S,"data-collapse":u.value},{default:T(()=>[V(o.$slots,"default",L(R({state:u.value})))]),_:3},40,["style","data-collapse"]))}}),D=g({components:{vCollapse:K},props:{modelValue:{type:Boolean,default:!1},isNav:{type:Boolean,default:!1}},models:{prop:"modelValue",event:"update:modelValue"},emits:["update:modelValue"],setup(e){const a=Q(e),s=k(E,void 0,!0),n=m("(min-width: 1024px)"),i=m("(min-width: 768px)"),r=m("(min-width: 640px)"),p=c(()=>{var u,l,d;return((u=s==null?void 0:s.toggleable)==null?void 0:u.value)==="lg"?n.value:((l=s==null?void 0:s.toggleable)==null?void 0:l.value)==="md"?i.value:((d=s==null?void 0:s.toggleable)==null?void 0:d.value)==="sm"?r.value:a.value}),t=c(()=>{const u=[""];return a.value?u.push("collapse--show"):u.push("collapse--hide"),e.isNav&&u.push("navbar--collapse"),u});return{model:a,classNames:t,isToggleable:p}}});function U(e,a,s,n,i,r){const p=O("v-collapse");return H(),M(p,{"data-testid":"collapse",class:P(["collapses",e.classNames]),when:e.model||e.isToggleable},{default:T(()=>[V(e.$slots,"default")]),_:3},8,["class","when"])}const ee=G(D,[["render",U]]);export{ee as p};
