import{u as j}from"./index.o_V-6OuU.js";import{N as D}from"./index.kUlPVz_D.js";import{c as b}from"./index.qBuwFeCX.js";import{d as z,ab as A,l as h,r as x,I as E,m as G,z as R,o as M,f as T,w as V,ah as J,ai as K,a as q,R as L,L as Q,P as Y,n as O,q as m}from"./framework.ia1RVXQM.js";const k="--vc-auto-duration",U=`height var(${k}) cubic-bezier(0.33, 1, 0.68, 1)`,g={padding:0},W=300,X={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:"0"};function $(a){return a.value?parseFloat(getComputedStyle(a.value).height):0}function B(a){var l;return{height:`${((l=a.value)==null?void 0:l.scrollHeight)||0}px`}}function F(a){if(!a.value)return{};const{transition:l}=getComputedStyle(a.value);return l==="all 0s ease 0s"?{transition:U}:{transition:l}}function H(a){if(!a.value)return!0;const{transition:l}=getComputedStyle(a.value);return typeof window.requestAnimationFrame>"u"||matchMedia("(prefers-reduced-motion: reduce)").matches||l.includes("none")||l.includes("height 0s")}function Z(a=0){if(a===0)return 0;const l=a/36,o=Math.round((4+15*l**.25+l/5)*10);return Number.isFinite(o)?o:0}const ee=z({inheritAttrs:!0,__name:"Collapse",props:{when:{type:Boolean},baseHeight:{default:0},as:{default:"div"}},emits:["collapse","expand","collapsed","expanded"],setup(a,{emit:l}){const o=a,n=l,i=A(o,"when"),u=A(o,"baseHeight"),d=h(()=>({overflow:"hidden",height:`${u.value}px`})),p=h(()=>({...g,...u.value===0?{display:"none"}:d.value})),t=x(null),s=x(i.value?"expanded":"collapsed"),r=e=>s.value=e;function f(){return i.value?g:u.value===0?X:p.value}const w=E(f()),c=e=>w.value=e,v=e=>c({...w.value,...e}),_=x(W),I=e=>_.value=e,C=h(()=>({[k]:`${_.value}ms`}));function S(){c(g),r("expanded"),n("expanded")}function N(){c(p.value),r("collapsed"),n("collapsed")}G(()=>{if(!t.value)return;const e=Z(t.value.scrollHeight-u.value);e>0&&I(e),!i.value&&u.value===0&&c(p.value)}),R(i,e=>{if(e){if(H(t))return S();r("expanding"),n("expand"),c({...g,...d.value,...C.value}),requestAnimationFrame(()=>{v({...B(t),...F(t),willChange:"height"})})}else{if(H(t))return N();r("collapsing"),n("collapse"),v({...C.value,...B(t)}),requestAnimationFrame(()=>{v({...d.value,...F(t),willChange:"height"})})}}),R(u,e=>{i.value||(e>0?v({display:void 0,height:`${e}px`}):v({display:"none"}))});function P(e){var y;e.target===t.value&&e.propertyName==="height"&&(i.value?((y=t.value)==null?void 0:y.scrollHeight)===$(t)&&S():u.value===$(t)&&N())}return(e,y)=>(M(),T(Q(o.as),{ref_key:"collapseRef",ref:t,style:L(w.value),onTransitionend:P,"data-collapse":s.value},{default:V(()=>[q(e.$slots,"default",K(J({state:s.value})))]),_:3},40,["style","data-collapse"]))}}),se=z({__name:"Collapse",props:{modelValue:{type:Boolean,default:!1},isNav:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(a){const l=a,o=j(l),n=Y(D,void 0,!0),i=b("(min-width: 1024px)"),u=b("(min-width: 768px)"),d=b("(min-width: 640px)"),p=h(()=>{var s,r,f;return((s=n==null?void 0:n.toggleable)==null?void 0:s.value)==="lg"?i.value:((r=n==null?void 0:n.toggleable)==null?void 0:r.value)==="md"?u.value:((f=n==null?void 0:n.toggleable)==null?void 0:f.value)==="sm"?d.value:o.value}),t=h(()=>{const s=[""];return o.value?s.push("collapse--show"):s.push("collapse--hide"),l.isNav&&s.push("navbar--collapse"),s});return(s,r)=>(M(),T(m(ee),{"data-testid":"collapse",class:O(["collapses",m(t)]),when:m(o)||m(p)},{default:V(()=>[q(s.$slots,"default")]),_:3},8,["class","when"]))}});export{se as _};
