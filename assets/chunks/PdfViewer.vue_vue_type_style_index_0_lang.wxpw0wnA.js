import{I as b,r as _,al as pe,a0 as X,Z as K,z as E,q as o,P as Y,a6 as me,l as L,A as ge,_ as ye,o as F,c as I,p as m,d as W,K as x,w as V,t as B,a8 as _e,m as se,ab as M,b as we,ac as ce,a as j,ad as xe,af as Z,T as Pe,n as be}from"./framework.ZrRw_Qa4.js";import{v as le}from"./index.vEti7fPt.js";import{i as ue,e as oe,j as Ee,k as Se,h as ie}from"./index.9qvRhOkO.js";import{n as H}from"./noop.Uu3q6ZSj.js";import{I as $e,a as De}from"./20.CgOzeHrF.js";import{I as Ce}from"./20.Rn3ISMdJ.js";import{_ as U}from"./Button.vue_vue_type_script_setup_true_lang.-nAr7aEh.js";import"./Button.vue_vue_type_style_index_0_lang.w40geAFS.js";import{_ as Te}from"./Divider.vue_vue_type_script_setup_true_lang.0DonRxQ_.js";import"./Divider.vue_vue_type_style_index_0_lang.w40geAFS.js";import{_ as ke}from"./Select.vue_vue_type_style_index_0_lang.PzIfwB6X.js";import{_ as Ne}from"./Heading.vue_vue_type_script_setup_true_lang.snRJ2Wz3.js";import"./Heading.vue_vue_type_style_index_0_lang.w40geAFS.js";import{t as Oe,p as Ve,q as Le,u as je,r as q,c as ze,b as Fe,s as ne}from"./index.eYkV4jq0.js";import{f as Ie}from"./focus.NIKnC2ei.js";import{u as G}from"./index.FkEYMZ7H.js";import{d as Me}from"./debounce.pZZBdQwa.js";import{r as Be}from"./baseGetTag.IiKF_g5t.js";import{t as Re}from"./toInteger.ndo2zcSZ.js";import{t as We}from"./toNumber._iUOfnSi.js";import{t as re}from"./toString.H12QvfU5.js";import{u as Ae}from"./use-loading.kzZzrDX6.js";var He=Be.isFinite,Ue=Math.min;function Ge(e){var n=Math[e];return function(i,t){if(i=We(i),t=t==null?0:Ue(Re(t),292),t&&He(i)){var a=(re(i)+"e").split("e"),r=n(a[0]+"e"+(+a[1]+t));return a=(re(r)+"e").split("e"),+(a[0]+"e"+(+a[1]-t))}return n(i)}}var Je=Ge("round");const Ze=Je,qe=Symbol("DropzoneContext");function Xe(e,n){const i=b(!0),t=b(),a=_(),r=_();async function s(){if(g(),e.value){const{default:f}=await K(()=>import("./interact.min.TiAAXXyb.js").then(l=>l.i),__vite__mapDeps([0,1,2]));f.dynamicDrop(!0),t.value=f(n.value,{context:e.value}).dropzone({accept:".pdf-object",overlap:.95,enabled:i.value,checker(l,u,h,v,D,w,y){var P;return h&&(((P=e.value)==null?void 0:P.contains(y))||y.classList.contains("pdf-object--external"))},ondragenter(l){r.value=l.target,l.target.classList.add("hover")},ondragleave(l){l.target.classList.remove("hover")},ondrop(l){r.value=l.target,a.value=l.target,l.target.classList.remove("hover")}})}}function g(){t.value&&t.value.unset()}return ue(e,f=>{f.some(u=>u.type==="childList"&&u.target.matches(n.value))&&s()},{subtree:!0,childList:!0}),pe(()=>{g()}),X(qe,{dropzone:a,hoverzone:r}),i}function Ke(e,n=document.body,i=!1){const t=b();function a(){var r,s;t.value=i?(r=o(n))==null?void 0:r.querySelectorAll(o(e)):(s=o(n))==null?void 0:s.querySelector(o(e))}return E(()=>o(e),()=>{a()}),ue(n,r=>{r.some(s=>s.type==="childList")&&a()},{childList:!0,subtree:!0}),Oe(()=>{a()}),t}const Q=Symbol("PDFObjects"),oa=Symbol("PDFObjects");function Ye(e){var f,l,u,h;const n=L(()=>Ze(e.width/e.height,2)),i=_((f=e.minWidth)!=null?f:e.width*.5),t=_((l=e.maxWidth)!=null?l:e.width*2),a=_((u=e.minHeight)!=null?u:e.height*.5),r=_((h=e.maxHeight)!=null?h:e.height*2),s=G(e.width,i,t),g=G(e.height,a,r);return E(()=>e.minWidth,v=>{Number.isFinite(v)&&(i.value=v)}),E(()=>e.minHeight,v=>{Number.isFinite(v)&&(a.value=v)}),E(()=>e.maxWidth,v=>{Number.isFinite(v)&&(t.value=v)}),E(()=>e.maxHeight,v=>{Number.isFinite(v)&&(r.value=v)}),{ratio:n,width:s,height:g,minWidth:i,maxWidth:t,minHeight:a,maxHeight:r}}function ia(e){var w;const{objects:n,page:i}=Y(Q),t=_((w=e.page)!=null?w:i.value),a=_(e.x),r=_(e.y),s=Symbol("PDFObject"),{width:g,height:f,minWidth:l,maxWidth:u,minHeight:h,maxHeight:v,ratio:D}=Ye(e);return n.set(s,me({id:s,page:t,x:a,y:r,width:g,height:f})),Ve(()=>{Number.isFinite(t.value)||je(i).toBeTruthy().then(()=>{t.value=i.value})}),Le(()=>{n.delete(s)}),{id:s,x:a,y:r,page:t,width:g,height:f,minWidth:l,minHeight:h,maxWidth:u,maxHeight:v,ratio:D}}function na(e){const{root:n}=Y(Q),i=L(()=>`.page[data-page-number="${o(e)}"]`);return Ke(i,n)}const ra=Me(Ie,100),de=Symbol("PdfViewer");function he(){return Y(de,()=>{const e=_(1),n=_(1),i=_(0);return{page:e,scale:n,totalPage:i,zoomIn:H,zoomOut:H,next:H,prev:H}},!0)}function Qe(e,n={}){const i=_(!1),t=L(()=>{var h;return(h=o(n.offsetTop))!=null?h:0}),a=L(()=>{var h;return(h=o(e))==null?void 0:h.parentElement}),{top:r,height:s}=oe(a),{top:g,width:f,left:l}=oe(e),{height:u}=Ee();return ge(h=>{i.value&&e.value&&(r.value-t.value>=0?(e.value.style.setProperty("height",`${u.value-g.value}px`),e.value.style.setProperty("width","100%")):(a.value.style.setProperty("min-height",`${s.value}px`),e.value.style.setProperty("position","fixed"),e.value.style.setProperty("top",`${t.value}px`),e.value.style.setProperty("left",`${l.value}px`),e.value.style.setProperty("width",`${f.value}px`),e.value.style.setProperty("height",`${u.value-t.value}px`)),h(()=>{a.value.style.removeProperty("min-height"),e.value.style.removeProperty("position"),e.value.style.removeProperty("top"),e.value.style.removeProperty("left"),e.value.style.removeProperty("width"),e.value.style.removeProperty("height")}))}),i}const et={},tt={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"none",class:"persona-icon",viewBox:"0 0 20 20"},at=m("path",{fill:"currentColor","fill-rule":"evenodd",d:"M4.673 12.83a.575.575 0 0 1 0-.821l4.91-4.839a.595.595 0 0 1 .834 0l4.91 4.839c.23.226.23.594 0 .82a.595.595 0 0 1-.833 0L10 8.403 5.506 12.83a.595.595 0 0 1-.833 0","clip-rule":"evenodd"},null,-1),ot=[at];function it(e,n){return F(),I("svg",tt,ot)}const nt=ye(et,[["render",it]]),rt={"data-testid":"pdf-navigation",class:"pdf__navigation"},st={class:"pdf__navigation-container"},ct={class:"pdf__navigation-scale"},lt={"data-testid":"pdf-total",class:"pdf__navigation-total"},ut=W({__name:"PdfNavigation",setup(e){const{page:n,scale:i,totalPage:t,zoomIn:a,zoomOut:r,next:s,prev:g}=he(),f=L(()=>Array.from({length:t.value}).map((l,u)=>({text:`${u+1}`,value:u+1})));return(l,u)=>(F(),I("div",rt,[m("div",st,[x(U,{"data-testid":"pdf-zoom-out",variant:"ghost",size:"xs",icon:"",onClick:o(r)},{default:V(()=>[x($e)]),_:1},8,["onClick"]),m("span",ct,B((o(i)*100).toFixed(0))+"% ",1),x(U,{"data-testid":"pdf-zoom-in",variant:"ghost",size:"xs",icon:"",onClick:o(a)},{default:V(()=>[x(De)]),_:1},8,["onClick"]),x(Te,{vertical:""}),x(ke,{modelValue:o(n),"onUpdate:modelValue":u[0]||(u[0]=h=>_e(n)?n.value=h:null),options:o(f),size:"xs"},null,8,["modelValue","options"]),m("span",lt,"of "+B(o(t)),1),x(U,{"data-testid":"pdf-prev",variant:"ghost",size:"xs",icon:"",onClick:o(g)},{default:V(()=>[x(nt)]),_:1},8,["onClick"]),x(U,{"data-testid":"pdf-next",variant:"ghost",size:"xs",icon:"",onClick:o(s)},{default:V(()=>[x(Ce)]),_:1},8,["onClick"])])]))}}),dt="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='595'%20height='842'%20aria-labelledby='loading-aria'%20preserveAspectRatio='none'%20role='img'%20viewBox='0%200%20595%20842'%3e%3ctitle%20id='loading-aria'%3eLoading...%3c/title%3e%3crect%20width='100%25'%20height='100%25'%20x='0'%20y='0'%20clip-path='url(%23clip-path)'%20style='fill:url(%23fill)'/%3e%3cdefs%3e%3cclipPath%20id='clip-path'%3e%3crect%20width='191'%20height='14'%20x='44'%20y='64'%20rx='2.068'/%3e%3crect%20width='140'%20height='14'%20x='44'%20y='94'%20rx='2.068'/%3e%3crect%20width='507'%20height='14'%20x='44'%20y='152'%20rx='7'/%3e%3crect%20width='507'%20height='14'%20x='44'%20y='182'%20rx='7'/%3e%3crect%20width='507'%20height='14'%20x='44'%20y='212'%20rx='7'/%3e%3crect%20width='507'%20height='14'%20x='44'%20y='242'%20rx='7'/%3e%3crect%20width='507'%20height='14'%20x='44'%20y='272'%20rx='7'/%3e%3crect%20width='507'%20height='14'%20x='44'%20y='302'%20rx='7'/%3e%3crect%20width='349'%20height='14'%20x='44'%20y='332'%20rx='7'/%3e%3crect%20width='507'%20height='14'%20x='44'%20y='390'%20rx='7'/%3e%3crect%20width='507'%20height='14'%20x='44'%20y='420'%20rx='7'/%3e%3crect%20width='507'%20height='14'%20x='44'%20y='450'%20rx='7'/%3e%3crect%20width='507'%20height='14'%20x='44'%20y='480'%20rx='7'/%3e%3crect%20width='507'%20height='14'%20x='44'%20y='510'%20rx='7'/%3e%3crect%20width='507'%20height='14'%20x='44'%20y='540'%20rx='7'/%3e%3crect%20width='183'%20height='14'%20x='44'%20y='570'%20rx='7'/%3e%3crect%20width='191'%20height='14'%20x='360'%20y='628'%20rx='2.068'/%3e%3crect%20width='140'%20height='14'%20x='411'%20y='678'%20rx='2.068'/%3e%3crect%20width='191'%20height='14'%20x='44'%20y='64'%20rx='2.068'/%3e%3crect%20width='140'%20height='14'%20x='44'%20y='94'%20rx='2.068'/%3e%3crect%20width='507'%20height='14'%20x='44'%20y='152'%20rx='7'/%3e%3crect%20width='507'%20height='14'%20x='44'%20y='182'%20rx='7'/%3e%3crect%20width='507'%20height='14'%20x='44'%20y='212'%20rx='7'/%3e%3crect%20width='507'%20height='14'%20x='44'%20y='242'%20rx='7'/%3e%3crect%20width='507'%20height='14'%20x='44'%20y='272'%20rx='7'/%3e%3crect%20width='507'%20height='14'%20x='44'%20y='302'%20rx='7'/%3e%3crect%20width='349'%20height='14'%20x='44'%20y='332'%20rx='7'/%3e%3crect%20width='507'%20height='14'%20x='44'%20y='390'%20rx='7'/%3e%3crect%20width='507'%20height='14'%20x='44'%20y='420'%20rx='7'/%3e%3crect%20width='507'%20height='14'%20x='44'%20y='450'%20rx='7'/%3e%3crect%20width='507'%20height='14'%20x='44'%20y='480'%20rx='7'/%3e%3crect%20width='507'%20height='14'%20x='44'%20y='510'%20rx='7'/%3e%3crect%20width='507'%20height='14'%20x='44'%20y='540'%20rx='7'/%3e%3crect%20width='183'%20height='14'%20x='44'%20y='570'%20rx='7'/%3e%3crect%20width='191'%20height='14'%20x='360'%20y='628'%20rx='2.068'/%3e%3crect%20width='140'%20height='14'%20x='411'%20y='678'%20rx='2.068'/%3e%3c/clipPath%3e%3clinearGradient%20id='fill'%3e%3cstop%20offset='.6'%20stop-color='%23E7E7E8'%20stop-opacity='1'%3e%3canimate%20attributeName='offset'%20dur='2s'%20keyTimes='0;%200.25;%201'%20repeatCount='indefinite'%20values='-2;%20-2;%201'/%3e%3c/stop%3e%3cstop%20offset='1.6'%20stop-color='%23CFCFD1'%20stop-opacity='1'%3e%3canimate%20attributeName='offset'%20dur='2s'%20keyTimes='0;%200.25;%201'%20repeatCount='indefinite'%20values='-1;%20-1;%202'/%3e%3c/stop%3e%3cstop%20offset='2.6'%20stop-color='%23E7E7E8'%20stop-opacity='1'%3e%3canimate%20attributeName='offset'%20dur='2s'%20keyTimes='0;%200.25;%201'%20repeatCount='indefinite'%20values='0;%200;%203'/%3e%3c/stop%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",ht={"data-testid":"pdf-loading",class:"pdf__loading"},ft=["src"],vt=W({__name:"PdfLoading",setup(e){return(n,i)=>(F(),I("div",ht,[m("img",{src:o(dt),width:"793",height:"1122"},null,8,ft)]))}});let R,z;async function ee(){if(!R){const e=await K(()=>import("./pdf.nkTdrX9W.js").then(n=>n.p),__vite__mapDeps([3,1,2,4]));typeof window<"u"&&"Worker"in window&&(e.GlobalWorkerOptions.workerSrc=`https://cdn.jsdelivr.net/npm/pdfjs-dist@${e.version}/build/pdf.worker.min.js`),R=e}return R}async function te(){return await ee(),z||(z=await K(()=>import("./pdf_viewer.VwnEKoMa.js").then(e=>e.p),__vite__mapDeps([5,1,2]))),z}async function pt(...e){return await ee(),R.getDocument(...e)}async function mt(){return`https://cdn.jsdelivr.net/npm/pdfjs-dist@${await fe()}/cmaps/`}async function fe(){return await ee(),R.version}async function gt(){return await te(),new z.EventBus}async function yt(...e){return await te(),new z.PDFViewer(...e)}async function _t(...e){return await te(),new z.PDFLinkService(...e)}const wt={"data-testid":"pdf-error",class:"pdf__error"},xt={class:"mt-7"},Pt=m("dt",null,"URL:",-1),bt={class:"truncate"},Et=["href"],St=m("dt",null," Reason: ",-1),$t=m("dt",null," PDFJS Version: ",-1),Dt=W({__name:"PdfError",props:{url:{type:String,default:""},error:{type:Object,default:()=>({})}},setup(e){const n=_("");return se(async()=>{n.value=await fe()}),(i,t)=>M((F(),I("div",wt,[x(Ne,{element:"h3"},{default:V(()=>[we(" Failed to load PDF ")]),_:1}),m("dl",xt,[Pt,m("dd",bt,[m("a",{href:e.url,target:"_blank"},[m("code",null,B(e.url),1)],8,Et)]),St,m("dd",null,[m("code",null,B(e.error.message),1)]),$t,m("dd",null,[m("code",null,B(o(n)),1)])])])),[[o(le),1122/793]])}}),Ct=["mousemove","mousedown","touchstart","keydown","scroll"];function Tt(e,n=5e3){const i=_(!1);let t;function a(){i.value=!1,t&&clearTimeout(t),t=setTimeout(()=>{i.value=!0},n)}return Se(e,Ct,a,{passive:!0}),i}const kt=W({__name:"PdfObjects",props:{dropTarget:{type:String,default:".pdfViewer > .page"}},setup(e){const n=e,i=new Map,t=_(),a=he(),r=ce(n,"dropTarget");return Xe(t,r),X(Q,{...a,objects:i,root:t}),(s,g)=>(F(),I("div",{ref_key:"root",ref:t,class:"pdf-objects","data-testid":"pdf-objects"},[j(s.$slots,"default")],512))}});function Nt(e,n){const i=b(),t=b(),a=b(),r=b(),s=b(),g=L(()=>{var c,d;return(d=(c=i.value)==null?void 0:c.numPages)!=null?d:0}),f=G(1,.1,2),l=G(1,1,g),u=Ae(),h=b(!1),v=b(),D=q(),w=q(),y=q();async function P(c,d,S={}){u.value=!0,v.value=void 0;try{await C(),c&&(r.value=await pt({url:c,password:d,cMapUrl:await mt(),cMapPacked:!0,disableStream:S.disableStream,disableRange:S.disableRange}),i.value=await r.value.promise,a.value.setDocument(i.value),s.value.setDocument(i.value),D.trigger(i.value))}catch($){$ instanceof Error&&(v.value=$,w.trigger($))}finally{u.value=!1}}async function C(){var c,d;r.value&&!r.value.destroyed&&(await r.value.destroy(),i.value=void 0,r.value=void 0,(c=a.value)==null||c.setDocument(null),(d=s.value)==null||d.setDocument(null))}async function J(){if(typeof navigator<"u"&&e.value&&n.value){const c=await gt();c.on("pagesinit",()=>{var $,A;const d=(A=($=n.value)==null?void 0:$.clientWidth)!=null?A:0,S=d>0&&d<793;a.value.currentScaleValue=S?"page-width":"1",a.value.currentPageNumber=l.value,h.value=!0,y.trigger(a.value)}),c.on("pagechanging",d=>{l.value=d.pageNumber}),c.on("scalechanging",d=>{f.value=d.scale}),t.value=c,s.value=await _t({eventBus:t.value}),a.value=await yt({container:e.value,viewer:n.value,eventBus:t.value,linkService:s.value,removePageBorders:!0,annotationEditorMode:-1}),s.value.setViewer(a.value)}}return E([e,n],async([c,d])=>{a.value?c&&d&&(a.value.container=c,a.value.viewer=d,i.value&&a.value.setDocument(i.value),a.value.update()):await J()}),E(l,c=>{a.value&&c!==a.value.currentPageNumber&&(a.value.currentPageNumber=c)}),E(f,c=>{a.value&&c!==a.value.currentScale&&(a.value.currentScale=c)}),xe(async()=>{var c;await C(),(c=a.value)==null||c.cleanup()}),{page:l,scale:f,totalPage:g,loading:u,error:v,ready:h,openDoc:P,closeDoc:C,pdfDoc:i,pdfEventBus:t,pdfViewer:a,pdfLoadingTask:r,pdfLinkService:s,onLoaded:D.on,onError:w.on,onReady:y.on}}const Ot=["data-page","data-scale"],Vt={class:"pdf__header"},Lt={class:"pdf__footer"},sa=W({__name:"PdfViewer",props:{src:{type:String,default:""},page:{type:Number,default:1},scale:{type:Number,default:1},password:{type:String,default:void 0},layout:{type:String,default:"fixed"},ratio:{type:[Number,String],default:210/297},offsetTop:{type:[Number,String],default:0},config:{type:[Object],default:()=>({})}},emits:["ready","loaded","error","error-password","update:page","update:scale"],setup(e,{expose:n,emit:i}){const t=e,a=i,r=_(),s=_(),g=_(),f=Tt(s),l=ie(t,"page"),u=ie(t,"scale"),h=ze(ce(t,"offsetTop"),{nanToZero:!0}),v=Qe(r,{offsetTop:h}),D=L(()=>{const p=[];return t.layout&&p.push(`pdf-viewer--layout-${t.layout}`),p}),{page:w,scale:y,totalPage:P,openDoc:C,closeDoc:J,pdfDoc:c,loading:d,error:S,onLoaded:$,onError:A,onReady:ve}=Nt(s,g);Fe(()=>[t.src,t.password],([p,ae])=>{C(p,ae,t.config)},{debounce:500}),E(()=>t.layout,p=>{v.value=p==="fit"},{immediate:!0}),se(async()=>{t.src&&C(t.src,t.password,t.config)}),$(p=>{a("loaded",p)}),A(p=>{p.name==="PasswordException"&&a("error-password",p),a("error",p)}),ve(p=>{a("ready",p)});function T(){y.value=Math.round(y.value/.1)*.1+.1}function k(){y.value=Math.round(y.value/.1)*.1-.1}function N(){w.value++}function O(){w.value--}return X(de,{page:w,scale:y,totalPage:P,zoomIn:T,zoomOut:k,next:N,prev:O}),ne(w,l),ne(y,u),n({page:w,scale:y,root:r,container:s,viewer:g,loading:d,totalPage:P,zoomIn:T,zoomOut:k,next:N,prev:O,openDoc:C,closeDoc:J}),(p,ae)=>M((F(),I("div",{ref_key:"root",ref:r,"data-testid":"pdf-viewer",class:be(["pdf",o(D)]),"data-page":o(w),"data-scale":o(y)},[m("div",Vt,[j(p.$slots,"header",{page:o(w),scale:o(y),totalPage:o(P),zoomIn:T,zoomOut:k,next:N,prev:O,doc:o(c)})]),x(kt,{class:"pdf__wrapper"},{default:V(()=>[m("div",{ref_key:"container",ref:s,class:"pdf__container pdfContainer"},[M(x(vt,null,null,512),[[Z,o(d)||!e.src]]),M(x(Dt,{url:e.src,error:o(S)},null,8,["url","error"]),[[Z,!o(d)&&o(S)]]),m("div",{ref_key:"viewer",ref:g,class:"pdf__viewer pdfViewer"},null,512),j(p.$slots,"default",{page:o(w),scale:o(y),totalPage:o(P),zoomIn:T,zoomOut:k,next:N,prev:O,doc:o(c)})],512),j(p.$slots,"container",{page:o(w),scale:o(y),totalPage:o(P),zoomIn:T,zoomOut:k,next:N,prev:O,doc:o(c)}),x(Pe,{name:"slide-up"},{default:V(()=>[M(x(ut,null,null,512),[[Z,!o(f)&&!o(d)&&!o(S)]])]),_:1}),j(p.$slots,"body",{page:o(w),scale:o(y),totalPage:o(P),zoomIn:T,zoomOut:k,next:N,prev:O,doc:o(c)})]),_:3}),m("div",Lt,[j(p.$slots,"footer",{page:o(w),scale:o(y),totalPage:o(P),zoomIn:T,zoomOut:k,next:N,prev:O,doc:o(c)})])],10,Ot)),[[o(le),e.layout==="fixed"?Number(e.ratio):0]])}});export{qe as D,oa as P,sa as _,na as a,Q as b,ra as f,ia as u};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/chunks/interact.min.TiAAXXyb.js","assets/chunks/theme.D4dl_ohh.js","assets/chunks/framework.ZrRw_Qa4.js","assets/chunks/pdf.nkTdrX9W.js","assets/chunks/vite-browser-external_commonjs-proxy.133x9P29.js","assets/chunks/pdf_viewer.VwnEKoMa.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
