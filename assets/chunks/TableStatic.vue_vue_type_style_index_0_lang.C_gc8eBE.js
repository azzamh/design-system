import{a as T,b as w,c as U}from"./index.BIRRRT9W.js";import{_ as C}from"./Checkbox.vue_vue_type_script_setup_true_lang.XR4Hk9na.js";/* empty css                                                 */import{d as j,c as s,m as b,a as m,n as u,O as $,o as l,l as y,g as A,w as S,p as o,h,K as k,aa as p,G as B,H as L,R as K,b as N,f as v}from"./framework.Co3D4XSo.js";import{u as z}from"./index.DFE7H4fl.js";import{D as I,I as x}from"./vuedraggable.umd.CWLvQEZp.js";const E=j({inheritAttrs:!1,__name:"TableStaticRoot",props:{scrollable:{type:Boolean,default:!0},tableClass:{type:[String,Array,Object],default:void 0}},setup(e){return(n,r)=>e.scrollable?(l(),s("div",$({key:0,class:"table-static"},n.$attrs),[b("table",{class:u(["table-static__table",e.tableClass])},[m(n.$slots,"default")],2)],16)):(l(),s("table",$({key:1,class:["table-static__table",e.tableClass]},n.$attrs),[m(n.$slots,"default")],16))}}),F={key:0,class:"table-static__headers"},G={key:0,class:"table-static__header table-static__drag"},H={key:1,class:"table-static__header table-static__checkbox"},M=["data-header"],P={key:0,class:"table-static__cell table-static__drag","data-testid":"table-static-drag-handle"},q={key:1,class:"table-static__cell table-static__checkbox"},J=["data-cell"],Q={key:2,class:"table-static__body"},W={class:"table-static__row"},X=["colspan"],Y={class:"flex items-center justify-center text-subtle dark:text-dark-subtle"},re=j({__name:"TableStatic",props:{apperance:{type:String,default:"table"},modelValue:{type:Array,default:()=>[]},fields:{type:Array,default:()=>[]},items:{type:Array,default:()=>[]},selectable:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},emptyLabel:{type:String,default:"There are no records to show"},noLabel:{type:Boolean,default:!1},tableClass:{type:[String,Array,Object],default:void 0},trClass:{type:[String,Array,Object],default:void 0},scrollable:{type:Boolean,default:!0}},emits:["update:modelValue","update:items"],setup(e,{emit:n}){const r=e,i=z(r),D=n,f=y({get(){return r.items.map(t=>U(t))},set(t){D("update:items",t)}}),O=y(()=>{const t=["table-static"];return r.apperance&&t.push(`table-static--${r.apperance}`),r.selectable&&t.push("table-static--selectable"),r.draggable&&t.push("table-static--draggable"),r.noLabel&&t.push("table-static--no-label"),r.scrollable&&t.push("table-static--scrollable"),t}),_=y(()=>r.items.filter(t=>t._selectable!==!1)),g=y({get(){return r.items.length===0?!1:i.value.length===_.value.length},set(t){g.value!==t&&(i.value=t?_.value.map(c=>w(c)):[])}}),R=y(()=>i.value.length>0&&i.value.length<_.value.length);return(t,c)=>(l(),A(E,{"data-testid":"table-static",scrollable:e.scrollable,class:u(o(O)),"table-class":e.tableClass},{default:S(()=>[e.noLabel?h("",!0):(l(),s("thead",F,[b("tr",{class:u(e.trClass)},[e.draggable?(l(),s("th",G)):h("",!0),e.selectable?(l(),s("th",H,[k(C,{modelValue:o(g),"onUpdate:modelValue":c[0]||(c[0]=a=>p(g)?g.value=a:null),"data-testid":"table-static-select-all",indeterminate:o(R)},null,8,["modelValue","indeterminate"])])):h("",!0),(l(!0),s(B,null,L(e.fields,a=>(l(),s("th",{key:a.key,class:u(["table-static__header",a.thClass]),"data-testid":"table-static-header",style:K(a.width?{width:o(T)(a.width)}:{}),"data-header":a.key},[m(t.$slots,`head(${a.key})`,{label:a.label,field:a},()=>[N(v(a.label),1)])],14,M))),128))],2)])),Array.isArray(e.items)&&e.items.length>0?(l(),A(o(I),{key:1,modelValue:o(f),"onUpdate:modelValue":c[2]||(c[2]=a=>p(f)?f.value=a:null),class:"table-static__body",handle:".table-static__drag","item-key":"_key",tag:"tbody",disabled:!e.draggable},{item:S(({element:a,index:V})=>[b("tr",{class:u(["table-static__row",e.trClass]),"data-role":"row"},[m(t.$slots,"row",{item:a,index:V},()=>[e.draggable?(l(),s("td",P,[k(x)])):h("",!0),e.selectable?(l(),s("td",q,[k(C,{modelValue:o(i),"onUpdate:modelValue":c[1]||(c[1]=d=>p(i)?i.value=d:null),"data-testid":"table-static-select",value:o(w)(a),disabled:a._selectable===!1},null,8,["modelValue","value","disabled"])])):h("",!0),(l(!0),s(B,null,L(e.fields,d=>(l(),s("td",{key:d.key,class:u(["table-static__cell",d.tdClass]),"data-testid":"table-static-cell","data-cell":d.key},[m(t.$slots,`cell(${d.key})`,{index:V,item:a},()=>[N(v(d.formatter(a[d.key],a)),1)])],10,J))),128))])],2)]),_:3},8,["modelValue","disabled"])):(l(),s("tbody",Q,[b("tr",W,[b("td",{colspan:e.selectable?e.fields.length+1:e.fields.length,"data-testid":"table-static-empty",class:"table-static__cell table-static__cell--empty datatable__state-empty"},[m(t.$slots,"empty",{},()=>[b("span",Y,v(e.emptyLabel),1)])],8,X)])]))]),_:3},8,["scrollable","class","table-class"]))}});export{re as _};
