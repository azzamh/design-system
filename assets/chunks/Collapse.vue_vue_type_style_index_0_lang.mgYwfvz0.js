import{u as Q}from"./index.54k4XcPr.js";import{N as j}from"./index.kUlPVz_D.js";import{d as k,a9 as B,l as v,r as w,H as D,m as E,z as R,o as F,f as T,w as V,an as G,ao as I,a as q,R as L,K as O,O as J,y,n as U,q as m}from"./framework.JO26iv-T.js";const K="--vc-auto-duration",W=`height var(${K}) cubic-bezier(0.33, 1, 0.68, 1)`,g={padding:0},X={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",border:"0"};function z(s){return s.value?parseFloat(getComputedStyle(s.value).height):0}function A(s){var o;var a;return{height:`${(o=(a=s.value)==null?void 0:a.scrollHeight)!=null?o:0}px`}}function H(s){if(!s.value)return{};const{transition:a}=getComputedStyle(s.value);return a==="all 0s ease 0s"?{transition:W}:{transition:a}}function M(s){if(!s.value)return!0;const{transition:a}=getComputedStyle(s.value);return matchMedia("(prefers-reduced-motion: reduce)").matches||a.includes("none")||a.includes("height 0s")}const Y=k({inheritAttrs:!0,__name:"Collapse",props:{when:{type:Boolean},baseHeight:{default:0},as:{default:"div"}},emits:["collapse","expand","collapsed","expanded"],setup(s,{emit:a}){const o=s,l=B(o,"when"),i=B(o,"baseHeight"),p=v(()=>({overflow:"hidden",height:`${i.value}px`})),h=v(()=>({...g,...i.value===0?{display:"none"}:p.value})),t=w(null),c=w(l.value?"expanded":"collapsed"),n=e=>c.value=e,r=D({}),u=e=>r.value=e,f=e=>u({...r.value,...e}),x=w(300),_=v(()=>({[K]:`${x.value}ms`}));function C(){u(g),n("expanded"),a("expanded")}function b(){u(h.value),n("collapsed"),a("collapsed")}function P(e){var d;e.target===t.value&&e.propertyName==="height"&&(l.value?((d=t.value)==null?void 0:d.scrollHeight)===z(t)&&C():i.value===z(t)&&b())}return E(()=>{if(!t.value)return;l.value||i.value!==0||u(X);const e=function(S=0){if(S===0)return 0;const N=S/36,$=Math.round(10*(4+15*N**.25+N/5));return Number.isFinite($)?$:0}(t.value.scrollHeight-i.value);var d;d=e<=0?300:e,x.value=d,u(l.value?g:h.value)}),R(l,e=>{if(e){if(M(t))return C();n("expanding"),a("expand"),u({...g,...p.value,..._.value}),requestAnimationFrame(()=>{f({...A(t),...H(t),willChange:"height"})})}else{if(M(t))return b();n("collapsing"),a("collapse"),f({..._.value,...A(t)}),requestAnimationFrame(()=>{f({...p.value,...H(t),willChange:"height"})})}}),R(i,e=>{l.value||f(e>0?{display:void 0,height:`${e}px`}:{display:"none"})}),(e,d)=>(F(),T(O(o.as),{ref_key:"collapseRef",ref:t,style:L(r.value),onTransitionend:P,"data-collapse":c.value},{default:V(()=>[q(e.$slots,"default",I(G({state:c.value})))]),_:3},40,["style","data-collapse"]))}}),le=k({__name:"Collapse",props:{modelValue:{type:Boolean,default:!1},isNav:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(s){const a=s,o=Q(a),l=J(j,void 0,!0),i=y("(min-width: 1024px)"),p=y("(min-width: 768px)"),h=y("(min-width: 640px)"),t=v(()=>{var n,r,u;return((n=l==null?void 0:l.toggleable)==null?void 0:n.value)==="lg"?i.value:((r=l==null?void 0:l.toggleable)==null?void 0:r.value)==="md"?p.value:((u=l==null?void 0:l.toggleable)==null?void 0:u.value)==="sm"?h.value:o.value}),c=v(()=>{const n=[""];return o.value?n.push("collapse--show"):n.push("collapse--hide"),a.isNav&&n.push("navbar--collapse"),n});return(n,r)=>(F(),T(m(Y),{"data-testid":"collapse",class:U(["collapses",m(c)]),when:m(o)||m(t)},{default:V(()=>[q(n.$slots,"default")]),_:3},8,["class","when"]))}});export{le as _};
