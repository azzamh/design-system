import{_ as R,o as l,c as b,m as $,d as I,a5 as M,P as q,r as h,l as C,I as G,y as F,a0 as H,g as y,w as k,p as i,a4 as A,a as v,K as z,h as S,b as L,f as j,L as J,T as K,t as Q,z as Y,n as V,ac as Z,ad as ee}from"./framework.BjhmxGx1.js";import{d as te,o as D}from"./index.C6_LL6lH.js";import{_ as oe}from"./Button.vue_vue_type_script_setup_true_lang.BnFchjFq.js";/* empty css                                               */import{_ as E,D as ne}from"./Dropdown.vue_vue_type_style_index_0_lang.DzR9VC0m.js";import{u as ae}from"./use-focus.BMEofKAE.js";import{a as se,c as le,f as de,s as ie,o as re,h as ue}from"./floating-ui.dom.Bv9LQ7l_.js";import{u as ce}from"./index.BUKJqaQF.js";import{I as pe}from"./20.Uozo7NRP.js";const fe={},ve={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",class:"persona-icon",viewBox:"0 0 16 16"},me=$("path",{fill:"currentColor","fill-rule":"evenodd",d:"M6.347 3.746a.5.5 0 0 1 .707 0l3.9 3.9a.5.5 0 0 1 0 .707l-3.9 3.9a.5.5 0 0 1-.707-.707L9.893 8 6.347 4.453a.5.5 0 0 1 0-.707","clip-rule":"evenodd"},null,-1),_e=[me];function we(t,g){return l(),b("svg",ve,_e)}const he=R(fe,[["render",we]]),ye={},be={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",class:"persona-icon",viewBox:"0 0 16 16"},ke=$("path",{fill:"currentColor","fill-rule":"evenodd",d:"M7.703 12.904a.5.5 0 0 1-.707 0l-4.55-4.55a.5.5 0 0 1 0-.707l4.55-4.55a.5.5 0 1 1 .707.707L4.007 7.5H13.2a.5.5 0 0 1 0 1H4.007l3.696 3.696a.5.5 0 0 1 0 .707","clip-rule":"evenodd"},null,-1),$e=[ke];function ge(t,g){return l(),b("svg",be,$e)}const Ce=R(ye,[["render",ge]]),P=Symbol("DropdownTree"),Se=$("div",{class:"dropdown__group-content"},null,-1),Be={class:"dropdown__subitem__content"},xe=I({__name:"DropdownSubitem",props:{text:{type:String,default:""},noCaret:{type:Boolean,default:!1}},emits:["click"],setup(t,{expose:g,emit:r}){var w;const m=M(),c=r,n=q(P,void 0,!0),_=h("slide-left"),p=C(()=>n===void 0),a=(w=n==null?void 0:n.tree)!=null?w:G({_level:0,slots:m}),o=()=>{a.value={_level:a.value._level+1,prev:a.value,slots:m}},f=()=>{a.value.prev&&(a.value=a.value.prev)},B=C(()=>a.value.slots.default),x=C(()=>!!(p.value&&a.value.prev));F(a,(s,d)=>{_.value=s._level>d._level?"slide-left":"slide-right"}),p.value&&H(P,{tree:a,next:o,back:f});function O(){p.value&&(a.value={prev:void 0,_level:0,slots:m})}function N(){const s=new MouseEvent("click");c("click",s),s.defaultPrevented||o()}return g({reset:O,next:o,back:f}),(s,d)=>(l(),y(K,{name:i(_),mode:"out-in"},{default:k(()=>[(l(),b("div",{key:i(a)._level,"data-testid":"dropdown-subitem",class:"dropdown__subitem"},[i(x)?(l(),y(E,{key:"btn-back","data-testid":"dropdown-back",class:"dropdown__subitem__btn dropdown__subitem__btn--back",onClick:d[0]||(d[0]=A(e=>f(),["prevent"]))},{default:k(()=>[v(s.$slots,"button-back",{},()=>[z(Ce,{class:"dropdown__subitem__next"}),Se])]),_:3})):S("",!0),i(p)?(l(),y(J(i(B)),{key:2})):(l(),y(E,{key:"btn-next",class:"dropdown__subitem__btn",onClick:A(N,["prevent"])},{default:k(()=>[$("div",Be,[v(s.$slots,"button-content",{next:o,back:f},()=>[L(j(t.text),1)])]),t.noCaret?S("",!0):(l(),y(he,{key:0,"data-testid":"dropdown-subitem-next",class:"dropdown__subitem__next"}))]),_:3}))]))]),_:3},8,["name"]))}}),De={key:0,class:"drowdown__menu__prepend"},ze={key:1,class:"drowdown__menu__append"},Me=I({models:{prop:"modelValue",event:"update:modelValue"},__name:"Dropdown",props:{modelValue:{type:Boolean,default:!1},text:{type:String,default:""},placement:{type:String,default:"bottom-start"},variant:{type:String,default:"solid"},color:{type:String,default:"default"},size:{type:String,default:"md"},icon:{type:Boolean,default:!1},pill:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},noCaret:{type:Boolean,default:!1},divider:{type:Boolean,default:!1},menuClass:{type:[String,Array,Object],default:void 0},buttonClass:{type:[String,Array,Object],default:void 0},menuSize:{type:String,default:"sm"},noAnimation:{type:Boolean,default:!1}},emits:["show","hide","update:modelValue"],setup(t,{expose:g}){const r=t,m=M(),c=h(),n=h(),_=h(),p=h(),a=Q(r,"placement"),o=ce(r),f=h(!1),{next:B,prev:x}=ae(_),O=C(()=>{const e=[""];return r.divider&&e.push("dropdown--divider"),r.menuSize&&e.push(`dropdown--menu-${r.menuSize}`),e}),N=C(()=>{const e=[""];return m.prepend&&e.push("dropdown__menu--has-prepend"),m.append&&e.push("dropdown__menu--has-append"),e});function w(){r.disabled||(o.value?d():s())}function s(){r.disabled||(o.value=!0)}function d(){r.disabled||(o.value=!1)}return te(n,()=>{o.value&&setTimeout(()=>{d()})},{ignore:[c]}),D("Escape",e=>{const u=e.target;o.value&&(d(),typeof u.blur=="function"&&u.blur())}),D(["ArrowUp"],e=>{o.value&&(e.preventDefault(),x())}),D(["ArrowDown"],e=>{o.value&&(e.preventDefault(),B())}),D(["Tab"],e=>{o.value&&(e.preventDefault(),e.shiftKey?x():B())}),Y(e=>{if(c.value&&n.value){const u=se(c.value,n.value,()=>{le(c.value,n.value,{strategy:"absolute",placement:a.value,middleware:[de(),ie(),re(8),ue()]}).then(({x:T,y:U,placement:W,middlewareData:X})=>{n.value&&(n.value.dataset.popperPlacement=W,n.value.style.left=`${T||0}px`,n.value.style.top=`${U||0}px`,f.value=X.hide.referenceHidden)})},{animationFrame:!0});e(u)}},{flush:"post"}),F(o,e=>{!e&&p.value&&p.value.reset()},{immediate:!0}),H(ne,{isOpen:o,toggle:w,open:s,close:d}),g({menuBody:_,menu:n,root:c,open:s,close:d}),(e,u)=>(l(),b("div",{ref_key:"root",ref:c,class:V(["dropdown",[{"dropdown--open":i(o),"dropdown--no-caret":t.noCaret},i(O)]]),"data-testid":"dropdown"},[v(e.$slots,"activator",{toggle:w,open:s,close:d,isOpen:i(o)},()=>[z(oe,{"data-testid":"dropdown-activator",class:V(["dropdown__activator",t.buttonClass]),variant:t.variant,color:t.color,size:t.size,icon:t.icon,pill:t.pill,disabled:t.disabled,onClick:A(w,["prevent"])},{default:k(()=>[v(e.$slots,"button-content",{},()=>[L(j(t.text),1)]),t.noCaret?S("",!0):(l(),y(pe,{key:0,class:"dropdown__caret","data-testid":"dropdown-caret"}))]),_:3},8,["class","variant","color","size","icon","pill","disabled"])]),z(K,{name:"fade",css:!t.noAnimation,onAfterEnter:u[0]||(u[0]=T=>e.$emit("show")),onAfterLeave:u[1]||(u[1]=T=>e.$emit("hide"))},{default:k(()=>[Z($("div",{ref_key:"menu",ref:n,"data-testid":"dropdown-menu",class:V(["dropdown__menu",[t.menuClass,i(N)]])},[e.$slots.prepend?(l(),b("div",De,[v(e.$slots,"prepend")])):S("",!0),$("div",{ref_key:"menuBody",ref:_,class:"dropdown__menu__body"},[z(xe,{ref_key:"wizard",ref:p,class:"dropdown__menu__container"},{default:k(()=>[v(e.$slots,"default")]),_:3},512)],512),e.$slots.append?(l(),b("div",ze,[v(e.$slots,"append")])):S("",!0)],2),[[ee,i(o)&&!i(f)]])]),_:3},8,["css"])],2))}});export{Me as _,xe as a};
