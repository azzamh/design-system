import{u as M}from"./index.7a96623d.js";import{N as T}from"./index.fe135e19.js";import{i as f}from"./theme.bdd572ce.js";import{m as B,t as b,c,r as h,s as z,o as k,w as x,x as S,A as V,B as q,q as F,af as j,ag as D,W as G,R as P,V as E,_ as I,L,v as Q}from"./framework.f14560cd.js";const R="--vc-auto-duration",W=`height var(${R}) cubic-bezier(0.33, 1, 0.68, 1)`,m={padding:0,border:0,margin:0};function $(e){var a;return{height:`${(a=e==null?void 0:e.scrollHeight)!=null?a:0}px`}}function A(e){if(!e)return{};const{transition:a}=getComputedStyle(e);return a==="all 0s ease 0s"?{transition:W}:{transition:a}}function N(e){if(!e)return!0;const{transition:a}=getComputedStyle(e);return window.matchMedia("(prefers-reduced-motion: reduce)").matches||a.includes("none")||a.includes("height 0s")}const J=B({__name:"Collapse",props:{when:{type:Boolean},baseHeight:{default:0},as:{default:"div"}},emits:["collapse","expand","collapsed","expanded"],setup(e,{emit:a}){const s=e,u=b(s,"when"),i=b(s,"baseHeight"),r=c(()=>({overflow:"hidden",height:`${i.value}px`})),v=c(()=>({...m,...i.value===0?{display:"none"}:r.value})),t=h(null),o=h(u.value?"expanded":"collapsed"),l=z(u.value?m:v.value),d=h(0),g=c(()=>({[R]:`${d.value}ms`}));function _(){t.value&&(u.value||i.value>0)&&(d.value=function(n=0){if(n===0)return 0;const p=n/36;return Math.round(10*(4+15*p**.25+p/5))}(t.value.scrollHeight-i.value))}function w(){l.value=m,o.value="expanded",a("expanded")}function y(){l.value=v.value,o.value="collapsed",a("collapsed")}function H(n){var p,C;n.target===t.value&&n.propertyName==="height"&&(u.value?((p=t.value)==null?void 0:p.scrollHeight)===parseFloat(n.target.style.height)&&w():((C=t.value)==null?void 0:C.style.height)===`${i.value}px`&&y())}return k(_),x(u,n=>{if(n){if(N(t.value))return w();l.value={...m,...r.value,willChange:"height"},requestAnimationFrame(()=>{_(),l.value={...l.value,...g.value},requestAnimationFrame(()=>{l.value={...l.value,...$(t.value),...A(t.value)},o.value="expanding",a("expand")})})}else{if(N(t.value))return y();requestAnimationFrame(()=>{l.value={...l.value,...g.value,...$(t.value),willChange:"height"},requestAnimationFrame(()=>{l.value={...l.value,...r.value,...A(t.value)},o.value="collapsing",a("collapse")})})}}),x(i,n=>{u.value||(l.value={...l.value,transitionDuration:"0s",height:`${n}px`})}),(n,p)=>(S(),V(P(s.as),{ref_key:"collapseRef",ref:t,style:G(l.value),onTransitionend:H,"data-collapse":o.value},{default:q(()=>[F(n.$slots,"default",j(D({state:o.value})))]),_:3},40,["style","data-collapse"]))}}),K=B({components:{vCollapse:J},props:{modelValue:{type:Boolean,default:!1},isNav:{type:Boolean,default:!1}},models:{prop:"modelValue",event:"update:modelValue"},emits:["update:modelValue"],setup(e){const a=M(e),s=E(T,void 0,!0),u=f("(min-width: 1024px)"),i=f("(min-width: 768px)"),r=f("(min-width: 640px)"),v=c(()=>{var o,l,d;return((o=s==null?void 0:s.toggleable)==null?void 0:o.value)==="lg"?u.value:((l=s==null?void 0:s.toggleable)==null?void 0:l.value)==="md"?i.value:((d=s==null?void 0:s.toggleable)==null?void 0:d.value)==="sm"?r.value:a.value}),t=c(()=>{const o=[""];return a.value?o.push("collapse--show"):o.push("collapse--hide"),e.isNav&&o.push("navbar--collapse"),o});return{model:a,classNames:t,isToggleable:v}}});function O(e,a,s,u,i,r){const v=L("v-collapse");return S(),V(v,{"data-testid":"collapse",class:Q(["collapses",e.classNames]),when:e.model||e.isToggleable},{default:q(()=>[F(e.$slots,"default")]),_:3},8,["class","when"])}const ee=I(K,[["render",O]]);export{ee as p};
