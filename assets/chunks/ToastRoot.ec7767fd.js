import{u as c,P as f,r as T,_ as d,M as m,v as i,f as u,I as b,j as h,y as _,D as v,C as y,h as l,aD as g,L as C,ad as S,a as x}from"./framework.408943e8.js";import{T as D}from"../components_toast_index.md.56bcb898.js";import{b as G}from"./baseClamp.947838b9.js";import{t as I,b as M}from"./toString.314d06e3.js";import{t as k}from"./toInteger.cccd26ae.js";import"./Button.8033dbfe.js";import"./Button.vue_vue_type_style_index_0_lang.2f520ef4.js";import"./index.a3ecab28.js";import"./16.6e38a2d9.js";import"./use-singleton.5a87af03.js";import"./isObjectLike.53b0037d.js";import"./isArray.513c67aa.js";import"./isSymbol.4326927f.js";import"./toNumber.09abc7f0.js";function w(t,o,s){return t=I(t),s=s==null?0:G(k(s),0,t.length),o=M(o),t.slice(s,s+o.length)==o}const L=c({components:{Toast:D},props:{position:{type:String,default:"bottom-left"}},setup(t){const o=f([]),s=T(()=>{const a=[];return t.position&&a.push(`toast-container--${t.position}`),a});function r(a){w(a.position,"bottom")?o.value.push({...a,_id:Symbol("id")}):o.value.unshift({...a,_id:Symbol("id")})}function n(a){o.value.splice(a,1)}return{add:r,remove:n,items:o,classNames:s}}});function N(t,o,s,r,n,a){const p=m("Toast");return i(),u("div",{"data-testid":"toast-container",class:l(["toast-container",t.classNames])},[b(g,{tag:"div",name:"toast"},{default:h(()=>[(i(!0),u(_,null,v(t.items,(e,$)=>(i(),y(p,{key:e._id,title:e.title,text:e.text,type:e.type,variant:e.variant,duration:e.duration,class:l(e.toastClass),onDismissed:H=>t.remove($)},null,8,["title","text","type","variant","duration","class","onDismissed"]))),128))]),_:1})],2)}const P=d(L,[["render",N]]),j=c({components:{ToastGroup:P},setup(){const t=C(new Map);async function o(s){var a;s.position||(s.position="bottom-left");const r=s.position;let n=t.value.get(r);n||(n={ref:f(),position:r},t.value.set(r,n),S(t),await x()),(a=n.ref.value)==null||a.at(0).add(s)}return{add:o,groups:t}}});function z(t,o,s,r,n,a){const p=m("ToastGroup");return i(),u("div",null,[(i(!0),u(_,null,v(t.groups.values(),e=>(i(),y(p,{key:e.position,ref_for:!0,ref:e.ref,position:e.position},null,8,["position"]))),128))])}const Y=d(j,[["render",z]]);export{Y as default};
