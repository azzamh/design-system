import{u as _,h as f,r as S,q as V,H as x,_ as h,a4 as w,a9 as b,v as p,b as d,F as g,z as C,a as E,d as M,al as T,M as z,a8 as q,p as H,s as O,C as P,O as U,V as j}from"./framework.f49100b7.js";import{t as v}from"./index.1db81050.js";import{u as k}from"./index.24520511.js";import{a as F,c as N,f as A,s as B,o as I,d as R}from"./floating-ui.dom.d66a0422.js";import{p as Z}from"./index.ed319991.js";import{t as G}from"./toString.314d06e3.js";import"./index.774a92e6.js";import"./marked.esm.bd0bcd16.js";import"./commonjsHelpers.de833af9.js";import"./vite-browser-external_commonjs-proxy.0726eb50.js";import"./isObjectLike.53b0037d.js";import"./isArray.513c67aa.js";import"./isSymbol.4326927f.js";var J=0;function K(e){var i=++J;return G(e)+i}const L=_({props:{modelValue:{type:Boolean,default:!1},color:{type:String,default:"black"},target:{type:Object,default:void 0},placement:{type:String,default:"top"}},models:{prop:"modelValue",event:"update:modelValue"},emits:["update:modelValue","show","hide"],setup(e,{emit:i}){const r=k(e),u=f(e,"placement"),l=f(e,"target"),s=v("tooltip"),n=v("arrow"),o=S(()=>{const t=[];return e.color&&t.push(`tooltip--${e.color}`),t});return V(r,t=>{i(t?"show":"hide",l.value)}),x(t=>{if(s.value&&l.value&&n.value){const a=F(l.value,s.value,()=>{N(l.value,s.value,{strategy:"absolute",placement:u.value,middleware:[A(),B(),I(12),R({element:n.value})]}).then(({x:c,y:$,middlewareData:m,placement:y})=>{s.value&&(s.value.dataset.popperPlacement=y,s.value.style.left=`${c||0}px`,s.value.style.top=`${$||0}px`),n.value&&(n.value.style.left=`${m.arrow.x}px`,n.value.style.top=`${m.arrow.y}px`)})});t(a)}},{flush:"post"}),{isShow:r,classNames:o}}});const Q={ref:"arrow",class:"tooltip__arrow","data-popper-arrow":""};function W(e,i,r,u,l,s){return w((p(),d("div",{ref:"tooltip",class:E(["tooltip",e.classNames]),"data-testid":"tooltip"},[g("div",Q,null,512),C(e.$slots,"default")],2)),[[b,e.isShow]])}const X=h(L,[["render",W]]),Y=_({components:{Tooltip:X},directives:{pMd:Z},setup(){const e=M(new Map);function i(o){const t=K("tooltip_");return e.value.set(t,T({...o,isShow:!1})),t}function r(o,t){const a=e.value.get(o);a&&(a.target=t.target,a.text=t.text,a.placement=t.placement)}function u(o){const t=e.value.get(o);t.target.dispatchEvent(new CustomEvent("tooltip:show",{detail:t,cancelable:!0}))&&(t.isShow=!0)}function l(o){const t=e.value.get(o);t.target.dispatchEvent(new CustomEvent("tooltip:hide",{detail:t,cancelable:!0}))&&(t.isShow=!1)}function s(o){e.value.get(o).isShow?l(o):u(o)}function n(o){e.value.delete(o)}return{items:e,add:i,update:r,show:u,hide:l,toggle:s,remove:n}}}),D={class:"tooltip-container","data-testid":"tooltip-container"};function tt(e,i,r,u,l,s){const n=z("Tooltip"),o=q("p-md");return p(),d("div",D,[(p(!0),d(H,null,O(e.items,([t,a])=>(p(),P(n,j({key:t,modelValue:a.isShow,"onUpdate:modelValue":c=>a.isShow=c},a),{default:U(()=>[w(g("span",null,null,512),[[o,a.text,void 0,{inline:!0}]])]),_:2},1040,["modelValue","onUpdate:modelValue"]))),128))])}const ft=h(Y,[["render",tt]]);export{ft as default};
