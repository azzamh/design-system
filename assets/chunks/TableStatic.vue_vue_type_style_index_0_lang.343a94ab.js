import{a as U,D as O,I as R,w as V,b as x}from"./vuedraggable.umd.dedff842.js";import{_ as C}from"./Checkbox.vue_vue_type_script_setup_true_lang.e38928d4.js";import"./Checkbox.vue_vue_type_style_index_0_lang.4ed993c7.js";import{d as D,c as s,k as b,r as y,n as u,L as $,o as l,g as m,b as S,w as A,l as i,e as h,H as k,a1 as p,F as B,D as L,N as z,a as N,t as v}from"./framework.ea844ac6.js";import{u as F}from"./index.66a2f4bb.js";const I=D({inheritAttrs:!1,__name:"TableStaticRoot",props:{scrollable:{type:Boolean,default:!0},tableClass:{type:[String,Array,Object],default:void 0}},setup(e){return(n,r)=>e.scrollable?(l(),s("div",$({key:0,class:"table-static"},n.$attrs),[b("table",{class:u(["table-static__table",e.tableClass])},[y(n.$slots,"default")],2)],16)):(l(),s("table",$({key:1,class:["table-static__table",e.tableClass]},n.$attrs),[y(n.$slots,"default")],16))}}),K={key:0,class:"table-static__headers"},E={key:0,class:"table-static__header table-static__drag"},H={key:1,class:"table-static__header table-static__checkbox"},M=["data-header"],P={key:0,class:"table-static__cell table-static__drag","data-testid":"table-static-drag-handle"},q={key:1,class:"table-static__cell table-static__checkbox"},G=["data-cell"],J={key:2,class:"table-static__body"},Q={class:"table-static__row"},W=["colspan"],X={class:"flex items-center justify-center text-subtle dark:text-dark-subtle"},le=D({__name:"TableStatic",props:{apperance:{type:String,default:"table"},modelValue:{type:Array,default:()=>[]},fields:{type:Array,default:()=>[]},items:{type:Array,default:()=>[]},selectable:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},emptyLabel:{type:String,default:"There are no records to show"},noLabel:{type:Boolean,default:!1},tableClass:{type:[String,Array,Object],default:void 0},trClass:{type:[String,Array,Object],default:void 0},scrollable:{type:Boolean,default:!0}},emits:["update:modelValue","update:items"],setup(e,{emit:n}){const r=e,o=F(r),_=m({get(){return r.items.map(t=>x(t))},set(t){n("update:items",t)}}),T=m(()=>{const t=["table-static"];return r.apperance&&t.push(`table-static--${r.apperance}`),r.selectable&&t.push("table-static--selectable"),r.draggable&&t.push("table-static--draggable"),r.noLabel&&t.push("table-static--no-label"),r.scrollable&&t.push("table-static--scrollable"),t}),f=m(()=>r.items.filter(t=>t._selectable!==!1)),g=m({get(){return r.items.length===0?!1:o.value.length===f.value.length},set(t){g.value!==t&&(o.value=t?f.value.map(c=>V(c)):[])}}),j=m(()=>o.value.length>0&&o.value.length<f.value.length);return(t,c)=>(l(),S(I,{"data-testid":"table-static",scrollable:e.scrollable,class:u(i(T)),"table-class":e.tableClass},{default:A(()=>[e.noLabel?h("",!0):(l(),s("thead",K,[b("tr",{class:u(e.trClass)},[e.draggable?(l(),s("th",E)):h("",!0),e.selectable?(l(),s("th",H,[k(C,{modelValue:i(g),"onUpdate:modelValue":c[0]||(c[0]=a=>p(g)?g.value=a:null),"data-testid":"table-static-select-all",indeterminate:i(j)},null,8,["modelValue","indeterminate"])])):h("",!0),(l(!0),s(B,null,L(e.fields,a=>(l(),s("th",{key:a.key,class:u(["table-static__header",a.thClass]),"data-testid":"table-static-header",style:z(a.width?{width:i(U)(a.width)}:{}),"data-header":a.key},[y(t.$slots,`head(${a.key})`,{label:a.label,field:a},()=>[N(v(a.label),1)])],14,M))),128))],2)])),Array.isArray(e.items)&&e.items.length>0?(l(),S(i(O),{key:1,modelValue:i(_),"onUpdate:modelValue":c[2]||(c[2]=a=>p(_)?_.value=a:null),class:"table-static__body",handle:".table-static__drag","item-key":"_key",tag:"tbody",disabled:!e.draggable},{item:A(({element:a,index:w})=>[b("tr",{class:u(["table-static__row",e.trClass]),"data-role":"row"},[y(t.$slots,"row",{item:a,index:w},()=>[e.draggable?(l(),s("td",P,[k(R)])):h("",!0),e.selectable?(l(),s("td",q,[k(C,{modelValue:i(o),"onUpdate:modelValue":c[1]||(c[1]=d=>p(o)?o.value=d:null),"data-testid":"table-static-select",value:i(V)(a),disabled:a._selectable===!1},null,8,["modelValue","value","disabled"])])):h("",!0),(l(!0),s(B,null,L(e.fields,d=>(l(),s("td",{key:d.key,class:u(["table-static__cell",d.tdClass]),"data-testid":"table-static-cell","data-cell":d.key},[y(t.$slots,`cell(${d.key})`,{index:w,item:a},()=>[N(v(d.formatter(a[d.key],a)),1)])],10,G))),128))])],2)]),_:3},8,["modelValue","disabled"])):(l(),s("tbody",J,[b("tr",Q,[b("td",{colspan:e.selectable?e.fields.length+1:e.fields.length,"data-testid":"table-static-empty",class:"table-static__cell table-static__cell--empty datatable__state-empty"},[y(t.$slots,"empty",{},()=>[b("span",X,v(e.emptyLabel),1)])],8,W)])]))]),_:3},8,["scrollable","class","table-class"]))}});export{le as _};
