import{i as Q,n as J,t as V,c as q,d as Z,e as R,f as W,g as ee,h as te,j as ne,w as re,k as ie}from"./index.HLpRCGlF.js";import{ab as oe,C as ae,g as _,h as w,y as k,ac as H,z as se,G as Y,P as $,j as ue}from"./framework.e_h4aueT.js";function D(e){var t;const n=R(e);return(t=n==null?void 0:n.$el)!=null?t:n}const N=q?window:void 0,le=q?window.document:void 0,j=q?window.navigator:void 0;function A(...e){let t,n,r,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,r,i]=e,t=N):[t,n,r,i]=e,!t)return J;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const o=[],u=()=>{o.forEach(c=>c()),o.length=0},a=(c,m,d,l)=>(c.addEventListener(m,d,l),()=>c.removeEventListener(m,d,l)),s=k(()=>[D(t),R(i)],([c,m])=>{if(u(),!c)return;const d=Z(m)?{...m}:m;o.push(...n.flatMap(l=>r.map(f=>a(c,l,f,d))))},{immediate:!0,flush:"post"}),v=()=>{s(),u()};return W(v),v}let B=!1;function _e(e,t,n={}){const{window:r=N,ignore:i=[],capture:o=!0,detectIframe:u=!1}=n;if(!r)return;Q&&!B&&(B=!0,Array.from(r.document.body.children).forEach(d=>d.addEventListener("click",J)),r.document.documentElement.addEventListener("click",J));let a=!0;const s=d=>i.some(l=>{if(typeof l=="string")return Array.from(r.document.querySelectorAll(l)).some(f=>f===d.target||d.composedPath().includes(f));{const f=D(l);return f&&(d.target===f||d.composedPath().includes(f))}}),c=[A(r,"click",d=>{const l=D(e);if(!(!l||l===d.target||d.composedPath().includes(l))){if(d.detail===0&&(a=!s(d)),!a){a=!0;return}t(d)}},{passive:!0,capture:o}),A(r,"pointerdown",d=>{const l=D(e);a=!s(d)&&!!(l&&!d.composedPath().includes(l))},{passive:!0}),u&&A(r,"blur",d=>{setTimeout(()=>{var l;const f=D(e);((l=r.document.activeElement)==null?void 0:l.tagName)==="IFRAME"&&!(f!=null&&f.contains(r.document.activeElement))&&t(d)},0)})].filter(Boolean);return()=>c.forEach(d=>d())}function ce(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function Ae(...e){let t,n,r={};e.length===3?(t=e[0],n=e[1],r=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],r=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:i=N,eventName:o="keydown",passive:u=!1,dedupe:a=!1}=r,s=ce(t);return A(i,o,c=>{c.repeat&&R(a)||s(c)&&n(c)},u)}function de(){const{activeElement:e,body:t}=document;if(!e||e===t)return!1;switch(e.tagName){case"INPUT":case"TEXTAREA":return!0}return e.hasAttribute("contenteditable")}function fe({keyCode:e,metaKey:t,ctrlKey:n,altKey:r}){return t||n||r?!1:e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122}function Te(e,t={}){const{document:n=le}=t;n&&A(n,"keydown",i=>{!de()&&fe(i)&&e(i)},{passive:!0})}function Ne(e,t=null){const n=H();let r=()=>{};const i=oe((o,u)=>(r=u,{get(){var a,s;return o(),(s=(a=n==null?void 0:n.proxy)==null?void 0:a.$refs[e])!=null?s:t},set(){}}));return V(r),ae(r),i}function ve(){const e=w(!1);return H()&&ue(()=>{e.value=!0}),e}function L(e){const t=ve();return _(()=>(t.value,!!e()))}function K(e,t={}){const{window:n=N}=t,r=L(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let i;const o=w(!1),u=v=>{o.value=v.matches},a=()=>{i&&("removeEventListener"in i?i.removeEventListener("change",u):i.removeListener(u))},s=se(()=>{r.value&&(a(),i=n.matchMedia(R(e)),"addEventListener"in i?i.addEventListener("change",u):i.addListener(u),o.value=i.matches)});return W(()=>{s(),a(),i=void 0}),o}function U(e,t={}){const{controls:n=!1,navigator:r=j}=t,i=L(()=>r&&"permissions"in r);let o;const u=typeof e=="string"?{name:e}:e,a=w(),s=()=>{o&&(a.value=o.state)},v=ee(async()=>{if(i.value){if(!o)try{o=await r.permissions.query(u),A(o,"change",s),s()}catch(c){a.value="prompt"}return o}});return v(),n?{state:a,isSupported:i,query:v}:a}function De(e={}){const{navigator:t=j,read:n=!1,source:r,copiedDuring:i=1500,legacy:o=!1}=e,u=L(()=>t&&"clipboard"in t),a=U("clipboard-read"),s=U("clipboard-write"),v=_(()=>u.value||o),c=w(""),m=w(!1),d=te(()=>m.value=!1,i);function l(){u.value&&a.value!=="denied"?t.clipboard.readText().then(y=>{c.value=y}):c.value=g()}v.value&&n&&A(["copy","cut"],l);async function f(y=R(r)){v.value&&y!=null&&(u.value&&s.value!=="denied"?await t.clipboard.writeText(y):p(y),c.value=y,m.value=!0,d.start())}function p(y){const b=document.createElement("textarea");b.value=y!=null?y:"",b.style.position="absolute",b.style.opacity="0",document.body.appendChild(b),b.select(),document.execCommand("copy"),b.remove()}function g(){var y,b,S;return(S=(b=(y=document==null?void 0:document.getSelection)==null?void 0:y.call(document))==null?void 0:b.toString())!=null?S:""}return{isSupported:v,text:c,copied:m,copy:f}}function me(e){return JSON.parse(JSON.stringify(e))}const P=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},z="__vueuse_ssr_handlers__",pe=he();function he(){return z in P||(P[z]=P[z]||{}),P[z]}function X(e,t){return pe[e]||t}function we(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const ge={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},F="vueuse-storage";function ye(e,t,n,r={}){var i;const{flush:o="pre",deep:u=!0,listenToStorageChanges:a=!0,writeDefaults:s=!0,mergeDefaults:v=!1,shallow:c,window:m=N,eventFilter:d,onError:l=h=>{console.error(h)},initOnMounted:f}=r,p=(c?Y:w)(typeof t=="function"?t():t);if(!n)try{n=X("getDefaultStorage",()=>{var h;return(h=N)==null?void 0:h.localStorage})()}catch(h){l(h)}if(!n)return p;const g=R(t),y=we(g),b=(i=r.serializer)!=null?i:ge[y],{pause:S,resume:E}=re(p,()=>T(p.value),{flush:o,deep:u,eventFilter:d});return m&&a&&V(()=>{A(m,"storage",M),A(m,F,x),f&&M()}),f||M(),p;function T(h){try{if(h==null)n.removeItem(e);else{const O=b.write(h),I=n.getItem(e);I!==O&&(n.setItem(e,O),m&&m.dispatchEvent(new CustomEvent(F,{detail:{key:e,oldValue:I,newValue:O,storageArea:n}})))}}catch(O){l(O)}}function C(h){const O=h?h.newValue:n.getItem(e);if(O==null)return s&&g!=null&&n.setItem(e,b.write(g)),g;if(!h&&v){const I=b.read(O);return typeof v=="function"?v(I,g):y==="object"&&!Array.isArray(I)?{...g,...I}:I}else return typeof O!="string"?O:b.read(O)}function x(h){M(h.detail)}function M(h){if(!(h&&h.storageArea!==n)){if(h&&h.key==null){p.value=g;return}if(!(h&&h.key!==e)){S();try{(h==null?void 0:h.newValue)!==b.write(p.value)&&(p.value=C(h))}catch(O){l(O)}finally{h?$(E):E()}}}}}function G(e){return K("(prefers-color-scheme: dark)",e)}function be(e={}){const{selector:t="html",attribute:n="class",initialValue:r="auto",window:i=N,storage:o,storageKey:u="vueuse-color-scheme",listenToStorageChanges:a=!0,storageRef:s,emitAuto:v,disableTransition:c=!0}=e,m={auto:"",light:"light",dark:"dark",...e.modes||{}},d=G({window:i}),l=_(()=>d.value?"dark":"light"),f=s||(u==null?ne(r):ye(u,r,o,{window:i,listenToStorageChanges:a})),p=_(()=>f.value==="auto"?l.value:f.value),g=X("updateHTMLAttrs",(E,T,C)=>{const x=typeof E=="string"?i==null?void 0:i.document.querySelector(E):D(E);if(!x)return;let M;if(c){M=i.document.createElement("style");const h="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";M.appendChild(document.createTextNode(h)),i.document.head.appendChild(M)}if(T==="class"){const h=C.split(/\s/g);Object.values(m).flatMap(O=>(O||"").split(/\s/g)).filter(Boolean).forEach(O=>{h.includes(O)?x.classList.add(O):x.classList.remove(O)})}else x.setAttribute(T,C);c&&(i.getComputedStyle(M).opacity,document.head.removeChild(M))});function y(E){var T;g(t,n,(T=m[E])!=null?T:E)}function b(E){e.onChanged?e.onChanged(E,y):y(E)}k(p,b,{flush:"post",immediate:!0}),V(()=>b(p.value));const S=_({get(){return v?f.value:p.value},set(E){f.value=E}});try{return Object.assign(S,{store:f,system:l,state:p})}catch(E){return S}}function Me(e,t,n={}){const{window:r=N,...i}=n;let o;const u=L(()=>r&&"MutationObserver"in r),a=()=>{o&&(o.disconnect(),o=void 0)},s=k(()=>D(e),m=>{a(),u.value&&r&&m&&(o=new MutationObserver(t),o.observe(m,i))},{immediate:!0}),v=()=>o==null?void 0:o.takeRecords(),c=()=>{a(),s()};return W(c),{isSupported:u,stop:c,takeRecords:v}}function ke(e={}){const{valueDark:t="dark",valueLight:n="",window:r=N}=e,i=be({...e,onChanged:(a,s)=>{var v;e.onChanged?(v=e.onChanged)==null||v.call(e,a==="dark",s,a):s(a)},modes:{dark:t,light:n}}),o=_(()=>i.system?i.system.value:G({window:r}).value?"dark":"light");return _({get(){return i.value==="dark"},set(a){const s=a?"dark":"light";o.value===s?i.value="auto":i.value=s}})}function Ce(e={}){const{navigator:t=j,requestPermissions:n=!1,constraints:r={audio:!0,video:!0},onUpdated:i}=e,o=w([]),u=_(()=>o.value.filter(f=>f.kind==="videoinput")),a=_(()=>o.value.filter(f=>f.kind==="audioinput")),s=_(()=>o.value.filter(f=>f.kind==="audiooutput")),v=L(()=>t&&t.mediaDevices&&t.mediaDevices.enumerateDevices),c=w(!1);let m;async function d(){v.value&&(o.value=await t.mediaDevices.enumerateDevices(),i==null||i(o.value),m&&(m.getTracks().forEach(f=>f.stop()),m=null))}async function l(){if(!v.value)return!1;if(c.value)return!0;const{state:f,query:p}=U("camera",{controls:!0});return await p(),f.value!=="granted"&&(m=await t.mediaDevices.getUserMedia(r),d()),c.value=!0,c.value}return v.value&&(n&&l(),A(t.mediaDevices,"devicechange",d),d()),{devices:o,ensurePermissions:l,permissionGranted:c,videoInputs:u,audioInputs:a,audioOutputs:s,isSupported:v}}function Se(e,t,n={}){const{window:r=N,...i}=n;let o;const u=L(()=>r&&"ResizeObserver"in r),a=()=>{o&&(o.disconnect(),o=void 0)},s=_(()=>Array.isArray(e)?e.map(m=>D(m)):[D(e)]),v=k(s,m=>{if(a(),u.value&&r){o=new ResizeObserver(t);for(const d of m)d&&o.observe(d,i)}},{immediate:!0,flush:"post",deep:!0}),c=()=>{a(),v()};return W(c),{isSupported:u,stop:c}}function Ie(e,t={}){const{reset:n=!0,windowResize:r=!0,windowScroll:i=!0,immediate:o=!0}=t,u=w(0),a=w(0),s=w(0),v=w(0),c=w(0),m=w(0),d=w(0),l=w(0);function f(){const p=D(e);if(!p){n&&(u.value=0,a.value=0,s.value=0,v.value=0,c.value=0,m.value=0,d.value=0,l.value=0);return}const g=p.getBoundingClientRect();u.value=g.height,a.value=g.bottom,s.value=g.left,v.value=g.right,c.value=g.top,m.value=g.width,d.value=g.x,l.value=g.y}return Se(e,f),k(()=>D(e),p=>!p&&f()),i&&A("scroll",f,{capture:!0,passive:!0}),r&&A("resize",f,{passive:!0}),V(()=>{o&&f()}),{height:u,bottom:a,left:s,right:v,top:c,width:m,x:d,y:l,update:f}}function Le(e={}){var t,n;const r=w((t=e.enabled)!=null?t:!1),i=w((n=e.autoSwitch)!=null?n:!0),o=w(e.constraints),{navigator:u=j}=e,a=L(()=>{var p;return(p=u==null?void 0:u.mediaDevices)==null?void 0:p.getUserMedia}),s=Y();function v(p){switch(p){case"video":{if(o.value)return o.value.video||!1;break}case"audio":{if(o.value)return o.value.audio||!1;break}}}async function c(){if(!(!a.value||s.value))return s.value=await u.mediaDevices.getUserMedia({video:v("video"),audio:v("audio")}),s.value}function m(){var p;(p=s.value)==null||p.getTracks().forEach(g=>g.stop()),s.value=void 0}function d(){m(),r.value=!1}async function l(){return await c(),s.value&&(r.value=!0),s.value}async function f(){return m(),await l()}return k(r,p=>{p?c():m()},{immediate:!0}),k(o,()=>{i.value&&s.value&&f()},{immediate:!0}),{isSupported:a,stream:s,start:l,stop:d,restart:f,constraints:o,enabled:r,autoSwitch:i}}function xe(e,t,n,r={}){var i,o,u;const{clone:a=!1,passive:s=!1,eventName:v,deep:c=!1,defaultValue:m,shouldEmit:d}=r,l=H(),f=n||(l==null?void 0:l.emit)||((i=l==null?void 0:l.$emit)==null?void 0:i.bind(l))||((u=(o=l==null?void 0:l.proxy)==null?void 0:o.$emit)==null?void 0:u.bind(l==null?void 0:l.proxy));let p=v;t||(t="modelValue"),p=p||`update:${t.toString()}`;const g=S=>a?typeof a=="function"?a(S):me(S):S,y=()=>ie(e[t])?g(e[t]):m,b=S=>{d?d(S)&&f(p,S):f(p,S)};if(s){const S=y(),E=w(S);let T=!1;return k(()=>e[t],C=>{T||(T=!0,E.value=g(C),$(()=>T=!1))}),k(E,C=>{!T&&(C!==e[t]||c)&&b(C)},{deep:c}),E}else return _({get(){return y()},set(S){b(S)}})}function Re(e={}){const{window:t=N,behavior:n="auto"}=e;if(!t)return{x:w(0),y:w(0)};const r=w(t.scrollX),i=w(t.scrollY),o=_({get(){return r.value},set(a){scrollTo({left:a,behavior:n})}}),u=_({get(){return i.value},set(a){scrollTo({top:a,behavior:n})}});return A(t,"scroll",()=>{r.value=t.scrollX,i.value=t.scrollY},{capture:!1,passive:!0}),{x:o,y:u}}function Ve(e={}){const{window:t=N,initialWidth:n=Number.POSITIVE_INFINITY,initialHeight:r=Number.POSITIVE_INFINITY,listenOrientation:i=!0,includeScrollbar:o=!0}=e,u=w(n),a=w(r),s=()=>{t&&(o?(u.value=t.innerWidth,a.value=t.innerHeight):(u.value=t.document.documentElement.clientWidth,a.value=t.document.documentElement.clientHeight))};if(s(),V(s),A("resize",s,{passive:!0}),i){const v=K("(orientation: portrait)");k(v,()=>s())}return{width:u,height:a}}export{U as a,Ce as b,Le as c,Ae as d,K as e,Ie as f,Te as g,Re as h,Me as i,Ve as j,A as k,ke as l,De as m,_e as o,Ne as t,xe as u};
