import{h as w,r as m,u as V,q as z,_ as M,M as N,v as o,b as c,L as f,X as v,y as $,z as b,C as y,O as k,B as P,p as C,s as D,a as q}from"./framework.85587507.js";import{p as T}from"./Button.5a506684.js";import{p as A}from"./Select.9d522fda.js";import{I as j}from"./20.8bf4c736.js";import{I as E}from"./20.f688cb7d.js";import{u as G}from"./index.6d398ed5.js";const L="...",I=5;function h(e,a){const r=a-e+1;return Array.from({length:r},(t,p)=>p+e)}function J(e){const a=Math.floor((e-I)/2),t=2*a+I-2;return{totalSiblings:a,totalPageDisplay:t}}function U(e,a,r){const{totalSiblings:t,totalPageDisplay:p}=J(r),i=Math.max(e-t,1),u=Math.min(e+t,a),l=i>2,g=u<=a-2;if(l&&!g){const d=h(a-p+1,a);return[1,L,...d]}if(!l&&g)return[...h(1,p),L,a];if(l&&g){const d=h(i,u);return[1,L,...d,L,a]}}function F(e){const a=w(e,"modelValue"),r=w(e,"perPage"),t=w(e,"total"),p=w(e,"displayLimit"),i=m(()=>t.value<=0?0:Math.ceil(t.value/r.value)),u=m(()=>[t.value===0?0:(a.value-1)*r.value+1,a.value*r.value>t.value?t.value:a.value*r.value]),l=m(()=>i.value===0||p.value<I?[]:i.value===1?[1]:p.value>=i.value?h(1,i.value):U(a.value,i.value,p.value)),g=m(()=>a.value!==i.value),d=m(()=>a.value!==1);return{pageItems:l,rowRange:u,totalPageCount:i,canNext:g,canPrev:d}}const H=V({components:{IconPrev:j,Button:T,IconNext:E,Select:A},props:{modelValue:{type:Number,default:1},quickJump:{type:Boolean,default:!1},showCounter:{type:Boolean,default:!1},showPerPage:{type:Boolean,default:!1},showDetail:{type:Boolean,default:!1},navigationText:{type:Boolean,default:!1},navigationOnly:{type:Boolean,default:!1},variant:{type:String,default:"short"},perPage:{type:Number,default:10},perPageOptions:{type:Array,default:()=>[10,20,30]},total:{type:Number,default:0},displayLimit:{type:Number,default:10},pageLabel:{type:String,default:"Page"},prevNavLabel:{type:String,default:"Previous"},nextNavLabel:{type:String,default:"Next"},firstNavLabel:{type:String,default:"First"},lastNavLabel:{type:String,default:"Last"},showRowsLabel:{type:String,default:"Show rows"}},models:{prop:"modelValue",event:"update:modelValue"},emits:["update:modelValue","update:perPage","change"],setup(e,{emit:a}){const r=m(()=>{const n=["pagination"];return e.navigationOnly&&n.push("pagination--navonly"),n}),t=G(e),{pageItems:p,rowRange:i,totalPageCount:u,canNext:l,canPrev:g}=F(e),d=m(()=>h(1,u.value).map(n=>({text:String(n),value:n}))),s=m(()=>e.perPageOptions.map(n=>({text:String(n),value:n}))),S=m({get(){return e.perPage},set(n){a("update:perPage",n)}});z(u,n=>{t.value>n&&(t.value=n)});function R(){t.value=Math.min(t.value+1,u.value),a("change",t.value)}function B(){t.value=Math.max(t.value-1,1),a("change",t.value)}function O(n){typeof n!="string"&&t.value!==n&&(t.value=n,a("change",n))}return{model:t,classNames:r,pageOptions:d,rowPerPageOptions:s,pageItems:p,rowRange:i,totalPageCount:u,rowPerPage:S,canNext:l,canPrev:g,selectPage:O,next:R,prev:B}}});const X={key:0,class:"pagination__quickjump","data-testid":"pagination-quickjump"},K={key:1,class:"pagination__items"},Q={key:2,class:"pagination__count","data-testid":"pagination-count"},W={key:3,class:"pagination__options","data-testid":"pagination-option"};function Y(e,a,r,t,p,i){const u=N("Select"),l=N("Button"),g=N("IconPrev"),d=N("IconNext");return o(),c("div",{"data-testid":"pagination",class:q(e.classNames)},[e.quickJump?(o(),c("div",X,[f(v(e.pageLabel)+" ",1),$(u,{modelValue:e.model,"onUpdate:modelValue":a[0]||(a[0]=s=>e.model=s),options:e.pageOptions,onChange:a[1]||(a[1]=({value:s})=>e.selectPage(s))},null,8,["modelValue","options"]),b(e.$slots,"quick-jump-count",{total:e.totalPageCount},()=>[f(" of "+v(e.totalPageCount),1)])])):(o(),c("nav",K,[e.variant==="far"?(o(),y(l,{key:0,"data-testid":"pagination-nav-first",variant:"solid",size:"sm",disabled:!e.canPrev,class:"pagination__items__nav-first",icon:"",onClick:a[2]||(a[2]=s=>e.selectPage(1))},{default:k(()=>[b(e.$slots,"first-navigation",{},()=>[f(v(e.firstNavLabel),1)])]),_:3},8,["disabled"])):P("",!0),e.variant==="short"||e.variant==="far"?(o(),y(l,{key:1,"data-testid":"pagination-nav-prev",variant:"solid",size:"sm",disabled:!e.canPrev,class:"pagination__items__nav-prev",icon:"",onClick:e.prev},{default:k(()=>[b(e.$slots,"prev-navigation",{},()=>[e.navigationText?(o(),c(C,{key:0},[f(v(e.prevNavLabel),1)],64)):(o(),y(g,{key:1}))])]),_:3},8,["disabled","onClick"])):P("",!0),e.navigationOnly?P("",!0):(o(!0),c(C,{key:2},D(e.pageItems,(s,S)=>(o(),y(l,{key:S,"data-testid":"pagination-item",variant:"solid",size:"sm",icon:"",readonly:typeof s=="string",active:s===e.model,onClick:R=>e.selectPage(s)},{default:k(()=>[f(v(s),1)]),_:2},1032,["readonly","active","onClick"]))),128)),e.variant==="short"||e.variant==="far"?(o(),y(l,{key:3,"data-testid":"pagination-nav-next",variant:"solid",size:"sm",disabled:!e.canNext,class:"pagination__items__nav-next",icon:"",onClick:e.next},{default:k(()=>[b(e.$slots,"next-navigation",{},()=>[e.navigationText?(o(),c(C,{key:0},[f(v(e.nextNavLabel),1)],64)):(o(),y(d,{key:1}))])]),_:3},8,["disabled","onClick"])):P("",!0),e.variant==="far"?(o(),y(l,{key:4,"data-testid":"pagination-nav-last",variant:"solid",size:"sm",disabled:!e.canNext,class:"pagination__items__nav-last",icon:"",onClick:a[3]||(a[3]=s=>e.selectPage(e.totalPageCount))},{default:k(()=>[b(e.$slots,"last-navigation",{},()=>[f(v(e.lastNavLabel),1)])]),_:3},8,["disabled"])):P("",!0)])),e.showCounter||e.showDetail?(o(),c("div",Q,[b(e.$slots,"pagination-count",{range:e.rowRange,total:e.total},()=>[f(v(e.rowRange[0])+" - "+v(e.rowRange[1])+" of "+v(e.total),1)])])):P("",!0),e.showPerPage||e.showDetail?(o(),c("div",W,[f(v(e.showRowsLabel)+" ",1),$(u,{modelValue:e.rowPerPage,"onUpdate:modelValue":a[4]||(a[4]=s=>e.rowPerPage=s),options:e.rowPerPageOptions},null,8,["modelValue","options"])])):P("",!0)],2)}const ne=M(H,[["render",Y]]);export{ne as p};
