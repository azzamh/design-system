import{u as g,z as x,r as c,P as h,L as T,A as B,q as A,v as F,C as M,j as V,R as j,J as L,g as z,af as R,ag as G,Q as O,_ as P,M as Q,h as k}from"./framework.408943e8.js";import{u as D}from"./index.66165b19.js";import{N as E}from"./index.fe135e19.js";import{i as f}from"./theme.af157f64.js";const H="--vc-auto-duration",I=`height var(${H}) cubic-bezier(0.33, 1, 0.68, 1)`,m={padding:0,border:0,margin:0};function C(e){var a;return{height:`${(a=e==null?void 0:e.scrollHeight)!=null?a:0}px`}}function N(e){if(!e)return{};const{transition:a}=getComputedStyle(e);return a==="all 0s ease 0s"?{transition:I}:{transition:a}}function q(e){if(!e)return!0;const{transition:a}=getComputedStyle(e);return window.matchMedia("(prefers-reduced-motion: reduce)").matches||a.includes("none")||a.includes("height 0s")}g({inheritAttrs:!0});const J=g({__name:"Collapse",props:{when:{type:Boolean},baseHeight:{default:0},as:{default:"div"}},emits:["collapse","expand","collapsed","expanded"],setup(e,{emit:a}){const s=e,o=x(s,"when"),i=x(s,"baseHeight"),r=c(()=>({overflow:"hidden",height:`${i.value}px`})),v=c(()=>({...m,...i.value===0?{display:"none"}:r.value})),t=h(null),u=h(o.value?"expanded":"collapsed"),l=T(o.value?m:v.value),p=h(0),_=c(()=>({[H]:`${p.value}ms`}));function y(){t.value&&(o.value||i.value>0)&&(p.value=function(n=0){if(n===0)return 0;const d=n/36;return Math.round(10*(4+15*d**.25+d/5))}(t.value.scrollHeight-i.value))}function w(){l.value=m,u.value="expanded",a("expanded")}function $(){l.value=v.value,u.value="collapsed",a("collapsed")}function S(n){var d,b;n.target===t.value&&n.propertyName==="height"&&(o.value?((d=t.value)==null?void 0:d.scrollHeight)===parseFloat(n.target.style.height)&&w():((b=t.value)==null?void 0:b.style.height)===`${i.value}px`&&$())}return B(y),A(o,n=>{if(n){if(q(t.value))return w();l.value={...m,...r.value,willChange:"height"},requestAnimationFrame(()=>{y(),l.value={...l.value,..._.value},requestAnimationFrame(()=>{l.value={...l.value,...C(t.value),...N(t.value)},u.value="expanding",a("expand")})})}else{if(q(t.value))return $();requestAnimationFrame(()=>{l.value={...l.value,..._.value,...C(t.value),willChange:"height"},requestAnimationFrame(()=>{l.value={...l.value,...r.value,...N(t.value)},u.value="collapsing",a("collapse")})})}}),A(i,n=>{o.value||(l.value={...l.value,transitionDuration:"0s",height:`${n}px`})}),(n,d)=>(F(),M(L(s.as),{ref_key:"collapseRef",ref:t,style:j(l.value),onTransitionend:S,"data-collapse":u.value},{default:V(()=>[z(n.$slots,"default",R(G({state:u.value})))]),_:3},40,["style","data-collapse"]))}}),K=g({components:{vCollapse:J},props:{modelValue:{type:Boolean,default:!1},isNav:{type:Boolean,default:!1}},models:{prop:"modelValue",event:"update:modelValue"},emits:["update:modelValue"],setup(e){const a=D(e),s=O(E,void 0,!0),o=f("(min-width: 1024px)"),i=f("(min-width: 768px)"),r=f("(min-width: 640px)"),v=c(()=>{var u,l,p;return((u=s==null?void 0:s.toggleable)==null?void 0:u.value)==="lg"?o.value:((l=s==null?void 0:s.toggleable)==null?void 0:l.value)==="md"?i.value:((p=s==null?void 0:s.toggleable)==null?void 0:p.value)==="sm"?r.value:a.value}),t=c(()=>{const u=[""];return a.value?u.push("collapse--show"):u.push("collapse--hide"),e.isNav&&u.push("navbar--collapse"),u});return{model:a,classNames:t,isToggleable:v}}});function U(e,a,s,o,i,r){const v=Q("v-collapse");return F(),M(v,{"data-testid":"collapse",class:k(["collapses",e.classNames]),when:e.model||e.isToggleable},{default:V(()=>[z(e.$slots,"default")]),_:3},8,["class","when"])}const ee=P(K,[["render",U]]);export{ee as p};
