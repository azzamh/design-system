import{u as _,z as f,r as S,q as V,e as x,_ as h,a7 as w,a9 as b,v as p,f as d,F as g,g as C,h as E,P as M,aa as T,M as z,a8 as P,y as j,D as q,C as U,j as k,V as F}from"./framework.408943e8.js";import{t as v}from"./theme.af157f64.js";import{u as H}from"./index.66165b19.js";import{a as N,c as O,f as A,s as B,o as I,d as R}from"./floating-ui.dom.d66a0422.js";import{p as Z}from"./index.ed319991.js";import{t as D}from"./toString.314d06e3.js";import"./marked.esm.bd0bcd16.js";import"./commonjsHelpers.de833af9.js";import"./vite-browser-external_commonjs-proxy.0726eb50.js";import"./isObjectLike.53b0037d.js";import"./isArray.513c67aa.js";import"./isSymbol.4326927f.js";var G=0;function J(e){var i=++G;return D(e)+i}const K=_({props:{modelValue:{type:Boolean,default:!1},color:{type:String,default:"black"},target:{type:Object,default:void 0},placement:{type:String,default:"top"}},models:{prop:"modelValue",event:"update:modelValue"},emits:["update:modelValue","show","hide"],setup(e,{emit:i}){const r=H(e),u=f(e,"placement"),l=f(e,"target"),s=v("tooltip"),n=v("arrow"),o=S(()=>{const t=[];return e.color&&t.push(`tooltip--${e.color}`),t});return V(r,t=>{i(t?"show":"hide",l.value)}),x(t=>{if(s.value&&l.value&&n.value){const a=N(l.value,s.value,()=>{O(l.value,s.value,{strategy:"absolute",placement:u.value,middleware:[A(),B(),I(12),R({element:n.value})]}).then(({x:c,y:$,middlewareData:m,placement:y})=>{s.value&&(s.value.dataset.popperPlacement=y,s.value.style.left=`${c||0}px`,s.value.style.top=`${$||0}px`),n.value&&(n.value.style.left=`${m.arrow.x}px`,n.value.style.top=`${m.arrow.y}px`)})});t(a)}},{flush:"post"}),{isShow:r,classNames:o}}});const L={ref:"arrow",class:"tooltip__arrow","data-popper-arrow":""};function Q(e,i,r,u,l,s){return w((p(),d("div",{ref:"tooltip",class:E(["tooltip",e.classNames]),"data-testid":"tooltip"},[g("div",L,null,512),C(e.$slots,"default")],2)),[[b,e.isShow]])}const W=h(K,[["render",Q]]),X=_({components:{Tooltip:W},directives:{pMd:Z},setup(){const e=M(new Map);function i(o){const t=J("tooltip_");return e.value.set(t,T({...o,isShow:!1})),t}function r(o,t){const a=e.value.get(o);a&&(a.target=t.target,a.text=t.text,a.placement=t.placement)}function u(o){const t=e.value.get(o);t.target.dispatchEvent(new CustomEvent("tooltip:show",{detail:t,cancelable:!0}))&&(t.isShow=!0)}function l(o){const t=e.value.get(o);t.target.dispatchEvent(new CustomEvent("tooltip:hide",{detail:t,cancelable:!0}))&&(t.isShow=!1)}function s(o){e.value.get(o).isShow?l(o):u(o)}function n(o){e.value.delete(o)}return{items:e,add:i,update:r,show:u,hide:l,toggle:s,remove:n}}}),Y={class:"tooltip-container","data-testid":"tooltip-container"};function tt(e,i,r,u,l,s){const n=z("Tooltip"),o=P("p-md");return p(),d("div",Y,[(p(!0),d(j,null,q(e.items,([t,a])=>(p(),U(n,F({key:t,modelValue:a.isShow,"onUpdate:modelValue":c=>a.isShow=c},a),{default:k(()=>[w(g("span",null,null,512),[[o,a.text,void 0,{inline:!0}]])]),_:2},1040,["modelValue","onUpdate:modelValue"]))),128))])}const mt=h(X,[["render",tt]]);export{mt as default};
