import{d as x,k as u,o as i,c as s,m,p as n,f as S,K as I,g as a,n as N,ab as l,F as P,G as j,N as y,a3 as w,J as A,a7 as B}from"./framework.BSGfltUV.js";import{I as O}from"./16.M8CKvk-y.js";import{v as d}from"./index.BGocLYEj.js";import{u as $}from"./index.DJOEjXNg.js";import{P as F}from"./index.CSawV9lZ.js";const M={class:"popup__body"},V={key:0,class:"popup__title"},D={key:1,class:"popup__text","data-testid":"popup-text"},E={key:2,class:"popup__actions"},z=["onClick"],Q=x({__name:"Popup",props:{title:{type:String,default:""},text:{type:String,default:""},type:{type:String,default:"info"},variant:{type:String,default:"simple"},icon:{type:[String,Object,Function],default:void 0},iconColor:{type:String,default:void 0},popupAttrs:{type:Object,default:void 0},popupClass:{type:[String,Array,Object],default:void 0},actions:{type:Array,default:()=>[]},dismissable:{type:Boolean,default:!0}},emits:["dismissed"],setup(e,{emit:v}){const t=e,h=$(),k=v,g=u(()=>{const o=["popup"];return t.type&&o.push(`popup--${t.type}`),t.variant&&o.push(`popup--${t.variant}`),o}),C=u(()=>{const o=["default"];return t.iconColor&&o.push(`popup__icon--${t.iconColor}`),o}),f=u(()=>t.icon?typeof t.icon=="string"?()=>B("img",{src:t.icon,width:20,height:20,"data-testid":"popup-icon-image"}):t.icon:F[t.type]);function p(){h.close(),k("dismissed")}async function _(o){const c=new MouseEvent("click");typeof o.onClick=="function"&&await o.onClick(Object.assign(c,{close:p})),c.defaultPrevented||p()}return(o,c)=>(i(),s("div",y({"data-testid":"popup",class:[n(g),e.popupClass]},e.popupAttrs),[m("div",{class:N(["popup__icon",n(C)]),"data-testid":"popup-icon"},[n(f)?(i(),S(I(n(f)),{key:0})):a("",!0)],2),m("div",M,[e.title?l((i(),s("div",V,null,512)),[[n(d),e.title,void 0,{inline:!0}]]):a("",!0),e.text?l((i(),s("div",D,null,512)),[[n(d),e.text,void 0,{inline:!0}]]):a("",!0),e.actions.length>0?(i(),s("div",E,[(i(!0),s(P,null,j(e.actions,(r,b)=>l((i(),s("a",y({key:b,"data-testid":"popup-action",href:"javascript:void",class:"popup__action"},r.attrs,{onClick:w(G=>_(r),["prevent"])}),null,16,z)),[[n(d),r.text,void 0,{inline:!0}]])),128))])):a("",!0)]),e.dismissable?(i(),s("div",{key:0,"data-testid":"popup-close",class:"popup__close",onClick:p},[A(O)])):a("",!0)],16))}});export{Q as _};
