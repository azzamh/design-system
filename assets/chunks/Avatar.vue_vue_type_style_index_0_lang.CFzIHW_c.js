import{d as p,c as o,a as g}from"./create-image.CkAV8b2h.js";import{l as y}from"./load-image.CsguPAoR.js";import{d as S,r as A,l as c,y as _,A as h,c as k,a as z,n as m,p as r,o as C,m as b}from"./framework.BqMvgW5A.js";const B=["data-type","src"],w=S({name:"Avatar",__name:"Avatar",props:{variant:{type:String,default:void 0},src:{type:String,default:void 0},fallbackSrc:{type:String,default:p()},name:{type:String,default:void 0},size:{type:String,default:"md"},imgClass:{type:[String,Array,Object],default:void 0}},emits:["imgloaded","imgerror"],setup(s,{emit:d}){const a=s,i=d,e=A(o(50)),u=c(()=>{const t=["avatar"];return a.size&&t.push(`avatar--${a.size}`),t}),n=c(()=>a.variant?a.variant:!a.src&&a.name?"alias":"image");function l(){n.value==="alias"?v():f()}function f(){e.value=o(50),y(a.src).then(()=>{e.value=a.src,i("imgloaded",a.src)}).catch(t=>{e.value=a.fallbackSrc,i("imgerror",t)})}function v(){e.value=g(a.name)}return _(()=>[a.src,a.name,a.variant],()=>{l()}),h(()=>{l()}),(t,I)=>(C(),k("div",{"data-testid":"avatar",class:m(r(u))},[z(t.$slots,"default",{},()=>[b("img",{"data-testid":"avatar-image",class:m(["avatar__image",s.imgClass]),"data-type":r(n),src:r(e),alt:"Avatar Image"},null,10,B)])],2))}});export{w as _};
