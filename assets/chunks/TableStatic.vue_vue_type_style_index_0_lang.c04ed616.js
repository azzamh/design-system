import{a as L,I as N,w,D,b as T}from"./vuedraggable.umd.44f1b3f6.js";import{p as V}from"./Checkbox.a1650bdb.js";import{u as U}from"./index.89c4a660.js";import{d as j,g as u,c as s,k as n,n as b,e as y,H as k,l as o,a1 as p,F as C,D as S,b as z,w as F,r as h,o as l,N as I,a as B,t as f}from"./framework.991e0c5a.js";const K={key:0,class:"table-static__headers"},O={key:0,class:"table-static__header table-static__drag"},R={key:1,class:"table-static__header table-static__checkbox"},E=["data-header"],H={key:0,class:"table-static__cell table-static__drag","data-testid":"table-static-drag-handle"},M={key:1,class:"table-static__cell table-static__checkbox"},q=["data-cell"],G={key:2,class:"table-static__body"},J={class:"table-static__row"},P=["colspan"],Q={class:"flex items-center justify-center text-subtle dark:text-dark-subtle"},ee=j({__name:"TableStatic",props:{apperance:{type:String,default:"table"},modelValue:{type:Array,default:()=>[]},fields:{type:Array,default:()=>[]},items:{type:Array,default:()=>[]},selectable:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},emptyLabel:{type:String,default:"There are no records to show"},noLabel:{type:Boolean,default:!1},tableClass:{type:[String,Array,Object],default:void 0},trClass:{type:[String,Array,Object],default:void 0}},emits:["update:modelValue","update:items"],setup(a,{emit:$}){const d=a,i=U(d),_=u({get(){return d.items.map(t=>T(t))},set(t){$("update:items",t)}}),x=u(()=>{const t=[];return d.apperance&&t.push(`table-static--${d.apperance}`),d.selectable&&t.push("table-static--selectable"),d.draggable&&t.push("table-static--draggable"),d.noLabel&&t.push("table-static--no-label"),t}),g=u(()=>d.items.filter(t=>t._selectable!==!1)),m=u({get(){return i.value.length===g.value.length},set(t){m.value!==t&&(i.value=t?g.value.map(c=>w(c)):[])}}),A=u(()=>i.value.length>0&&i.value.length<g.value.length);return(t,c)=>(l(),s("div",{"data-testid":"table-static",class:b(["table-static",o(x)])},[n("table",{class:b(["table-static__table",a.tableClass])},[a.noLabel?y("",!0):(l(),s("thead",K,[n("tr",{class:b(a.trClass)},[a.draggable?(l(),s("th",O)):y("",!0),a.selectable?(l(),s("th",R,[k(V,{modelValue:o(m),"onUpdate:modelValue":c[0]||(c[0]=e=>p(m)?m.value=e:null),"data-testid":"table-static-select-all",indeterminate:o(A)},null,8,["modelValue","indeterminate"])])):y("",!0),(l(!0),s(C,null,S(a.fields,e=>(l(),s("th",{key:e.key,class:b(["table-static__header",e.thClass]),"data-testid":"table-static-header",style:I(e.width?{width:o(L)(e.width)}:{}),"data-header":e.key},[h(t.$slots,`head(${e.key})`,{label:e.label,field:e},()=>[B(f(e.label),1)])],14,E))),128))],2)])),a.items.length>0?(l(),z(o(D),{key:1,modelValue:o(_),"onUpdate:modelValue":c[2]||(c[2]=e=>p(_)?_.value=e:null),class:"table-static__body",handle:".table-static__drag","item-key":"_key",tag:"tbody",disabled:!a.draggable},{item:F(({element:e,index:v})=>[n("tr",{class:b(["table-static__row",a.trClass]),"data-role":"row"},[h(t.$slots,"row",{item:e,index:v},()=>[a.draggable?(l(),s("td",H,[k(N)])):y("",!0),a.selectable?(l(),s("td",M,[k(V,{modelValue:o(i),"onUpdate:modelValue":c[1]||(c[1]=r=>p(i)?i.value=r:null),"data-testid":"table-static-select",value:o(w)(e),disabled:e._selectable===!1},null,8,["modelValue","value","disabled"])])):y("",!0),(l(!0),s(C,null,S(a.fields,r=>(l(),s("td",{key:r.key,class:b(["table-static__cell",r.tdClass]),"data-testid":"table-static-cell","data-cell":r.key},[h(t.$slots,`cell(${r.key})`,{index:v,item:e},()=>[B(f(r.formatter(e[r.key],e)),1)])],10,q))),128))])],2)]),_:3},8,["modelValue","disabled"])):(l(),s("tbody",G,[n("tr",J,[n("td",{colspan:a.fields.length,"data-testid":"table-static-empty",class:"table-static__cell table-static__cell--empty datatable__state-empty"},[h(t.$slots,"empty",{},()=>[n("span",Q,f(a.emptyLabel),1)])],8,P)])]))],2)],2))}});export{ee as _};
