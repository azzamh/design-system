import{i as Y,n as j,t as z,c as J,d as X,e as x,f as R,g as G,h as Q,j as Z,w as ee,k as te}from"./index.L8r16ak4.js";import{ab as ne,C as re,g as T,h as w,y as C,ac as U,z as ie,G as B,P as F,j as ae}from"./framework.e_h4aueT.js";function N(e){var t;const r=x(e);return(t=r==null?void 0:r.$el)!=null?t:r}const M=J?window:void 0,oe=J?window.document:void 0,W=J?window.navigator:void 0;function _(...e){let t,r,n,a;if(typeof e[0]=="string"||Array.isArray(e[0])?([r,n,a]=e,t=M):[t,r,n,a]=e,!t)return j;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const i=[],o=()=>{i.forEach(v=>v()),i.length=0},s=(v,p,f,c)=>(v.addEventListener(p,f,c),()=>v.removeEventListener(p,f,c)),u=C(()=>[N(t),x(a)],([v,p])=>{if(o(),!v)return;const f=X(p)?{...p}:p;i.push(...r.flatMap(c=>n.map(l=>s(v,c,l,f))))},{immediate:!0,flush:"post"}),m=()=>{u(),o()};return R(m),m}let q=!1;function _e(e,t,r={}){const{window:n=M,ignore:a=[],capture:i=!0,detectIframe:o=!1}=r;if(!n)return;Y&&!q&&(q=!0,Array.from(n.document.body.children).forEach(f=>f.addEventListener("click",j)),n.document.documentElement.addEventListener("click",j));let s=!0;const u=f=>a.some(c=>{if(typeof c=="string")return Array.from(n.document.querySelectorAll(c)).some(l=>l===f.target||f.composedPath().includes(l));{const l=N(c);return l&&(f.target===l||f.composedPath().includes(l))}}),v=[_(n,"click",f=>{const c=N(e);if(!(!c||c===f.target||f.composedPath().includes(c))){if(f.detail===0&&(s=!u(f)),!s){s=!0;return}t(f)}},{passive:!0,capture:i}),_(n,"pointerdown",f=>{const c=N(e);c&&(s=!f.composedPath().includes(c)&&!u(f))},{passive:!0}),o&&_(n,"blur",f=>{setTimeout(()=>{var c;const l=N(e);((c=n.document.activeElement)==null?void 0:c.tagName)==="IFRAME"&&!(l!=null&&l.contains(n.document.activeElement))&&t(f)},0)})].filter(Boolean);return()=>v.forEach(f=>f())}function se(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function Oe(...e){let t,r,n={};e.length===3?(t=e[0],r=e[1],n=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,r=e[0],n=e[1]):(t=e[0],r=e[1]):(t=!0,r=e[0]);const{target:a=M,eventName:i="keydown",passive:o=!1,dedupe:s=!1}=n,u=se(t);return _(a,i,v=>{v.repeat&&x(s)||u(v)&&r(v)},o)}function ue(){const{activeElement:e,body:t}=document;if(!e||e===t)return!1;switch(e.tagName){case"INPUT":case"TEXTAREA":return!0}return e.hasAttribute("contenteditable")}function le({keyCode:e,metaKey:t,ctrlKey:r,altKey:n}){return t||r||n?!1:e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122}function Ae(e,t={}){const{document:r=oe}=t;r&&_(r,"keydown",a=>{!ue()&&le(a)&&e(a)},{passive:!0})}function Ne(e,t=null){const r=U();let n=()=>{};const a=ne((i,o)=>(n=o,{get(){var s,u;return i(),(u=(s=r==null?void 0:r.proxy)==null?void 0:s.$refs[e])!=null?u:t},set(){}}));return z(n),re(n),a}function ce(){const e=w(!1);return U()&&ae(()=>{e.value=!0}),e}function L(e){const t=ce();return T(()=>(t.value,!!e()))}function $(e,t={}){const{window:r=M}=t,n=L(()=>r&&"matchMedia"in r&&typeof r.matchMedia=="function");let a;const i=w(!1),o=m=>{i.value=m.matches},s=()=>{a&&("removeEventListener"in a?a.removeEventListener("change",o):a.removeListener(o))},u=ie(()=>{n.value&&(s(),a=r.matchMedia(x(e)),"addEventListener"in a?a.addEventListener("change",o):a.addListener(o),i.value=a.matches)});return R(()=>{u(),s(),a=void 0}),i}function Te(e={}){const{navigator:t=W,read:r=!1,source:n,copiedDuring:a=1500,legacy:i=!1}=e,o=L(()=>t&&"clipboard"in t),s=T(()=>o.value||i),u=w(""),m=w(!1),v=G(()=>m.value=!1,a);function p(){o.value?t.clipboard.readText().then(d=>{u.value=d}):u.value=l()}s.value&&r&&_(["copy","cut"],p);async function f(d=x(n)){s.value&&d!=null&&(o.value?await t.clipboard.writeText(d):c(d),u.value=d,m.value=!0,v.start())}function c(d){const g=document.createElement("textarea");g.value=d!=null?d:"",g.style.position="absolute",g.style.opacity="0",document.body.appendChild(g),g.select(),document.execCommand("copy"),g.remove()}function l(){var d,g,E;return(E=(g=(d=document==null?void 0:document.getSelection)==null?void 0:d.call(document))==null?void 0:g.toString())!=null?E:""}return{isSupported:s,text:u,copied:m,copy:f}}function de(e){return JSON.parse(JSON.stringify(e))}const V=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},P="__vueuse_ssr_handlers__",fe=ve();function ve(){return P in V||(V[P]=V[P]||{}),V[P]}function K(e,t){return fe[e]||t}function me(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const pe={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},H="vueuse-storage";function he(e,t,r,n={}){var a;const{flush:i="pre",deep:o=!0,listenToStorageChanges:s=!0,writeDefaults:u=!0,mergeDefaults:m=!1,shallow:v,window:p=M,eventFilter:f,onError:c=h=>{console.error(h)}}=n,l=(v?B:w)(t);if(!r)try{r=K("getDefaultStorage",()=>{var h;return(h=M)==null?void 0:h.localStorage})()}catch(h){c(h)}if(!r)return l;const d=x(t),g=me(d),E=(a=n.serializer)!=null?a:pe[g],{pause:I,resume:b}=ee(l,()=>y(l.value),{flush:i,deep:o,eventFilter:f});return p&&s&&(_(p,"storage",k),_(p,H,D)),k(),l;function y(h){try{if(h==null)r.removeItem(e);else{const S=E.write(h),O=r.getItem(e);O!==S&&(r.setItem(e,S),p&&p.dispatchEvent(new CustomEvent(H,{detail:{key:e,oldValue:O,newValue:S,storageArea:r}})))}}catch(S){c(S)}}function A(h){const S=h?h.newValue:r.getItem(e);if(S==null)return u&&d!==null&&r.setItem(e,E.write(d)),d;if(!h&&m){const O=E.read(S);return typeof m=="function"?m(O,d):g==="object"&&!Array.isArray(O)?{...d,...O}:O}else return typeof S!="string"?S:E.read(S)}function D(h){k(h.detail)}function k(h){if(!(h&&h.storageArea!==r)){if(h&&h.key==null){l.value=d;return}if(!(h&&h.key!==e)){I();try{(h==null?void 0:h.newValue)!==E.write(l.value)&&(l.value=A(h))}catch(S){c(S)}finally{h?F(b):b()}}}}}function ge(e){return $("(prefers-color-scheme: dark)",e)}function we(e={}){const{selector:t="html",attribute:r="class",initialValue:n="auto",window:a=M,storage:i,storageKey:o="vueuse-color-scheme",listenToStorageChanges:s=!0,storageRef:u,emitAuto:m,disableTransition:v=!0}=e,p={auto:"",light:"light",dark:"dark",...e.modes||{}},f=ge({window:a}),c=T(()=>f.value?"dark":"light"),l=u||(o==null?Q(n):he(o,n,i,{window:a,listenToStorageChanges:s})),d=T(()=>l.value==="auto"?c.value:l.value),g=K("updateHTMLAttrs",(y,A,D)=>{const k=typeof y=="string"?a==null?void 0:a.document.querySelector(y):N(y);if(!k)return;let h;if(v){h=a.document.createElement("style");const S="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";h.appendChild(document.createTextNode(S)),a.document.head.appendChild(h)}if(A==="class"){const S=D.split(/\s/g);Object.values(p).flatMap(O=>(O||"").split(/\s/g)).filter(Boolean).forEach(O=>{S.includes(O)?k.classList.add(O):k.classList.remove(O)})}else k.setAttribute(A,D);v&&(a.getComputedStyle(h).opacity,document.head.removeChild(h))});function E(y){var A;g(t,r,(A=p[y])!=null?A:y)}function I(y){e.onChanged?e.onChanged(y,E):E(y)}C(d,I,{flush:"post",immediate:!0}),z(()=>I(d.value));const b=T({get(){return m?l.value:d.value},set(y){l.value=y}});try{return Object.assign(b,{store:l,system:c,state:d})}catch(y){return b}}function Me(e,t,r={}){const{window:n=M,...a}=r;let i;const o=L(()=>n&&"MutationObserver"in n),s=()=>{i&&(i.disconnect(),i=void 0)},u=C(()=>N(e),v=>{s(),o.value&&n&&v&&(i=new MutationObserver(t),i.observe(v,a))},{immediate:!0}),m=()=>{s(),u()};return R(m),{isSupported:o,stop:m}}function Ce(e={}){const{valueDark:t="dark",valueLight:r=""}=e,n=we({...e,onChanged:(i,o)=>{var s;e.onChanged?(s=e.onChanged)==null||s.call(e,i==="dark",o,i):o(i)},modes:{dark:t,light:r}});return T({get(){return n.value==="dark"},set(i){const o=i?"dark":"light";n.system.value===o?n.value="auto":n.value=o}})}function ye(e,t={}){const{controls:r=!1,navigator:n=W}=t,a=L(()=>n&&"permissions"in n);let i;const o=typeof e=="string"?{name:e}:e,s=w(),u=()=>{i&&(s.value=i.state)},m=Z(async()=>{if(a.value){if(!i)try{i=await n.permissions.query(o),_(i,"change",u),u()}catch(v){s.value="prompt"}return i}});return m(),r?{state:s,isSupported:a,query:m}:s}function De(e={}){const{navigator:t=W,requestPermissions:r=!1,constraints:n={audio:!0,video:!0},onUpdated:a}=e,i=w([]),o=T(()=>i.value.filter(l=>l.kind==="videoinput")),s=T(()=>i.value.filter(l=>l.kind==="audioinput")),u=T(()=>i.value.filter(l=>l.kind==="audiooutput")),m=L(()=>t&&t.mediaDevices&&t.mediaDevices.enumerateDevices),v=w(!1);let p;async function f(){m.value&&(i.value=await t.mediaDevices.enumerateDevices(),a==null||a(i.value),p&&(p.getTracks().forEach(l=>l.stop()),p=null))}async function c(){if(!m.value)return!1;if(v.value)return!0;const{state:l,query:d}=ye("camera",{controls:!0});return await d(),l.value!=="granted"&&(p=await t.mediaDevices.getUserMedia(n),f()),v.value=!0,v.value}return m.value&&(r&&c(),_(t.mediaDevices,"devicechange",f),f()),{devices:i,ensurePermissions:c,permissionGranted:v,videoInputs:o,audioInputs:s,audioOutputs:u,isSupported:m}}function be(e,t,r={}){const{window:n=M,...a}=r;let i;const o=L(()=>n&&"ResizeObserver"in n),s=()=>{i&&(i.disconnect(),i=void 0)},u=T(()=>Array.isArray(e)?e.map(p=>N(p)):[N(e)]),m=C(u,p=>{if(s(),o.value&&n){i=new ResizeObserver(t);for(const f of p)f&&i.observe(f,a)}},{immediate:!0,flush:"post",deep:!0}),v=()=>{s(),m()};return R(v),{isSupported:o,stop:v}}function ke(e,t={}){const{reset:r=!0,windowResize:n=!0,windowScroll:a=!0,immediate:i=!0}=t,o=w(0),s=w(0),u=w(0),m=w(0),v=w(0),p=w(0),f=w(0),c=w(0);function l(){const d=N(e);if(!d){r&&(o.value=0,s.value=0,u.value=0,m.value=0,v.value=0,p.value=0,f.value=0,c.value=0);return}const g=d.getBoundingClientRect();o.value=g.height,s.value=g.bottom,u.value=g.left,m.value=g.right,v.value=g.top,p.value=g.width,f.value=g.x,c.value=g.y}return be(e,l),C(()=>N(e),d=>!d&&l()),a&&_("scroll",l,{capture:!0,passive:!0}),n&&_("resize",l,{passive:!0}),z(()=>{i&&l()}),{height:o,bottom:s,left:u,right:m,top:v,width:p,x:f,y:c,update:l}}function Ie(e={}){var t,r;const n=w((t=e.enabled)!=null?t:!1),a=w((r=e.autoSwitch)!=null?r:!0),i=w(e.constraints),{navigator:o=W}=e,s=L(()=>{var d;return(d=o==null?void 0:o.mediaDevices)==null?void 0:d.getUserMedia}),u=B();function m(d){switch(d){case"video":{if(i.value)return i.value.video||!1;break}case"audio":{if(i.value)return i.value.audio||!1;break}}}async function v(){if(!(!s.value||u.value))return u.value=await o.mediaDevices.getUserMedia({video:m("video"),audio:m("audio")}),u.value}function p(){var d;(d=u.value)==null||d.getTracks().forEach(g=>g.stop()),u.value=void 0}function f(){p(),n.value=!1}async function c(){return await v(),u.value&&(n.value=!0),u.value}async function l(){return p(),await c()}return C(n,d=>{d?v():p()},{immediate:!0}),C(i,()=>{a.value&&u.value&&l()},{immediate:!0}),{isSupported:s,stream:u,start:c,stop:f,restart:l,constraints:i,enabled:n,autoSwitch:a}}function Le(e,t,r,n={}){var a,i,o;const{clone:s=!1,passive:u=!1,eventName:m,deep:v=!1,defaultValue:p,shouldEmit:f}=n,c=U(),l=r||(c==null?void 0:c.emit)||((a=c==null?void 0:c.$emit)==null?void 0:a.bind(c))||((o=(i=c==null?void 0:c.proxy)==null?void 0:i.$emit)==null?void 0:o.bind(c==null?void 0:c.proxy));let d=m;t||(t="modelValue"),d=d||`update:${t.toString()}`;const g=b=>s?typeof s=="function"?s(b):de(b):b,E=()=>te(e[t])?g(e[t]):p,I=b=>{f?f(b)&&l(d,b):l(d,b)};if(u){const b=E(),y=w(b);let A=!1;return C(()=>e[t],D=>{A||(A=!0,y.value=g(D),F(()=>A=!1))}),C(y,D=>{!A&&(D!==e[t]||v)&&I(D)},{deep:v}),y}else return T({get(){return E()},set(b){I(b)}})}function xe(e={}){const{window:t=M}=e;if(!t)return{x:w(0),y:w(0)};const r=w(t.scrollX),n=w(t.scrollY);return _(t,"scroll",()=>{r.value=t.scrollX,n.value=t.scrollY},{capture:!1,passive:!0}),{x:r,y:n}}function Ve(e={}){const{window:t=M,initialWidth:r=Number.POSITIVE_INFINITY,initialHeight:n=Number.POSITIVE_INFINITY,listenOrientation:a=!0,includeScrollbar:i=!0}=e,o=w(r),s=w(n),u=()=>{t&&(i?(o.value=t.innerWidth,s.value=t.innerHeight):(o.value=t.document.documentElement.clientWidth,s.value=t.document.documentElement.clientHeight))};if(u(),z(u),_("resize",u,{passive:!0}),a){const m=$("(orientation: portrait)");C(m,()=>u())}return{width:o,height:s}}export{ye as a,De as b,Ie as c,Oe as d,$ as e,ke as f,Ae as g,xe as h,Me as i,Ve as j,_ as k,Ce as l,Te as m,_e as o,Ne as t,Le as u};
