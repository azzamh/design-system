import{u as h}from"./index.aa62d5f4.js";import{u as m,r as i,q as y,A as g,_ as v,v as o,b as n,a4 as c,aj as w,F as x,V as b,L as B,X as p,B as f,a as V}from"./framework.0fccce8d.js";import{t as I}from"./index.5e9d7bb9.js";import{c as $}from"./accept.c8f4354a.js";const G=m({inheritAttrs:!1,props:{modelValue:{type:String,default:void 0},placeholder:{type:String,default:""},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},autoGrow:{type:Boolean,default:!1},resize:{type:Boolean,default:!1},showCounter:{type:Boolean,default:!1},rows:{type:[Number,String],default:3},maxlength:{type:[Number,String],default:void 0},accept:{type:String,default:void 0}},models:{prop:"modelValue",event:"update:modelValue"},emits:["input","update:modelValue"],setup(e){const a=I("textarea"),r=h(e),u=i(()=>{const t=["textarea"];return e.resize&&t.push("textarea--resize"),e.disabled&&t.push("textarea--disabled"),e.autoGrow&&t.push("textarea--autogrow"),e.readonly&&t.push("textarea--readonly"),e.error&&t.push("textarea--error","state--error"),t}),d=i(()=>r.value?r.value.length:"0");y(()=>e.autoGrow,t=>{t?s():a.value.style.removeProperty("height")},{flush:"post"}),g(()=>{e.autoGrow&&a.value&&s()});function s(){a.value.style.height="auto",a.value.style.height=`${a.value.scrollHeight}px`}function l(){e.autoGrow&&s()}return{model:r,classNames:u,handleInput:l,checkOnInput:$,charactersLength:d,calculateRowHeight:s}}});const S=["placeholder","disabled","readonly","rows","maxlength","aria-valuemax"],k={key:0,"data-testid":"calendar-counter",class:"textarea__counter"},z={key:0};function L(e,a,r,u,d,s){return o(),n("div",{"data-testid":"textarea",class:V(e.classNames)},[c(x("textarea",b({ref:"textarea","onUpdate:modelValue":a[0]||(a[0]=l=>e.model=l),"data-testid":"textarea-input",class:"textarea__input"},e.$attrs,{placeholder:e.placeholder,disabled:e.disabled,readonly:e.readonly,rows:e.rows,maxlength:e.maxlength,"aria-valuemax":e.maxlength,onBeforeinput:a[1]||(a[1]=l=>e.checkOnInput(e.accept,l)),onInput:a[2]||(a[2]=(...l)=>e.handleInput&&e.handleInput(...l))}),null,16,S),[[w,e.model]]),e.showCounter?(o(),n("div",k,[B(p(e.charactersLength),1),e.maxlength?(o(),n("span",z,"/"+p(e.maxlength),1)):f("",!0)])):f("",!0)],2)}const F=v(G,[["render",L]]);export{F as p};
