import{u as c,d,r as b,_ as m,M as f,v as i,b as u,y as T,O as h,p as _,s as v,C as y,a as l,aD as g,t as C,ad as S,J as x}from"./framework.0fccce8d.js";import{T as D}from"../components_toast_index.md.c721cef6.js";import{b as G}from"./baseClamp.947838b9.js";import{t as M,b as k}from"./toString.314d06e3.js";import{t as w}from"./toInteger.d4d227f4.js";import"./Button.5459a2e3.js";import"./Button.vue_vue_type_style_index_0_lang.b8d21c3a.js";import"./index.a3ecab28.js";import"./16.5ccad3f4.js";import"./use-singleton.7543c0e2.js";import"./isObjectLike.53b0037d.js";import"./isArray.513c67aa.js";import"./isSymbol.4326927f.js";import"./toNumber.75689a18.js";import"./isObject.32699ff3.js";function I(t,o,s){return t=M(t),s=s==null?0:G(w(s),0,t.length),o=k(o),t.slice(s,s+o.length)==o}const N=c({components:{Toast:D},props:{position:{type:String,default:"bottom-left"}},setup(t){const o=d([]),s=b(()=>{const a=[];return t.position&&a.push(`toast-container--${t.position}`),a});function r(a){I(a.position,"bottom")?o.value.push({...a,_id:Symbol("id")}):o.value.unshift({...a,_id:Symbol("id")})}function n(a){o.value.splice(a,1)}return{add:r,remove:n,items:o,classNames:s}}});function O(t,o,s,r,n,a){const p=f("Toast");return i(),u("div",{"data-testid":"toast-container",class:l(["toast-container",t.classNames])},[T(g,{tag:"div",name:"toast"},{default:h(()=>[(i(!0),u(_,null,v(t.items,(e,$)=>(i(),y(p,{key:e._id,title:e.title,text:e.text,type:e.type,variant:e.variant,duration:e.duration,class:l(e.toastClass),onDismissed:L=>t.remove($)},null,8,["title","text","type","variant","duration","class","onDismissed"]))),128))]),_:1})],2)}const z=m(N,[["render",O]]),H=c({components:{ToastGroup:z},setup(){const t=C(new Map);async function o(s){var a;s.position||(s.position="bottom-left");const r=s.position;let n=t.value.get(r);n||(n={ref:d(),position:r},t.value.set(r,n),S(t),await x()),(a=n.ref.value)==null||a.at(0).add(s)}return{add:o,groups:t}}});function J(t,o,s,r,n,a){const p=f("ToastGroup");return i(),u("div",null,[(i(!0),u(_,null,v(t.groups.values(),e=>(i(),y(p,{key:e.position,ref_for:!0,ref:e.ref,position:e.position},null,8,["position"]))),128))])}const Z=m(H,[["render",J]]);export{Z as default};
