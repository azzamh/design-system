import{t as f}from"./theme.9e82a338.js";import{u as S}from"./index.80f03769.js";import{A as x,B as V,a as C,O as B,L as E,g as b}from"./floating-ui.dom.browser.min.a94d243b.js";import{m as _,t as v,c as k,w as T,l as A,_ as h,a7 as w,a9 as M,x as c,p as d,G as g,q as N,v as L,r as U,aa as q,L as O,a8 as P,M as R,N as j,A as z,B as D,U as F}from"./framework.f0e3e228.js";import{p as G}from"./index.7398b71d.js";import{t as I}from"./toString.314d06e3.js";import"./marked.esm.710fa320.js";import"./commonjsHelpers.de833af9.js";import"./vite-browser-external_commonjs-proxy.0726eb50.js";import"./isObjectLike.53b0037d.js";import"./isArray.513c67aa.js";import"./isSymbol.4326927f.js";var H=0;function J(t){var r=++H;return I(t)+r}const K=_({props:{modelValue:{type:Boolean,default:!1},color:{type:String,default:"black"},target:{type:Object,default:void 0},placement:{type:String,default:"top"}},models:{prop:"modelValue",event:"update:modelValue"},emits:["update:modelValue","show","hide"],setup(t,{emit:r}){const i=S(t),u=v(t,"placement"),s=v(t,"target"),l=f("tooltip"),n=f("arrow"),o=k(()=>{const e=[];return t.color&&e.push(`tooltip--${t.color}`),e});return T(i,e=>{r(e?"show":"hide",s.value)}),A(e=>{if(l.value&&s.value&&n.value){const a=x(s.value,l.value,()=>{V(s.value,l.value,{strategy:"absolute",placement:u.value,middleware:[C(),B(),E(12),b({element:n.value})]}).then(({x:p,y:$,middlewareData:m,placement:y})=>{l.value&&(l.value.dataset.popperPlacement=y,l.value.style.left=`${p||0}px`,l.value.style.top=`${$||0}px`),n.value&&(n.value.style.left=`${m.arrow.x}px`,n.value.style.top=`${m.arrow.y}px`)})});e(a)}},{flush:"post"}),{isShow:i,classNames:o}}});const Q={ref:"arrow",class:"tooltip__arrow","data-popper-arrow":""};function W(t,r,i,u,s,l){return w((c(),d("div",{ref:"tooltip",class:L(["tooltip",t.classNames]),"data-testid":"tooltip"},[g("div",Q,null,512),N(t.$slots,"default")],2)),[[M,t.isShow]])}const X=h(K,[["render",W]]),Y=_({components:{Tooltip:X},directives:{pMd:G},setup(){const t=U(new Map);function r(o){const e=J("tooltip_");return t.value.set(e,q({...o,isShow:!1})),e}function i(o,e){const a=t.value.get(o);a&&(a.target=e.target,a.text=e.text,a.placement=e.placement)}function u(o){const e=t.value.get(o);e.target.dispatchEvent(new CustomEvent("tooltip:show",{detail:e,cancelable:!0}))&&(e.isShow=!0)}function s(o){const e=t.value.get(o);e.target.dispatchEvent(new CustomEvent("tooltip:hide",{detail:e,cancelable:!0}))&&(e.isShow=!1)}function l(o){t.value.get(o).isShow?s(o):u(o)}function n(o){t.value.delete(o)}return{items:t,add:r,update:i,show:u,hide:s,toggle:l,remove:n}}}),Z={class:"tooltip-container","data-testid":"tooltip-container"};function ee(t,r,i,u,s,l){const n=O("Tooltip"),o=P("p-md");return c(),d("div",Z,[(c(!0),d(R,null,j(t.items,([e,a])=>(c(),z(n,F({key:e,modelValue:a.isShow,"onUpdate:modelValue":p=>a.isShow=p},a),{default:D(()=>[w(g("span",null,null,512),[[o,a.text,void 0,{inline:!0}]])]),_:2},1040,["modelValue","onUpdate:modelValue"]))),128))])}const me=h(Y,[["render",ee]]);export{me as default};
