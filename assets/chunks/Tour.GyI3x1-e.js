import{d as $,o as i,c as d,J as h,g as u,p as m,f as p,w as r,q as v,a8 as w,t as f,F as T,b,n as D,a9 as V,r as L,A as x,N as B,H as k,l as H,ae as R,bi as A}from"./framework.95PECLjQ.js";import{_ as E}from"./Subheading.vue_vue_type_style_index_0_lang.KX7N7FXP.js";import{_ as I}from"./Caption.vue_vue_type_script_setup_true_lang.6AWZlLjq.js";import"./Caption.vue_vue_type_style_index_0_lang.w40geAFS.js";import{_}from"./Button.vue_vue_type_script_setup_true_lang.ZHeh2b3E.js";import"./Button.vue_vue_type_style_index_0_lang.w40geAFS.js";import{v as C}from"./index.x_H1g67V.js";import{I as U}from"./16.g7F7HU8t.js";import{a as N,c as j,b as q,s as G,i as J,h as M,o as O}from"./floating-ui.dom.Gn4DI--7.js";import"./index.hjpy5ZnQ.js";import"./SpinnerRinggo.vue_vue_type_script_setup_true_lang.eR8P-bYU.js";import"./theme.B-aWuVSp.js";import"./vite-browser-external_commonjs-proxy.t394MqUd.js";import"./defu.e0WOoTFj.js";const K=["src"],Q={class:"tour__body"},W={"data-testid":"tour-title"},X={"data-testid":"tour-text"},Y={class:"tour__footer"},Z={key:0,class:"tour__meta","data-testid":"tour-meta"},tt={class:"tour__controls"},et=m("span",{class:"tour__divider"},"â€¢",-1),at=$({__name:"TourDialog",props:{title:{type:String,default:void 0},text:{type:String,default:""},image:{type:String,default:void 0},highlight:{type:Boolean,default:!0},step:{type:Number,default:0},totalStep:{type:Number,default:0},dismissable:{type:Boolean,default:!0},prevLabel:{type:String,default:"Previous"},nextLabel:{type:String,default:"Next"},dismissLabel:{type:String,default:"Dismiss"},finishLabel:{type:String,default:"Finish"}},emits:["prev","next","dismiss"],setup(t){return(n,e)=>(i(),d("div",{class:D(["tour__dialog",{"tour--image":!!t.image}]),"data-testid":"tour-dialog"},[t.dismissable?(i(),d("span",{key:0,"data-testid":"tour-dismiss",class:"tour__dismiss",onClick:e[0]||(e[0]=a=>n.$emit("dismiss",a))},[h(U)])):u("",!0),t.image?(i(),d("img",{key:1,class:"tour__image","data-testid":"tour-image",src:t.image,alt:"tour-image",width:"320",height:"195"},null,8,K)):u("",!0),m("div",Q,[t.title?(i(),p(E,{key:0,class:"tour__title",size:"sm"},{default:r(()=>[w(m("span",W,null,512),[[v(C),t.title,void 0,{inline:!0}]])]),_:1})):u("",!0),h(I,null,{default:r(()=>[w(m("span",X,null,512),[[v(C),t.text,void 0,{inline:!0}]])]),_:1})]),m("div",Y,[t.totalStep>2?(i(),d("div",Z,f(t.step)+" / "+f(t.totalStep),1)):u("",!0),m("div",tt,[t.dismissable&&t.step<t.totalStep?(i(),d(T,{key:0},[h(_,{"data-testid":"tour-control-dismiss",size:"xs",variant:"link",onClick:e[1]||(e[1]=a=>n.$emit("dismiss",a))},{default:r(()=>[b(f(t.dismissLabel),1)]),_:1}),et],64)):u("",!0),h(_,{"data-testid":"tour-control-prev",size:"xs",variant:"link",disabled:t.step<2,onClick:e[2]||(e[2]=a=>n.$emit("prev",a))},{default:r(()=>[b(f(t.prevLabel),1)]),_:1},8,["disabled"]),t.step===t.totalStep?(i(),p(_,{key:1,"data-testid":"tour-control-finish",size:"xs",variant:"solid",color:"info",onClick:e[3]||(e[3]=a=>n.$emit("next",a))},{default:r(()=>[b(f(t.finishLabel),1)]),_:1})):(i(),p(_,{key:2,"data-testid":"tour-control-next",size:"xs",variant:"solid",color:"info",onClick:e[4]||(e[4]=a=>n.$emit("next",a))},{default:r(()=>[b(f(t.nextLabel),1)]),_:1}))])])],2))}}),it={class:"tour__backdrop"},st=$({inheritAttrs:!1,__name:"TourHighlight",props:{target:{type:Object,default:void 0}},setup(t){const e=V(t,"target"),a=L();return x(o=>{if(a.value&&e.value){const g=N(e.value,a.value,()=>{const s=e.value.getBoundingClientRect(),c=16;a.value.style.width=`${s.width+c}px`,a.value.style.height=`${s.height+c}px`,a.value.style.left=`${s.left-c/2}px`,a.value.style.top=`${s.top-c/2}px`},{animationFrame:!0});o(g)}}),(o,g)=>(i(),d("div",it,[m("div",B({ref_key:"highlight",ref:a,class:"tour__highlight"},o.$attrs),null,16)]))}}),ot={class:"tour"},_t=$({__name:"Tour",setup(t,{expose:n}){const e=L(!1),a=k(),o=k(),g=k(),s=H(()=>{var l;return(l=a.value)==null?void 0:l.$el});x(l=>{if(o.value&&s.value){const y=N(o.value,s.value,async()=>{j(o.value,s.value,{strategy:"absolute",middleware:[q({altBoundary:!0}),G({padding:16}),J(),M(),O(16)]}).then(({x:z,y:F,middlewareData:P})=>{s.value&&(s.value.style.transform=`translate3d(${z||0}px, ${F||0}px, 0)`,s.value.style.visibility=P.hide.referenceHidden?"hidden":"visible")})},{animationFrame:!0});l(y)}}),x(l=>{e.value&&document.body.classList.add("tour--active"),l(()=>{document.body.classList.remove("tour--active")})});function c(l,y){o.value=l,g.value=y,e.value=!0}function S(){e.value=!1}return R(()=>{S()}),n({show:c,hide:S}),(l,y)=>(i(),d("div",ot,[h(A,{name:"fade"},{default:r(()=>[v(e)?(i(),p(st,{key:0,target:v(o)},null,8,["target"])):u("",!0),v(e)?(i(),p(at,B({key:1,ref_key:"dialog",ref:a},v(g)),null,16)):u("",!0)]),_:1})]))}});export{_t as default};
