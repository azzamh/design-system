var vt=he=>{throw TypeError(he)};var Ke=(he,Pe,be)=>Pe.has(he)||vt("Cannot "+be);var s=(he,Pe,be)=>(Ke(he,Pe,"read from private field"),be?be.call(he):Pe.get(he)),z=(he,Pe,be)=>Pe.has(he)?vt("Cannot add the same private member more than once"):Pe instanceof WeakSet?Pe.add(he):Pe.set(he,be),F=(he,Pe,be,Te)=>(Ke(he,Pe,"write to private field"),Te?Te.call(he,be):Pe.set(he,be),be),A=(he,Pe,be)=>(Ke(he,Pe,"access private method"),be);var Pt=(he,Pe,be,Te)=>({set _(oe){F(he,Pe,oe,be)},get _(){return s(he,Pe,Te)}});import{g as Kt}from"./commonjsHelpers.BosuxZz1.js";function Zt(he,Pe){for(var be=0;be<Pe.length;be++){const Te=Pe[be];if(typeof Te!="string"&&!Array.isArray(Te)){for(const oe in Te)if(oe!=="default"&&!(oe in he)){const Oe=Object.getOwnPropertyDescriptor(Te,oe);Oe&&Object.defineProperty(he,oe,Oe.get?Oe:{enumerable:!0,get:()=>Te[oe]})}}}return Object.freeze(Object.defineProperty(he,Symbol.toStringTag,{value:"Module"}))}var bt={exports:{}};(function(he,Pe){(function(Te,oe){he.exports=Te.pdfjsViewer=oe()})(globalThis,()=>(()=>{var be=[,(G,o,w)=>{var T,v,O,E,Et,Ze,Qe,yt,St,wt,Ye,Lt,Mt,ze,Ve,Fe,Tt,Je,qe,We,At,et,tt,Be;Object.defineProperty(o,"__esModule",{value:!0}),o.PDFFindController=o.FindState=void 0;var l=w(2),a=w(3),k=w(4);const L={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};o.FindState=L;const _=250,u=-50,b=-400,I={"‐":"-","‘":"'","’":"'","‚":"'","‛":"'","“":'"',"”":'"',"„":'"',"‟":'"',"¼":"1/4","½":"1/2","¾":"3/4"},D=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]);let M;const d=new RegExp("\\p{M}+","gu"),y=new RegExp("([.*+?^${}()|[\\]\\\\])|(\\p{P})|(\\s+)|(\\p{M})|(\\p{L})","gu"),h=new RegExp("([^\\p{M}])\\p{M}*$","u"),i=new RegExp("^\\p{M}*([^\\p{M}])","u"),m=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,S=new Map,H="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",N=new Map;let B=null,U=null;function X(ie){const n=[];let e;for(;(e=m.exec(ie))!==null;){let{index:Le}=e;for(const we of e[0]){let me=S.get(we);me||(me=we.normalize("NFD").length,S.set(we,me)),n.push([me,Le++])}}let t;if(n.length===0&&B)t=B;else if(n.length>0&&U)t=U;else{const Le=Object.keys(I).join(""),we=(0,a.getNormalizeWithNFKC)(),Se=`([${Le}])|([${we}])|((?:゙|゚)\\n)|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|((?:\\p{Ideographic}|[぀-ヿ])\\n)|(\\n)`;n.length===0?t=B=new RegExp(Se+"|(\\u0000)","gum"):t=U=new RegExp(Se+`|(${H})`,"gum")}const r=[];for(;(e=d.exec(ie))!==null;)r.push([e[0].length,e.index]);let f=ie.normalize("NFD");const p=[[0,0]];let x=0,R=0,P=0,W=0,K=0,ne=!1;return f=f.replace(t,(Le,we,me,ye,Se,Ie,Ee,pe,q,ae)=>{var Ce,Ae,Re;if(ae-=W,we){const le=I[we],ve=le.length;for(let Me=1;Me<ve;Me++)p.push([ae-P+Me,P-Me]);return P-=ve-1,le}if(me){let le=N.get(me);le||(le=me.normalize("NFKC"),N.set(me,le));const ve=le.length;for(let Me=1;Me<ve;Me++)p.push([ae-P+Me,P-Me]);return P-=ve-1,le}if(ye)return ne=!0,ae+K===((Ce=r[x])==null?void 0:Ce[1])?++x:(p.push([ae-1-P+1,P-1]),P-=1,W+=1),p.push([ae-P+1,P]),W+=1,K+=1,ye.charAt(0);if(Se){const le=Se.endsWith(`
`),ve=le?Se.length-2:Se.length;ne=!0;let Me=ve;ae+K===((Ae=r[x])==null?void 0:Ae[1])&&(Me-=r[x][0],++x);for(let ke=1;ke<=Me;ke++)p.push([ae-1-P+ke,P-ke]);return P-=Me,W+=Me,le?(ae+=ve-1,p.push([ae-P+1,1+P]),P+=1,W+=1,K+=1,Se.slice(0,ve)):Se}if(Ie){const le=Ie.length-2;return p.push([ae-P+le,1+P]),P+=1,W+=1,K+=1,Ie.slice(0,-2)}if(Ee){const le=Ee.length-1;return p.push([ae-P+le,P]),W+=1,K+=1,Ee.slice(0,-1)}if(pe)return p.push([ae-P+1,P-1]),P-=1,W+=1,K+=1," ";if(ae+K===((Re=n[R])==null?void 0:Re[1])){const le=n[R][0]-1;++R;for(let ve=1;ve<=le;ve++)p.push([ae-(P-ve),P-ve]);P-=le,W+=le}return q}),p.push([f.length,P]),[f,p,ne]}function c(ie,n,e){if(!ie)return[n,e];const t=n,r=n+e-1;let f=(0,l.binarySearchFirstItem)(ie,W=>W[0]>=t);ie[f][0]>t&&--f;let p=(0,l.binarySearchFirstItem)(ie,W=>W[0]>=r,f);ie[p][0]>r&&--p;const x=t+ie[f][1],P=r+ie[p][1]+1-x;return[x,P]}class C{constructor({linkService:n,eventBus:e,updateMatchesCountOnProgress:t=!0}){z(this,E);z(this,T,null);z(this,v,!0);z(this,O,0);this._linkService=n,this._eventBus=e,F(this,v,t),this.onIsPageVisible=null,A(this,E,Ze).call(this),e._on("find",A(this,E,Et).bind(this)),e._on("findbarclose",A(this,E,At).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return s(this,T)}setDocument(n){this._pdfDocument&&A(this,E,Ze).call(this),n&&(this._pdfDocument=n,this._firstPageCapability.resolve())}scrollMatchIntoView({element:n=null,selectedLeft:e=0,pageIndex:t=-1,matchIndex:r=-1}){if(!this._scrollMatches||!n)return;if(r===-1||r!==this._selected.matchIdx)return;if(t===-1||t!==this._selected.pageIdx)return;this._scrollMatches=!1;const f={top:u,left:e+b};(0,l.scrollIntoView)(n,f,!0)}}T=new WeakMap,v=new WeakMap,O=new WeakMap,E=new WeakSet,Et=function(n){if(!n)return;n.phraseSearch===!1&&(console.error("The `phraseSearch`-parameter was removed, please provide an Array of strings in the `query`-parameter instead."),typeof n.query=="string"&&(n.query=n.query.match(/\S+/g)));const e=this._pdfDocument,{type:t}=n;(s(this,T)===null||A(this,E,yt).call(this,n))&&(this._dirtyMatch=!0),F(this,T,n),t!=="highlightallchange"&&A(this,E,Be).call(this,L.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||e&&this._pdfDocument!==e)return;A(this,E,Mt).call(this);const r=!this._highlightMatches,f=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),t?this._dirtyMatch?A(this,E,Fe).call(this):t==="again"?(A(this,E,Fe).call(this),r&&s(this,T).highlightAll&&A(this,E,Ve).call(this)):t==="highlightallchange"?(f?A(this,E,Fe).call(this):this._highlightMatches=!0,A(this,E,Ve).call(this)):A(this,E,Fe).call(this):this._findTimeout=setTimeout(()=>{A(this,E,Fe).call(this),this._findTimeout=null},_)})},Ze=function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],F(this,O,0),F(this,T,null),this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=new k.PromiseCapability},Qe=function(){const{query:n}=s(this,T);return typeof n=="string"?(n!==this._rawQuery&&(this._rawQuery=n,[this._normalizedQuery]=X(n)),this._normalizedQuery):(n||[]).filter(e=>!!e).map(e=>X(e)[0])},yt=function(n){var p,x;const e=n.query,t=s(this,T).query,r=typeof e;if(r!==typeof t)return!0;if(r==="string"){if(e!==t)return!0}else if(JSON.stringify(e)!==JSON.stringify(t))return!0;switch(n.type){case"again":const R=this._selected.pageIdx+1,P=this._linkService;return R>=1&&R<=P.pagesCount&&R!==P.page&&!((x=(p=this.onIsPageVisible)==null?void 0:p.call(this,R))==null||x);case"highlightallchange":return!1}return!0},St=function(n,e,t){let r=n.slice(0,e).match(h);if(r){const f=n.charCodeAt(e),p=r[1].charCodeAt(0);if((0,a.getCharacterType)(f)===(0,a.getCharacterType)(p))return!1}if(r=n.slice(e+t).match(i),r){const f=n.charCodeAt(e+t-1),p=r[1].charCodeAt(0);if((0,a.getCharacterType)(f)===(0,a.getCharacterType)(p))return!1}return!0},wt=function(n,e,t,r){const f=this._pageMatches[t]=[],p=this._pageMatchesLength[t]=[];if(!n)return;const x=this._pageDiffs[t];let R;for(;(R=n.exec(r))!==null;){if(e&&!A(this,E,St).call(this,r,R.index,R[0].length))continue;const[P,W]=c(x,R.index,R[0].length);W&&(f.push(P),p.push(W))}},Ye=function(n,e){const{matchDiacritics:t}=s(this,T);let r=!1;n=n.replaceAll(y,(p,x,R,P,W,K)=>x?`[ ]*\\${x}[ ]*`:R?`[ ]*${R}[ ]*`:P?"[ ]+":t?W||K:W?D.has(W.charCodeAt(0))?W:"":e?(r=!0,`${K}\\p{M}*`):K);const f="[ ]*";return n.endsWith(f)&&(n=n.slice(0,n.length-f.length)),t&&e&&(M||(M=String.fromCharCode(...D)),r=!0,n=`${n}(?=[${M}]|[^\\p{M}]|$)`),[r,n]},Lt=function(n){let e=s(this,E,Qe);if(e.length===0)return;const{caseSensitive:t,entireWord:r}=s(this,T),f=this._pageContents[n],p=this._hasDiacritics[n];let x=!1;typeof e=="string"?[x,e]=A(this,E,Ye).call(this,e,p):e=e.sort().reverse().map(W=>{const[K,ne]=A(this,E,Ye).call(this,W,p);return x||(x=K),`(${ne})`}).join("|");const R=`g${x?"u":""}${t?"":"i"}`;e=e?new RegExp(e,R):null,A(this,E,wt).call(this,e,r,n,f),s(this,T).highlightAll&&A(this,E,ze).call(this,n),this._resumePageIdx===n&&(this._resumePageIdx=null,A(this,E,Je).call(this));const P=this._pageMatches[n].length;this._matchesCountTotal+=P,s(this,v)?P>0&&A(this,E,tt).call(this):++Pt(this,O)._===this._linkService.pagesCount&&A(this,E,tt).call(this)},Mt=function(){if(this._extractTextPromises.length>0)return;let n=Promise.resolve();const e={disableNormalization:!0};for(let t=0,r=this._linkService.pagesCount;t<r;t++){const f=new k.PromiseCapability;this._extractTextPromises[t]=f.promise,n=n.then(()=>this._pdfDocument.getPage(t+1).then(p=>p.getTextContent(e)).then(p=>{const x=[];for(const R of p.items)x.push(R.str),R.hasEOL&&x.push(`
`);[this._pageContents[t],this._pageDiffs[t],this._hasDiacritics[t]]=X(x.join("")),f.resolve()},p=>{console.error(`Unable to get text content for page ${t+1}`,p),this._pageContents[t]="",this._pageDiffs[t]=null,this._hasDiacritics[t]=!1,f.resolve()}))}},ze=function(n){this._scrollMatches&&this._selected.pageIdx===n&&(this._linkService.page=n+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:n})},Ve=function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})},Fe=function(){const n=s(this,T).findPrevious,e=this._linkService.page-1,t=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=e,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,F(this,O,0),this._matchesCountTotal=0,A(this,E,Ve).call(this);for(let p=0;p<t;p++)this._pendingFindMatches.has(p)||(this._pendingFindMatches.add(p),this._extractTextPromises[p].then(()=>{this._pendingFindMatches.delete(p),A(this,E,Lt).call(this,p)}))}if(s(this,E,Qe).length===0){A(this,E,Be).call(this,L.FOUND);return}if(this._resumePageIdx)return;const f=this._offset;if(this._pagesToSearch=t,f.matchIdx!==null){const p=this._pageMatches[f.pageIdx].length;if(!n&&f.matchIdx+1<p||n&&f.matchIdx>0){f.matchIdx=n?f.matchIdx-1:f.matchIdx+1,A(this,E,We).call(this,!0);return}A(this,E,qe).call(this,n)}A(this,E,Je).call(this)},Tt=function(n){const e=this._offset,t=n.length,r=s(this,T).findPrevious;return t?(e.matchIdx=r?t-1:0,A(this,E,We).call(this,!0),!0):(A(this,E,qe).call(this,r),e.wrapped&&(e.matchIdx=null,this._pagesToSearch<0)?(A(this,E,We).call(this,!1),!0):!1)},Je=function(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let n=null;do{const e=this._offset.pageIdx;if(n=this._pageMatches[e],!n){this._resumePageIdx=e;break}}while(!A(this,E,Tt).call(this,n))},qe=function(n){const e=this._offset,t=this._linkService.pagesCount;e.pageIdx=n?e.pageIdx-1:e.pageIdx+1,e.matchIdx=null,this._pagesToSearch--,(e.pageIdx>=t||e.pageIdx<0)&&(e.pageIdx=n?t-1:0,e.wrapped=!0)},We=function(n=!1){let e=L.NOT_FOUND;const t=this._offset.wrapped;if(this._offset.wrapped=!1,n){const r=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,e=t?L.WRAPPED:L.FOUND,r!==-1&&r!==this._selected.pageIdx&&A(this,E,ze).call(this,r)}A(this,E,Be).call(this,e,s(this,T).findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,A(this,E,ze).call(this,this._selected.pageIdx))},At=function(n){const e=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||e&&this._pdfDocument!==e||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),A(this,E,Be).call(this,L.FOUND),this._highlightMatches=!1,A(this,E,Ve).call(this))})},et=function(){var f;const{pageIdx:n,matchIdx:e}=this._selected;let t=0,r=this._matchesCountTotal;if(e!==-1){for(let p=0;p<n;p++)t+=((f=this._pageMatches[p])==null?void 0:f.length)||0;t+=e+1}return(t<1||t>r)&&(t=r=0),{current:t,total:r}},tt=function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:A(this,E,et).call(this)})},Be=function(n,e=!1){var t,r;!s(this,v)&&(s(this,O)!==this._linkService.pagesCount||n===L.PENDING)||this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:n,previous:e,matchesCount:A(this,E,et).call(this),rawQuery:(r=(t=s(this,T))==null?void 0:t.query)!=null?r:null})},o.PDFFindController=C},(G,o)=>{var re,ee,ce,se,ie;Object.defineProperty(o,"__esModule",{value:!0}),o.animationStarted=o.VERTICAL_PADDING=o.UNKNOWN_SCALE=o.TextLayerMode=o.SpreadMode=o.SidebarView=o.ScrollMode=o.SCROLLBAR_PADDING=o.RenderingStates=o.ProgressBar=o.PresentationModeState=o.OutputScale=o.MIN_SCALE=o.MAX_SCALE=o.MAX_AUTO_SCALE=o.DEFAULT_SCALE_VALUE=o.DEFAULT_SCALE_DELTA=o.DEFAULT_SCALE=o.CursorTool=o.AutoPrintRegExp=void 0,o.apiPageLayoutToViewerModes=te,o.apiPageModeToSidebarView=ge,o.approximateFraction=T,o.backtrackBeforeAllVisibleElements=E,o.binarySearchFirstItem=C,o.docStyle=void 0,o.getActiveOrFocusedElement=Z,o.getPageSizeInches=O,o.getVisibleElements=g,o.isPortraitOrientation=xe,o.isValidRotation=ue,o.isValidScrollMode=de,o.isValidSpreadMode=$,o.normalizeWheelEventDelta=J,o.normalizeWheelEventDirection=Y,o.parseQueryString=U,o.removeNullCharacters=c,o.roundToDivide=v,o.scrollIntoView=N,o.toggleCheckedBtn=_e,o.toggleExpandedBtn=fe,o.watchScroll=B;const w="auto";o.DEFAULT_SCALE_VALUE=w;const l=1;o.DEFAULT_SCALE=l;const a=1.1;o.DEFAULT_SCALE_DELTA=a;const k=.1;o.MIN_SCALE=k;const L=10;o.MAX_SCALE=L;const _=0;o.UNKNOWN_SCALE=_;const u=1.25;o.MAX_AUTO_SCALE=u;const b=40;o.SCROLLBAR_PADDING=b;const I=5;o.VERTICAL_PADDING=I;const D={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};o.RenderingStates=D;const M={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};o.PresentationModeState=M;const d={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};o.SidebarView=d;const y={DISABLE:0,ENABLE:1,ENABLE_PERMISSIONS:2};o.TextLayerMode=y;const h={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};o.ScrollMode=h;const i={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};o.SpreadMode=i;const m={SELECT:0,HAND:1,ZOOM:2};o.CursorTool=m;const S=/\bprint\s*\(/;o.AutoPrintRegExp=S;class H{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}}o.OutputScale=H;function N(n,e,t=!1){let r=n.offsetParent;if(!r){console.error("offsetParent is not set -- cannot scroll");return}let f=n.offsetTop+n.clientTop,p=n.offsetLeft+n.clientLeft;for(;r.clientHeight===r.scrollHeight&&r.clientWidth===r.scrollWidth||t&&(r.classList.contains("markedContent")||getComputedStyle(r).overflow==="hidden");)if(f+=r.offsetTop,p+=r.offsetLeft,r=r.offsetParent,!r)return;e&&(e.top!==void 0&&(f+=e.top),e.left!==void 0&&(p+=e.left,r.scrollLeft=p)),r.scrollTop=f}function B(n,e){const t=function(p){f||(f=window.requestAnimationFrame(function(){f=null;const R=n.scrollLeft,P=r.lastX;R!==P&&(r.right=R>P),r.lastX=R;const W=n.scrollTop,K=r.lastY;W!==K&&(r.down=W>K),r.lastY=W,e(r)}))},r={right:!0,down:!0,lastX:n.scrollLeft,lastY:n.scrollTop,_eventHandler:t};let f=null;return n.addEventListener("scroll",t,!0),r}function U(n){const e=new Map;for(const[t,r]of new URLSearchParams(n))e.set(t.toLowerCase(),r);return e}const X=/[\x01-\x1F]/g;function c(n,e=!1){return typeof n!="string"?(console.error("The argument must be a string."),n):(e&&(n=n.replaceAll(X," ")),n.replaceAll("\0",""))}function C(n,e,t=0){let r=t,f=n.length-1;if(f<0||!e(n[f]))return n.length;if(e(n[r]))return r;for(;r<f;){const p=r+f>>1,x=n[p];e(x)?f=p:r=p+1}return r}function T(n){if(Math.floor(n)===n)return[n,1];const e=1/n,t=8;if(e>t)return[1,t];if(Math.floor(e)===e)return[1,e];const r=n>1?e:n;let f=0,p=1,x=1,R=1;for(;;){const W=f+x,K=p+R;if(K>t)break;r<=W/K?(x=W,R=K):(f=W,p=K)}let P;return r-f/p<x/R-r?P=r===n?[f,p]:[p,f]:P=r===n?[x,R]:[R,x],P}function v(n,e){const t=n%e;return t===0?n:Math.round(n-t+e)}function O({view:n,userUnit:e,rotate:t}){const[r,f,p,x]=n,R=t%180!==0,P=(p-r)/72*e,W=(x-f)/72*e;return{width:R?W:P,height:R?P:W}}function E(n,e,t){if(n<2)return n;let r=e[n].div,f=r.offsetTop+r.clientTop;f>=t&&(r=e[n-1].div,f=r.offsetTop+r.clientTop);for(let p=n-2;p>=0&&(r=e[p].div,!(r.offsetTop+r.clientTop+r.clientHeight<=f));--p)n=p;return n}function g({scrollEl:n,views:e,sortByVisibility:t=!1,horizontal:r=!1,rtl:f=!1}){const p=n.scrollTop,x=p+n.clientHeight,R=n.scrollLeft,P=R+n.clientWidth;function W(Ee){const pe=Ee.div;return pe.offsetTop+pe.clientTop+pe.clientHeight>p}function K(Ee){const pe=Ee.div,q=pe.offsetLeft+pe.clientLeft,ae=q+pe.clientWidth;return f?q<P:ae>R}const ne=[],Le=new Set,we=e.length;let me=C(e,r?K:W);me>0&&me<we&&!r&&(me=E(me,e,p));let ye=r?P:-1;for(let Ee=me;Ee<we;Ee++){const pe=e[Ee],q=pe.div,ae=q.offsetLeft+q.clientLeft,Ce=q.offsetTop+q.clientTop,Ae=q.clientWidth,Re=q.clientHeight,le=ae+Ae,ve=Ce+Re;if(ye===-1)ve>=x&&(ye=ve);else if((r?ae:Ce)>ye)break;if(ve<=p||Ce>=x||le<=R||ae>=P)continue;const Me=Math.max(0,p-Ce)+Math.max(0,ve-x),ke=Math.max(0,R-ae)+Math.max(0,le-P),Gt=(Re-Me)/Re,mt=(Ae-ke)/Ae,Xt=Gt*mt*100|0;ne.push({id:pe.id,x:ae,y:Ce,view:pe,percent:Xt,widthPercent:mt*100|0}),Le.add(pe.id)}const Se=ne[0],Ie=ne.at(-1);return t&&ne.sort(function(Ee,pe){const q=Ee.percent-pe.percent;return Math.abs(q)>.001?-q:Ee.id-pe.id}),{first:Se,last:Ie,views:ne,ids:Le}}function Y(n){let e=Math.hypot(n.deltaX,n.deltaY);const t=Math.atan2(n.deltaY,n.deltaX);return-.25*Math.PI<t&&t<.75*Math.PI&&(e=-e),e}function J(n){const e=n.deltaMode;let t=Y(n);const r=30,f=30;return e===WheelEvent.DOM_DELTA_PIXEL?t/=r*f:e===WheelEvent.DOM_DELTA_LINE&&(t/=f),t}function ue(n){return Number.isInteger(n)&&n%90===0}function de(n){return Number.isInteger(n)&&Object.values(h).includes(n)&&n!==h.UNKNOWN}function $(n){return Number.isInteger(n)&&Object.values(i).includes(n)&&n!==i.UNKNOWN}function xe(n){return n.width<=n.height}const De=new Promise(function(n){window.requestAnimationFrame(n)});o.animationStarted=De;const V=document.documentElement.style;o.docStyle=V;function j(n,e,t){return Math.min(Math.max(n,e),t)}class Q{constructor(e){z(this,re,null);z(this,ee,null);z(this,ce,0);z(this,se,null);z(this,ie,!0);F(this,re,e.classList),F(this,se,e.style)}get percent(){return s(this,ce)}set percent(e){if(F(this,ce,j(e,0,100)),isNaN(e)){s(this,re).add("indeterminate");return}s(this,re).remove("indeterminate"),s(this,se).setProperty("--progressBar-percent",`${s(this,ce)}%`)}setWidth(e){if(!e)return;const r=e.parentNode.offsetWidth-e.offsetWidth;r>0&&s(this,se).setProperty("--progressBar-end-offset",`${r}px`)}setDisableAutoFetch(e=5e3){isNaN(s(this,ce))||(s(this,ee)&&clearTimeout(s(this,ee)),this.show(),F(this,ee,setTimeout(()=>{F(this,ee,null),this.hide()},e)))}hide(){s(this,ie)&&(F(this,ie,!1),s(this,re).add("hidden"))}show(){s(this,ie)||(F(this,ie,!0),s(this,re).remove("hidden"))}}re=new WeakMap,ee=new WeakMap,ce=new WeakMap,se=new WeakMap,ie=new WeakMap,o.ProgressBar=Q;function Z(){let n=document,e=n.activeElement||n.querySelector(":focus");for(;e!=null&&e.shadowRoot;)n=e.shadowRoot,e=n.activeElement||n.querySelector(":focus");return e}function te(n){let e=h.VERTICAL,t=i.NONE;switch(n){case"SinglePage":e=h.PAGE;break;case"OneColumn":break;case"TwoPageLeft":e=h.PAGE;case"TwoColumnLeft":t=i.ODD;break;case"TwoPageRight":e=h.PAGE;case"TwoColumnRight":t=i.EVEN;break}return{scrollMode:e,spreadMode:t}}function ge(n){switch(n){case"UseNone":return d.NONE;case"UseThumbs":return d.THUMBS;case"UseOutlines":return d.OUTLINE;case"UseAttachments":return d.ATTACHMENTS;case"UseOC":return d.LAYERS}return d.NONE}function _e(n,e,t=null){n.classList.toggle("toggled",e),n.setAttribute("aria-checked",e),t==null||t.classList.toggle("hidden",!e)}function fe(n,e,t=null){n.classList.toggle("toggled",e),n.setAttribute("aria-expanded",e),t==null||t.classList.toggle("hidden",!e)}},(G,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CharacterType=void 0,o.getCharacterType=d,o.getNormalizeWithNFKC=h;const w={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};o.CharacterType=w;function l(i){return i<11904}function a(i){return(i&65408)===0}function k(i){return i>=97&&i<=122||i>=65&&i<=90}function L(i){return i>=48&&i<=57}function _(i){return i===32||i===9||i===13||i===10}function u(i){return i>=13312&&i<=40959||i>=63744&&i<=64255}function b(i){return i>=12448&&i<=12543}function I(i){return i>=12352&&i<=12447}function D(i){return i>=65376&&i<=65439}function M(i){return(i&65408)===3584}function d(i){return l(i)?a(i)?_(i)?w.SPACE:k(i)||L(i)||i===95?w.ALPHA_LETTER:w.PUNCT:M(i)?w.THAI_LETTER:i===160?w.SPACE:w.ALPHA_LETTER:u(i)?w.HAN_LETTER:b(i)?w.KATAKANA_LETTER:I(i)?w.HIRAGANA_LETTER:D(i)?w.HALFWIDTH_KATAKANA_LETTER:w.ALPHA_LETTER}let y;function h(){return y||(y=" ¨ª¯²-µ¸-º¼-¾Ĳ-ĳĿ-ŀŉſǄ-ǌǱ-ǳʰ-ʸ˘-˝ˠ-ˤʹͺ;΄-΅·ϐ-ϖϰ-ϲϴ-ϵϹևٵ-ٸक़-य़ড়-ঢ়য়ਲ਼ਸ਼ਖ਼-ਜ਼ਫ਼ଡ଼-ଢ଼ำຳໜ-ໝ༌གྷཌྷདྷབྷཛྷཀྵჼᴬ-ᴮᴰ-ᴺᴼ-ᵍᵏ-ᵪᵸᶛ-ᶿẚ-ẛάέήίόύώΆ᾽-῁ΈΉ῍-῏ΐΊ῝-῟ΰΎ῭-`ΌΏ´-῾ - ‑‗․-… ″-‴‶-‷‼‾⁇-⁉⁗ ⁰-ⁱ⁴-₎ₐ-ₜ₨℀-℃℅-ℇ℉-ℓℕ-№ℙ-ℝ℠-™ℤΩℨK-ℭℯ-ℱℳ-ℹ℻-⅀ⅅ-ⅉ⅐-ⅿ↉∬-∭∯-∰〈-〉①-⓪⨌⩴-⩶⫝̸ⱼ-ⱽⵯ⺟⻳⼀-⿕　〶〸-〺゛-゜ゟヿㄱ-ㆎ㆒-㆟㈀-㈞㈠-㉇㉐-㉾㊀-㏿ꚜ-ꚝꝰꟲ-ꟴꟸ-ꟹꭜ-ꭟꭩ豈-嗀塚晴凞-羽蘒諸逸-都飯-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-זּטּ-לּמּנּ-סּףּ-פּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-﷼︐-︙︰-﹄﹇-﹒﹔-﹦﹨-﹫ﹰ-ﹲﹴﹶ-ﻼ！-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ￠-￦"),y}},G=>{G.exports=globalThis.pdfjsLib},(G,o,w)=>{var b,I,it,M,It;Object.defineProperty(o,"__esModule",{value:!0}),o.SimpleLinkService=o.PDFLinkService=o.LinkTarget=void 0;var l=w(2);const a="noopener noreferrer nofollow",k={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};o.LinkTarget=k;function L(h,{url:i,target:m,rel:S,enabled:H=!0}={}){if(!i||typeof i!="string")throw new Error('A valid "url" parameter must provided.');H?h.href=h.title=i:(h.href="",h.title=`Disabled: ${i}`,h.onclick=()=>!1);let N="";switch(m){case k.NONE:break;case k.SELF:N="_self";break;case k.BLANK:N="_blank";break;case k.PARENT:N="_parent";break;case k.TOP:N="_top";break}h.target=N,h.rel=typeof S=="string"?S:a}const y=class y{constructor({eventBus:i,externalLinkTarget:m=null,externalLinkRel:S=null,ignoreDestinationZoom:H=!1}={}){z(this,I);z(this,b,new Map);this.eventBus=i,this.externalLinkTarget=m,this.externalLinkRel=S,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=H,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(i,m=null){this.baseUrl=m,this.pdfDocument=i,s(this,b).clear()}setViewer(i){this.pdfViewer=i}setHistory(i){this.pdfHistory=i}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(i){this.pdfViewer.currentPageNumber=i}get rotation(){return this.pdfViewer.pagesRotation}set rotation(i){this.pdfViewer.pagesRotation=i}get isInPresentationMode(){return this.pdfViewer.isInPresentationMode}async goToDestination(i){if(!this.pdfDocument)return;let m,S;if(typeof i=="string"?(m=i,S=await this.pdfDocument.getDestination(i)):(m=null,S=await i),!Array.isArray(S)){console.error(`PDFLinkService.goToDestination: "${S}" is not a valid destination array, for dest="${i}".`);return}A(this,I,it).call(this,i,m,S)}goToPage(i){if(!this.pdfDocument)return;const m=typeof i=="string"&&this.pdfViewer.pageLabelToPageNumber(i)||i|0;if(!(Number.isInteger(m)&&m>0&&m<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${i}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(m)),this.pdfViewer.scrollPageIntoView({pageNumber:m})}addLinkAttributes(i,m,S=!1){L(i,{url:m,target:S?k.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(i){if(typeof i=="string"){if(i.length>0)return this.getAnchorUrl("#"+escape(i))}else if(Array.isArray(i)){const m=JSON.stringify(i);if(m.length>0)return this.getAnchorUrl("#"+escape(m))}return this.getAnchorUrl("")}getAnchorUrl(i){return this.baseUrl?this.baseUrl+i:i}setHash(i){var H;if(!this.pdfDocument)return;let m,S;if(i.includes("=")){const N=(0,l.parseQueryString)(i);if(N.has("search")){const B=N.get("search").replaceAll('"',""),U=N.get("phrase")==="true";this.eventBus.dispatch("findfromurlhash",{source:this,query:U?B:B.match(/\S+/g)})}if(N.has("page")&&(m=N.get("page")|0||1),N.has("zoom")){const B=N.get("zoom").split(","),U=B[0],X=parseFloat(U);U.includes("Fit")?U==="Fit"||U==="FitB"?S=[null,{name:U}]:U==="FitH"||U==="FitBH"||U==="FitV"||U==="FitBV"?S=[null,{name:U},B.length>1?B[1]|0:null]:U==="FitR"?B.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):S=[null,{name:U},B[1]|0,B[2]|0,B[3]|0,B[4]|0]:console.error(`PDFLinkService.setHash: "${U}" is not a valid zoom value.`):S=[null,{name:"XYZ"},B.length>1?B[1]|0:null,B.length>2?B[2]|0:null,X?X/100:U]}S?this.pdfViewer.scrollPageIntoView({pageNumber:m||this.page,destArray:S,allowNegativeOffset:!0}):m&&(this.page=m),N.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:N.get("pagemode")}),N.has("nameddest")&&this.goToDestination(N.get("nameddest"))}else{S=unescape(i);try{S=JSON.parse(S),Array.isArray(S)||(S=S.toString())}catch(N){}if(typeof S=="string"||A(H=y,M,It).call(H,S)){this.goToDestination(S);return}console.error(`PDFLinkService.setHash: "${unescape(i)}" is not a valid destination.`)}}executeNamedAction(i){var m,S;switch(i){case"GoBack":(m=this.pdfHistory)==null||m.back();break;case"GoForward":(S=this.pdfHistory)==null||S.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break}this.eventBus.dispatch("namedaction",{source:this,action:i})}async executeSetOCGState(i){const m=this.pdfDocument,S=await this.pdfViewer.optionalContentConfigPromise;if(m!==this.pdfDocument)return;let H;for(const N of i.state){switch(N){case"ON":case"OFF":case"Toggle":H=N;continue}switch(H){case"ON":S.setVisibility(N,!0);break;case"OFF":S.setVisibility(N,!1);break;case"Toggle":const B=S.getGroup(N);B&&S.setVisibility(N,!B.visible);break}}this.pdfViewer.optionalContentConfigPromise=Promise.resolve(S)}cachePageRef(i,m){if(!m)return;const S=m.gen===0?`${m.num}R`:`${m.num}R${m.gen}`;s(this,b).set(S,i)}_cachedPageNumber(i){if(!i)return null;const m=i.gen===0?`${i.num}R`:`${i.num}R${i.gen}`;return s(this,b).get(m)||null}};b=new WeakMap,I=new WeakSet,it=function(i,m=null,S){const H=S[0];let N;if(typeof H=="object"&&H!==null){if(N=this._cachedPageNumber(H),!N){this.pdfDocument.getPageIndex(H).then(B=>{this.cachePageRef(B+1,H),A(this,I,it).call(this,i,m,S)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${H}" is not a valid page reference, for dest="${i}".`)});return}}else if(Number.isInteger(H))N=H+1;else{console.error(`PDFLinkService.#goToDestinationHelper: "${H}" is not a valid destination reference, for dest="${i}".`);return}if(!N||N<1||N>this.pagesCount){console.error(`PDFLinkService.#goToDestinationHelper: "${N}" is not a valid page number, for dest="${i}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:m,explicitDest:S,pageNumber:N})),this.pdfViewer.scrollPageIntoView({pageNumber:N,destArray:S,ignoreDestinationZoom:this._ignoreDestinationZoom})},M=new WeakSet,It=function(i){if(!Array.isArray(i))return!1;const m=i.length;if(m<2)return!1;const S=i[0];if(!(typeof S=="object"&&Number.isInteger(S.num)&&Number.isInteger(S.gen))&&!(Number.isInteger(S)&&S>=0))return!1;const H=i[1];if(!(typeof H=="object"&&typeof H.name=="string"))return!1;let N=!0;switch(H.name){case"XYZ":if(m!==5)return!1;break;case"Fit":case"FitB":return m===2;case"FitH":case"FitBH":case"FitV":case"FitBV":if(m!==3)return!1;break;case"FitR":if(m!==6)return!1;N=!1;break;default:return!1}for(let B=2;B<m;B++){const U=i[B];if(!(typeof U=="number"||N&&U===null))return!1}return!0},z(y,M);let _=y;o.PDFLinkService=_;class u{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(i){}get rotation(){return 0}set rotation(i){}get isInPresentationMode(){return!1}async goToDestination(i){}goToPage(i){}addLinkAttributes(i,m,S=!1){L(i,{url:m,enabled:this.externalLinkEnabled})}getDestinationHash(i){return"#"}getAnchorUrl(i){return"#"}setHash(i){}executeNamedAction(i){}executeSetOCGState(i){}cachePageRef(i,m){}}o.SimpleLinkService=u},(G,o,w)=>{var _,u,nt;Object.defineProperty(o,"__esModule",{value:!0}),o.AnnotationLayerBuilder=void 0;var l=w(4),a=w(7),k=w(2);class L{constructor({pageDiv:D,pdfPage:M,linkService:d,downloadManager:y,annotationStorage:h=null,imageResourcesPath:i="",renderForms:m=!0,l10n:S=a.NullL10n,enableScripting:H=!1,hasJSActionsPromise:N=null,fieldObjectsPromise:B=null,annotationCanvasMap:U=null,accessibilityManager:X=null}){z(this,u);z(this,_,null);this.pageDiv=D,this.pdfPage=M,this.linkService=d,this.downloadManager=y,this.imageResourcesPath=i,this.renderForms=m,this.l10n=S,this.annotationStorage=h,this.enableScripting=H,this._hasJSActionsPromise=N||Promise.resolve(!1),this._fieldObjectsPromise=B||Promise.resolve(null),this._annotationCanvasMap=U,this._accessibilityManager=X,this.annotationLayer=null,this.div=null,this._cancelled=!1,this._eventBus=d.eventBus}async render(D,M="display"){var m;if(this.div){if(this._cancelled||!this.annotationLayer)return;this.annotationLayer.update({viewport:D.clone({dontFlip:!0})});return}const[d,y,h]=await Promise.all([this.pdfPage.getAnnotations({intent:M}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled)return;const i=this.div=document.createElement("div");if(i.className="annotationLayer",this.pageDiv.append(i),d.length===0){this.hide();return}this.annotationLayer=new l.AnnotationLayer({div:i,accessibilityManager:this._accessibilityManager,annotationCanvasMap:this._annotationCanvasMap,l10n:this.l10n,page:this.pdfPage,viewport:D.clone({dontFlip:!0})}),await this.annotationLayer.render({annotations:d,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:y,fieldObjects:h}),this.linkService.isInPresentationMode&&A(this,u,nt).call(this,k.PresentationModeState.FULLSCREEN),s(this,_)||(F(this,_,S=>{A(this,u,nt).call(this,S.state)}),(m=this._eventBus)==null||m._on("presentationmodechanged",s(this,_)))}cancel(){var D;this._cancelled=!0,s(this,_)&&((D=this._eventBus)==null||D._off("presentationmodechanged",s(this,_)),F(this,_,null))}hide(){this.div&&(this.div.hidden=!0)}}_=new WeakMap,u=new WeakSet,nt=function(D){if(!this.div)return;let M=!1;switch(D){case k.PresentationModeState.FULLSCREEN:M=!0;break;case k.PresentationModeState.NORMAL:break;default:return}for(const d of this.div.childNodes)d.hasAttribute("data-internal-link")||(d.inert=M)},o.AnnotationLayerBuilder=L},(G,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.NullL10n=void 0,o.getL10nFallback=l;const w={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};w.print_progress_percent="{{progress}}%";function l(L,_){switch(L){case"find_match_count":L=`find_match_count[${_.total===1?"one":"other"}]`;break;case"find_match_count_limit":L=`find_match_count_limit[${_.limit===1?"one":"other"}]`;break}return w[L]||""}function a(L,_){return _?L.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(u,b)=>b in _?_[b]:"{{"+b+"}}"):L}const k={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(L,_=null,u=l(L,_)){return a(u,_)},async translate(L){}};o.NullL10n=k},(G,o,w)=>{var L;Object.defineProperty(o,"__esModule",{value:!0}),o.DownloadManager=void 0;var l=w(4);function a(_,u){const b=document.createElement("a");if(!b.click)throw new Error('DownloadManager: "a.click()" is not supported.');b.href=_,b.target="_parent","download"in b&&(b.download=u),(document.body||document.documentElement).append(b),b.click(),b.remove()}class k{constructor(){z(this,L,new WeakMap)}downloadUrl(u,b,I){if(!(0,l.createValidAbsoluteUrl)(u,"http://example.com")){console.error(`downloadUrl - not a valid URL: ${u}`);return}a(u+"#pdfjs.action=download",b)}downloadData(u,b,I){const D=URL.createObjectURL(new Blob([u],{type:I}));a(D,b)}openOrDownloadData(u,b,I){const M=(0,l.isPdfFile)(I)?"application/pdf":"";return this.downloadData(b,I,M),!1}download(u,b,I,D){const M=URL.createObjectURL(u);a(M,I)}}L=new WeakMap,o.DownloadManager=k},(G,o)=>{var L;Object.defineProperty(o,"__esModule",{value:!0}),o.WaitOnType=o.EventBus=o.AutomationEventBus=void 0,o.waitOnEventOrTimeout=l;const w={EVENT:"event",TIMEOUT:"timeout"};o.WaitOnType=w;function l({target:_,name:u,delay:b=0}){return new Promise(function(I,D){if(typeof _!="object"||!(u&&typeof u=="string")||!(Number.isInteger(b)&&b>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function M(i){_ instanceof a?_._off(u,d):_.removeEventListener(u,d),h&&clearTimeout(h),I(i)}const d=M.bind(null,w.EVENT);_ instanceof a?_._on(u,d):_.addEventListener(u,d);const y=M.bind(null,w.TIMEOUT),h=setTimeout(y,b)})}class a{constructor(){z(this,L,Object.create(null))}on(u,b,I=null){this._on(u,b,{external:!0,once:I==null?void 0:I.once})}off(u,b,I=null){this._off(u,b,{external:!0,once:I==null?void 0:I.once})}dispatch(u,b){const I=s(this,L)[u];if(!I||I.length===0)return;let D;for(const{listener:M,external:d,once:y}of I.slice(0)){if(y&&this._off(u,M),d){(D||(D=[])).push(M);continue}M(b)}if(D){for(const M of D)M(b);D=null}}_on(u,b,I=null){var M;((M=s(this,L))[u]||(M[u]=[])).push({listener:b,external:(I==null?void 0:I.external)===!0,once:(I==null?void 0:I.once)===!0})}_off(u,b,I=null){const D=s(this,L)[u];if(D){for(let M=0,d=D.length;M<d;M++)if(D[M].listener===b){D.splice(M,1);return}}}}L=new WeakMap,o.EventBus=a;class k extends a{dispatch(u,b){throw new Error("Not implemented: AutomationEventBus.dispatch")}}o.AutomationEventBus=k},(G,o,w)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.GenericL10n=void 0,w(11);var l=w(7);const a={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};function k(_){return a[_==null?void 0:_.toLowerCase()]||_}class L{constructor(u){const{webL10n:b}=document;this._lang=u,this._ready=new Promise((I,D)=>{b.setLanguage(k(u),()=>{I(b)})})}async getLanguage(){return(await this._ready).getLanguage()}async getDirection(){return(await this._ready).getDirection()}async get(u,b=null,I=(0,l.getL10nFallback)(u,b)){return(await this._ready).get(u,b,I)}async translate(u){return(await this._ready).translate(u)}}o.GenericL10n=L},()=>{document.webL10n=function(G,o){var w={},l="",a="textContent",k="",L={},_="loading",u=!0;function b(){return o.querySelectorAll('link[type="application/l10n"]')}function I(){var c=o.querySelector('script[type="application/l10n"]');return c?JSON.parse(c.innerHTML):null}function D(c){return c?c.querySelectorAll("*[data-l10n-id]"):[]}function M(c){if(!c)return{};var C=c.getAttribute("data-l10n-id"),T=c.getAttribute("data-l10n-args"),v={};if(T)try{v=JSON.parse(T)}catch(O){console.warn("could not parse arguments for #"+C)}return{id:C,args:v}}function d(c,C,T){C=C||function(E){},T=T||function(){};var v=new XMLHttpRequest;v.open("GET",c,u),v.overrideMimeType&&v.overrideMimeType("text/plain; charset=utf-8"),v.onreadystatechange=function(){v.readyState==4&&(v.status==200||v.status===0?C(v.responseText):T())},v.onerror=T,v.ontimeout=T;try{v.send(null)}catch(O){T()}}function y(c,C,T,v){var O=c.replace(/[^\/]*$/,"")||"./";function E(Y){return Y.lastIndexOf("\\")<0?Y:Y.replace(/\\\\/g,"\\").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}function g(Y,J){var ue={},de=/^\s*|\s*$/,$=/^\s*#|^\s*$/,xe=/^\s*\[(.*)\]\s*$/,De=/^\s*@import\s+url\((.*)\)\s*$/i,V=/^([^=\s]*)\s*=\s*(.+)$/;function j(Z,te,ge){var _e=Z.replace(de,"").split(/[\r\n]+/),fe="*",re=C.split("-",1)[0],ee=!1,ce="";function se(){for(;;){if(!_e.length){ge();return}var ie=_e.shift();if(!$.test(ie)){if(te){if(ce=xe.exec(ie),ce){fe=ce[1].toLowerCase(),ee=fe!=="*"&&fe!==C&&fe!==re;continue}else if(ee)continue;if(ce=De.exec(ie),ce){Q(O+ce[1],se);return}}var n=ie.match(V);n&&n.length==3&&(ue[n[1]]=E(n[2]))}}}se()}function Q(Z,te){d(Z,function(ge){j(ge,!1,te)},function(){console.warn(Z+" not found."),te()})}j(Y,!0,function(){J(ue)})}d(c,function(Y){l+=Y,g(Y,function(J){for(var ue in J){var de,$,xe=ue.lastIndexOf(".");xe>0?(de=ue.substring(0,xe),$=ue.substring(xe+1)):(de=ue,$=a),w[de]||(w[de]={}),w[de][$]=J[ue]}T&&T()})},v)}function h(c,C){c&&(c=c.toLowerCase()),C=C||function(){},i(),k=c;var T=b(),v=T.length;if(v===0){var O=I();if(O&&O.locales&&O.default_locale){if(console.log("using the embedded JSON directory, early way out"),w=O.locales[c],!w){var E=O.default_locale.toLowerCase();for(var g in O.locales)if(g=g.toLowerCase(),g===c){w=O.locales[c];break}else g===E&&(w=O.locales[E])}C()}else console.log("no resource to load, early way out");_="complete";return}var Y=null,J=0;Y=function(){J++,J>=v&&(C(),_="complete")};function ue(xe){var De=xe.href;this.load=function(V,j){y(De,V,j,function(){console.warn(De+" not found."),console.warn('"'+V+'" resource not found'),k="",j()})}}for(var de=0;de<v;de++){var $=new ue(T[de]);$.load(c,Y)}}function i(){w={},l="",k=""}function m(c){var C={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3};function T(g,Y){return Y.indexOf(g)!==-1}function v(g,Y,J){return Y<=g&&g<=J}var O={0:function(g){return"other"},1:function(g){return v(g%100,3,10)?"few":g===0?"zero":v(g%100,11,99)?"many":g==2?"two":g==1?"one":"other"},2:function(g){return g!==0&&g%10===0?"many":g==2?"two":g==1?"one":"other"},3:function(g){return g==1?"one":"other"},4:function(g){return v(g,0,1)?"one":"other"},5:function(g){return v(g,0,2)&&g!=2?"one":"other"},6:function(g){return g===0?"zero":g%10==1&&g%100!=11?"one":"other"},7:function(g){return g==2?"two":g==1?"one":"other"},8:function(g){return v(g,3,6)?"few":v(g,7,10)?"many":g==2?"two":g==1?"one":"other"},9:function(g){return g===0||g!=1&&v(g%100,1,19)?"few":g==1?"one":"other"},10:function(g){return v(g%10,2,9)&&!v(g%100,11,19)?"few":g%10==1&&!v(g%100,11,19)?"one":"other"},11:function(g){return v(g%10,2,4)&&!v(g%100,12,14)?"few":g%10===0||v(g%10,5,9)||v(g%100,11,14)?"many":g%10==1&&g%100!=11?"one":"other"},12:function(g){return v(g,2,4)?"few":g==1?"one":"other"},13:function(g){return v(g%10,2,4)&&!v(g%100,12,14)?"few":g!=1&&v(g%10,0,1)||v(g%10,5,9)||v(g%100,12,14)?"many":g==1?"one":"other"},14:function(g){return v(g%100,3,4)?"few":g%100==2?"two":g%100==1?"one":"other"},15:function(g){return g===0||v(g%100,2,10)?"few":v(g%100,11,19)?"many":g==1?"one":"other"},16:function(g){return g%10==1&&g!=11?"one":"other"},17:function(g){return g==3?"few":g===0?"zero":g==6?"many":g==2?"two":g==1?"one":"other"},18:function(g){return g===0?"zero":v(g,0,2)&&g!==0&&g!=2?"one":"other"},19:function(g){return v(g,2,10)?"few":v(g,0,1)?"one":"other"},20:function(g){return(v(g%10,3,4)||g%10==9)&&!(v(g%100,10,19)||v(g%100,70,79)||v(g%100,90,99))?"few":g%1e6===0&&g!==0?"many":g%10==2&&!T(g%100,[12,72,92])?"two":g%10==1&&!T(g%100,[11,71,91])?"one":"other"},21:function(g){return g===0?"zero":g==1?"one":"other"},22:function(g){return v(g,0,1)||v(g,11,99)?"one":"other"},23:function(g){return v(g%10,1,2)||g%20===0?"one":"other"},24:function(g){return v(g,3,10)||v(g,13,19)?"few":T(g,[2,12])?"two":T(g,[1,11])?"one":"other"}},E=C[c.replace(/-.*$/,"")];return E in O?O[E]:(console.warn("plural form unknown for ["+c+"]"),function(){return"other"})}L.plural=function(c,C,T,v){var O=parseFloat(C);if(isNaN(O)||v!=a)return c;L._pluralRules||(L._pluralRules=m(k));var E="["+L._pluralRules(O)+"]";return O===0&&T+"[zero]"in w?c=w[T+"[zero]"][v]:O==1&&T+"[one]"in w?c=w[T+"[one]"][v]:O==2&&T+"[two]"in w?c=w[T+"[two]"][v]:T+E in w?c=w[T+E][v]:T+"[other]"in w&&(c=w[T+"[other]"][v]),c};function S(c,C,T){var v=w[c];if(!v){if(console.warn("#"+c+" is undefined."),!T)return null;v=T}var O={};for(var E in v){var g=v[E];g=H(g,C,c,E),g=N(g,C,c),O[E]=g}return O}function H(c,C,T,v){var O=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/,E=O.exec(c);if(!E||!E.length)return c;var g=E[1],Y=E[2],J;if(C&&Y in C?J=C[Y]:Y in w&&(J=w[Y]),g in L){var ue=L[g];c=ue(c,J,T,v)}return c}function N(c,C,T){var v=/\{\{\s*(.+?)\s*\}\}/g;return c.replace(v,function(O,E){return C&&E in C?C[E]:E in w?w[E]:(console.log("argument {{"+E+"}} for #"+T+" is undefined."),O)})}function B(c){var C=M(c);if(C.id){var T=S(C.id,C.args);if(!T){console.warn("#"+C.id+" is undefined.");return}if(T[a]){if(U(c)===0)c[a]=T[a];else{for(var v=c.childNodes,O=!1,E=0,g=v.length;E<g;E++)v[E].nodeType===3&&/\S/.test(v[E].nodeValue)&&(O?v[E].nodeValue="":(v[E].nodeValue=T[a],O=!0));if(!O){var Y=o.createTextNode(T[a]);c.prepend(Y)}}delete T[a]}for(var J in T)c[J]=T[J]}}function U(c){if(c.children)return c.children.length;if(typeof c.childElementCount<"u")return c.childElementCount;for(var C=0,T=0;T<c.childNodes.length;T++)C+=c.nodeType===1?1:0;return C}function X(c){c=c||o.documentElement;for(var C=D(c),T=C.length,v=0;v<T;v++)B(C[v]);B(c)}return{get:function(c,C,T){var v=c.lastIndexOf("."),O=a;v>0&&(O=c.substring(v+1),c=c.substring(0,v));var E;T&&(E={},E[O]=T);var g=S(c,C,E);return g&&O in g?g[O]:"{{"+c+"}}"},getData:function(){return w},getText:function(){return l},getLanguage:function(){return k},setLanguage:function(c,C){h(c,function(){C&&C()})},getDirection:function(){var c=["ar","he","fa","ps","ur"],C=k.split("-",1)[0];return c.indexOf(C)>=0?"rtl":"ltr"},translate:X,getReadyState:function(){return _},ready:function(c){if(c)_=="complete"||_=="interactive"?G.setTimeout(function(){c()}):o.addEventListener&&o.addEventListener("localized",function C(){o.removeEventListener("localized",C),c()});else return}}}(window,document)},(G,o,w)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFHistory=void 0,o.isDestArraysEqual=D,o.isDestHashesEqual=I;var l=w(2),a=w(9);const k=1e3,L=50,_=1e3;function u(){return document.location.hash}class b{constructor({linkService:d,eventBus:y}){this.linkService=d,this.eventBus=y,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",h=>{this._isPagesLoaded=!!h.pagesCount},{once:!0})})}initialize({fingerprint:d,resetHistory:y=!1,updateUrl:h=!1}){if(!d||typeof d!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();const i=this._fingerprint!==""&&this._fingerprint!==d;this._fingerprint=d,this._updateUrl=h===!0,this._initialized=!0,this._bindEvents();const m=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=u(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(m,!0)||y){const{hash:H,page:N,rotation:B}=this._parseCurrentHash(!0);if(!H||i||y){this._pushOrReplaceState(null,!0);return}this._pushOrReplaceState({hash:H,page:N,rotation:B},!0);return}const S=m.destination;this._updateInternalState(S,m.uid,!0),S.rotation!==void 0&&(this._initialRotation=S.rotation),S.dest?(this._initialBookmark=JSON.stringify(S.dest),this._destination.page=null):S.hash?this._initialBookmark=S.hash:S.page&&(this._initialBookmark=`page=${S.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:d=null,explicitDest:y,pageNumber:h}){if(!this._initialized)return;if(d&&typeof d!="string"){console.error(`PDFHistory.push: "${d}" is not a valid namedDest parameter.`);return}else if(Array.isArray(y)){if(!this._isValidPage(h)&&(h!==null||this._destination)){console.error(`PDFHistory.push: "${h}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${y}" is not a valid explicitDest parameter.`);return}const i=d||JSON.stringify(y);if(!i)return;let m=!1;if(this._destination&&(I(this._destination.hash,i)||D(this._destination.dest,y))){if(this._destination.page)return;m=!0}this._popStateInProgress&&!m||(this._pushOrReplaceState({dest:y,hash:i,page:h,rotation:this.linkService.rotation},m),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(d){var y;if(this._initialized){if(!this._isValidPage(d)){console.error(`PDFHistory.pushPage: "${d}" is not a valid page number.`);return}((y=this._destination)==null?void 0:y.page)!==d&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${d}`,page:d,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const d=window.history.state;this._isValidState(d)&&d.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const d=window.history.state;this._isValidState(d)&&d.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(d,y=!1){const h=y||!this._destination,i={fingerprint:this._fingerprint,uid:h?this._uid:this._uid+1,destination:d};this._updateInternalState(d,i.uid);let m;if(this._updateUrl&&(d!=null&&d.hash)){const S=document.location.href.split("#")[0];S.startsWith("file://")||(m=`${S}#${d.hash}`)}h?window.history.replaceState(i,"",m):window.history.pushState(i,"",m)}_tryPushCurrentPosition(d=!1){if(!this._position)return;let y=this._position;if(d&&(y=Object.assign(Object.create(null),this._position),y.temporary=!0),!this._destination){this._pushOrReplaceState(y);return}if(this._destination.temporary){this._pushOrReplaceState(y,!0);return}if(this._destination.hash===y.hash||!this._destination.page&&this._numPositionUpdates<=L)return;let h=!1;if(this._destination.page>=y.first&&this._destination.page<=y.page){if(this._destination.dest!==void 0||!this._destination.first)return;h=!0}this._pushOrReplaceState(y,h)}_isValidPage(d){return Number.isInteger(d)&&d>0&&d<=this.linkService.pagesCount}_isValidState(d,y=!1){if(!d)return!1;if(d.fingerprint!==this._fingerprint)if(y){if(typeof d.fingerprint!="string"||d.fingerprint.length!==this._fingerprint.length)return!1;const[h]=performance.getEntriesByType("navigation");if((h==null?void 0:h.type)!=="reload")return!1}else return!1;return!(!Number.isInteger(d.uid)||d.uid<0||d.destination===null||typeof d.destination!="object")}_updateInternalState(d,y,h=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),h&&(d!=null&&d.temporary)&&delete d.temporary,this._destination=d,this._uid=y,this._maxUid=Math.max(this._maxUid,y),this._numPositionUpdates=0}_parseCurrentHash(d=!1){const y=unescape(u()).substring(1),h=(0,l.parseQueryString)(y),i=h.get("nameddest")||"";let m=h.get("page")|0;return(!this._isValidPage(m)||d&&i.length>0)&&(m=null),{hash:y,page:m,rotation:this.linkService.rotation}}_updateViewarea({location:d}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:d.pdfOpenParams.substring(1),page:this.linkService.page,first:d.pageNumber,rotation:d.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},_))}_popState({state:d}){const y=u(),h=this._currentHash!==y;if(this._currentHash=y,!d){this._uid++;const{hash:m,page:S,rotation:H}=this._parseCurrentHash();this._pushOrReplaceState({hash:m,page:S,rotation:H},!0);return}if(!this._isValidState(d))return;this._popStateInProgress=!0,h&&(this._blockHashChange++,(0,a.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:k}).then(()=>{this._blockHashChange--}));const i=d.destination;this._updateInternalState(i,d.uid,!0),(0,l.isValidRotation)(i.rotation)&&(this.linkService.rotation=i.rotation),i.dest?this.linkService.goToDestination(i.dest):i.hash?this.linkService.setHash(i.hash):i.page&&(this.linkService.page=i.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}o.PDFHistory=b;function I(M,d){return typeof M!="string"||typeof d!="string"?!1:M===d||(0,l.parseQueryString)(M).get("nameddest")===d}function D(M,d){function y(h,i){if(typeof h!=typeof i||Array.isArray(h)||Array.isArray(i))return!1;if(h!==null&&typeof h=="object"&&i!==null){if(Object.keys(h).length!==Object.keys(i).length)return!1;for(const m in h)if(!y(h[m],i[m]))return!1;return!0}return h===i||Number.isNaN(h)&&Number.isNaN(i)}if(!(Array.isArray(M)&&Array.isArray(d))||M.length!==d.length)return!1;for(let h=0,i=M.length;h<i;h++)if(!y(M[h],d[h]))return!1;return!0}},(G,o,w)=>{var S,H,N,B,U,X,c,C,T,v,O,je,rt,st,at,ot,Ct,xt,lt;Object.defineProperty(o,"__esModule",{value:!0}),o.PDFPageView=void 0;var l=w(4),a=w(2),k=w(14),L=w(6),_=w(15),u=w(7),b=w(5),I=w(16),D=w(17),M=w(18),d=w(19),y=w(20);const h=_.compatibilityParams.maxCanvasPixels||16777216,i=()=>({annotationEditorUIManager:null,annotationStorage:null,downloadManager:null,enableScripting:!1,fieldObjectsPromise:null,findController:null,hasJSActionsPromise:null,get linkService(){return new b.SimpleLinkService}});class m{constructor(V){z(this,O);z(this,S,l.AnnotationMode.ENABLE_FORMS);z(this,H,!1);z(this,N,null);z(this,B,null);z(this,U,null);z(this,X,null);z(this,c,a.RenderingStates.INITIAL);z(this,C,a.TextLayerMode.ENABLE);z(this,T,{directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0});z(this,v,new WeakMap);var te,ge,_e,fe,re;const j=V.container,Q=V.defaultViewport;this.id=V.id,this.renderingId="page"+this.id,F(this,N,V.layerProperties||i),this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=V.scale||a.DEFAULT_SCALE,this.viewport=Q,this.pdfPageRotate=Q.rotation,this._optionalContentConfigPromise=V.optionalContentConfigPromise||null,F(this,C,(te=V.textLayerMode)!=null?te:a.TextLayerMode.ENABLE),F(this,S,(ge=V.annotationMode)!=null?ge:l.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=V.imageResourcesPath||"",this.isOffscreenCanvasSupported=(_e=V.isOffscreenCanvasSupported)!=null?_e:!0,this.maxCanvasPixels=(fe=V.maxCanvasPixels)!=null?fe:h,this.pageColors=V.pageColors||null,this.eventBus=V.eventBus,this.renderingQueue=V.renderingQueue,this.l10n=V.l10n||u.NullL10n,this.renderTask=null,this.resume=null,this._isStandalone=!((re=this.renderingQueue)!=null&&re.hasViewer()),this._container=j,V.useOnlyCssZoom&&(console.error("useOnlyCssZoom was removed, please use `maxCanvasPixels = 0` instead."),this.maxCanvasPixels=0),this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const Z=document.createElement("div");if(Z.className="page",Z.setAttribute("data-page-number",this.id),Z.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(ee=>{Z.setAttribute("aria-label",ee)}),this.div=Z,A(this,O,je).call(this),j==null||j.append(Z),this._isStandalone){j==null||j.style.setProperty("--scale-factor",this.scale*l.PixelsPerInch.PDF_TO_CSS_UNITS);const{optionalContentConfigPromise:ee}=V;ee&&ee.then(ce=>{ee===this._optionalContentConfigPromise&&(s(this,T).initialOptionalContent=ce.hasInitialVisibility)})}}get renderingState(){return s(this,c)}set renderingState(V){if(V!==s(this,c))switch(F(this,c,V),s(this,B)&&(clearTimeout(s(this,B)),F(this,B,null)),V){case a.RenderingStates.PAUSED:this.div.classList.remove("loading");break;case a.RenderingStates.RUNNING:this.div.classList.add("loadingIcon"),F(this,B,setTimeout(()=>{this.div.classList.add("loading"),F(this,B,null)},0));break;case a.RenderingStates.INITIAL:case a.RenderingStates.FINISHED:this.div.classList.remove("loadingIcon","loading");break}}setPdfPage(V){var Q,Z,te;this._isStandalone&&(((Q=this.pageColors)==null?void 0:Q.foreground)==="CanvasText"||((Z=this.pageColors)==null?void 0:Z.background)==="Canvas")&&((te=this._container)==null||te.style.setProperty("--hcm-highligh-filter",V.filterFactory.addHighlightHCMFilter("CanvasText","Canvas","HighlightText","Highlight"))),this.pdfPage=V,this.pdfPageRotate=V.rotate;const j=(this.rotation+this.pdfPageRotate)%360;this.viewport=V.getViewport({scale:this.scale*l.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:j}),A(this,O,je).call(this),this.reset()}destroy(){var V;this.reset(),(V=this.pdfPage)==null||V.cleanup()}get _textHighlighter(){return(0,l.shadow)(this,"_textHighlighter",new M.TextHighlighter({pageIndex:this.id-1,eventBus:this.eventBus,findController:s(this,N).call(this).findController}))}_resetZoomLayer(V=!1){if(!this.zoomLayer)return;const j=this.zoomLayer.firstChild;s(this,v).delete(j),j.width=0,j.height=0,V&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:V=!1,keepAnnotationLayer:j=!1,keepAnnotationEditorLayer:Q=!1,keepXfaLayer:Z=!1,keepTextLayer:te=!1}={}){var ie,n,e,t,r;this.cancelRendering({keepAnnotationLayer:j,keepAnnotationEditorLayer:Q,keepXfaLayer:Z,keepTextLayer:te}),this.renderingState=a.RenderingStates.INITIAL;const ge=this.div,_e=ge.childNodes,fe=V&&this.zoomLayer||null,re=j&&((ie=this.annotationLayer)==null?void 0:ie.div)||null,ee=Q&&((n=this.annotationEditorLayer)==null?void 0:n.div)||null,ce=Z&&((e=this.xfaLayer)==null?void 0:e.div)||null,se=te&&((t=this.textLayer)==null?void 0:t.div)||null;for(let f=_e.length-1;f>=0;f--){const p=_e[f];switch(p){case fe:case re:case ee:case ce:case se:continue}p.remove()}ge.removeAttribute("data-loaded"),re&&this.annotationLayer.hide(),ee&&this.annotationEditorLayer.hide(),ce&&this.xfaLayer.hide(),se&&this.textLayer.hide(),(r=this.structTreeLayer)==null||r.hide(),fe||(this.canvas&&(s(this,v).delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer())}update({scale:V=0,rotation:j=null,optionalContentConfigPromise:Q=null,drawingDelay:Z=-1}){var ge;this.scale=V||this.scale,typeof j=="number"&&(this.rotation=j),Q instanceof Promise&&(this._optionalContentConfigPromise=Q,Q.then(_e=>{Q===this._optionalContentConfigPromise&&(s(this,T).initialOptionalContent=_e.hasInitialVisibility)})),s(this,T).directDrawing=!0;const te=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*l.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:te}),A(this,O,je).call(this),this._isStandalone&&((ge=this._container)==null||ge.style.setProperty("--scale-factor",this.viewport.scale)),this.canvas){let _e=!1;if(s(this,H)){if(this.maxCanvasPixels===0)_e=!0;else if(this.maxCanvasPixels>0){const{width:re,height:ee}=this.viewport,{sx:ce,sy:se}=this.outputScale;_e=(Math.floor(re)*ce|0)*(Math.floor(ee)*se|0)>this.maxCanvasPixels}}const fe=!_e&&Z>=0&&Z<1e3;if(fe||_e){if(fe&&this.renderingState!==a.RenderingStates.FINISHED&&(this.cancelRendering({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:Z}),this.renderingState=a.RenderingStates.FINISHED,s(this,T).directDrawing=!1),this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!fe,hideTextLayer:fe}),fe)return;this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:s(this,X)});return}!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0})}cancelRendering({keepAnnotationLayer:V=!1,keepAnnotationEditorLayer:j=!1,keepXfaLayer:Q=!1,keepTextLayer:Z=!1,cancelExtraDelay:te=0}={}){var ge;this.renderTask&&(this.renderTask.cancel(te),this.renderTask=null),this.resume=null,this.textLayer&&(!Z||!this.textLayer.div)&&(this.textLayer.cancel(),this.textLayer=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),this.annotationLayer&&(!V||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.annotationEditorLayer&&(!j||!this.annotationEditorLayer.div)&&(this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!Q||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,(ge=this._textHighlighter)==null||ge.disable())}cssTransform({target:V,redrawAnnotationLayer:j=!1,redrawAnnotationEditorLayer:Q=!1,redrawXfaLayer:Z=!1,redrawTextLayer:te=!1,hideTextLayer:ge=!1}){var fe;if(!V.hasAttribute("zooming")){V.setAttribute("zooming",!0);const{style:re}=V;re.width=re.height=""}const _e=s(this,v).get(V);if(this.viewport!==_e){const re=this.viewport.rotation-_e.rotation,ee=Math.abs(re);let ce=1,se=1;if(ee===90||ee===270){const{width:ie,height:n}=this.viewport;ce=n/ie,se=ie/n}V.style.transform=`rotate(${re}deg) scale(${ce}, ${se})`}j&&this.annotationLayer&&A(this,O,rt).call(this),Q&&this.annotationEditorLayer&&A(this,O,st).call(this),Z&&this.xfaLayer&&A(this,O,at).call(this),this.textLayer&&(ge?(this.textLayer.hide(),(fe=this.structTreeLayer)==null||fe.hide()):te&&A(this,O,ot).call(this))}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(V,j){return this.viewport.convertToPdfPoint(V,j)}async draw(){this.renderingState!==a.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:V,l10n:j,pageColors:Q,pdfPage:Z,viewport:te}=this;if(!Z)throw this.renderingState=a.RenderingStates.FINISHED,new Error("pdfPage is not loaded");this.renderingState=a.RenderingStates.RUNNING;const ge=document.createElement("div");if(ge.classList.add("canvasWrapper"),V.append(ge),!this.textLayer&&s(this,C)!==a.TextLayerMode.DISABLE&&!Z.isPureXfa&&(this._accessibilityManager||(this._accessibilityManager=new D.TextAccessibilityManager),this.textLayer=new d.TextLayerBuilder({highlighter:this._textHighlighter,accessibilityManager:this._accessibilityManager,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,enablePermissions:s(this,C)===a.TextLayerMode.ENABLE_PERMISSIONS}),V.append(this.textLayer.div)),!this.annotationLayer&&s(this,S)!==l.AnnotationMode.DISABLE){const{annotationStorage:P,downloadManager:W,enableScripting:K,fieldObjectsPromise:ne,hasJSActionsPromise:Le,linkService:we}=s(this,N).call(this);this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer=new L.AnnotationLayerBuilder({pageDiv:V,pdfPage:Z,annotationStorage:P,imageResourcesPath:this.imageResourcesPath,renderForms:s(this,S)===l.AnnotationMode.ENABLE_FORMS,linkService:we,downloadManager:W,l10n:j,enableScripting:K,hasJSActionsPromise:Le,fieldObjectsPromise:ne,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager})}const _e=P=>{if(se==null||se(!1),this.renderingQueue&&!this.renderingQueue.isHighestPriority(this)){this.renderingState=a.RenderingStates.PAUSED,this.resume=()=>{this.renderingState=a.RenderingStates.RUNNING,P()};return}P()},{width:fe,height:re}=te,ee=document.createElement("canvas");ee.setAttribute("role","presentation"),ee.hidden=!0;const ce=!!(Q!=null&&Q.background&&(Q!=null&&Q.foreground));let se=P=>{(!ce||P)&&(ee.hidden=!1,se=null)};ge.append(ee),this.canvas=ee;const ie=ee.getContext("2d",{alpha:!1}),n=this.outputScale=new a.OutputScale;if(this.maxCanvasPixels===0){const P=1/this.scale;n.sx*=P,n.sy*=P,F(this,H,!0)}else if(this.maxCanvasPixels>0){const P=fe*re,W=Math.sqrt(this.maxCanvasPixels/P);n.sx>W||n.sy>W?(n.sx=W,n.sy=W,F(this,H,!0)):F(this,H,!1)}const e=(0,a.approximateFraction)(n.sx),t=(0,a.approximateFraction)(n.sy);ee.width=(0,a.roundToDivide)(fe*n.sx,e[0]),ee.height=(0,a.roundToDivide)(re*n.sy,t[0]);const{style:r}=ee;r.width=(0,a.roundToDivide)(fe,e[1])+"px",r.height=(0,a.roundToDivide)(re,t[1])+"px",s(this,v).set(ee,te);const f=n.scaled?[n.sx,0,0,n.sy,0,0]:null,p={canvasContext:ie,transform:f,viewport:te,annotationMode:s(this,S),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:Q},x=this.renderTask=this.pdfPage.render(p);x.onContinue=_e;const R=x.promise.then(async()=>{var P;if(se==null||se(!0),await A(this,O,lt).call(this,x),A(this,O,ot).call(this),this.annotationLayer&&await A(this,O,rt).call(this),!this.annotationEditorLayer){const{annotationEditorUIManager:W}=s(this,N).call(this);if(!W)return;this.annotationEditorLayer=new k.AnnotationEditorLayerBuilder({uiManager:W,pageDiv:V,pdfPage:Z,l10n:j,accessibilityManager:this._accessibilityManager,annotationLayer:(P=this.annotationLayer)==null?void 0:P.annotationLayer})}A(this,O,st).call(this)},P=>(P instanceof l.RenderingCancelledException||se==null||se(!0),A(this,O,lt).call(this,x,P)));if(Z.isPureXfa){if(this.xfaLayer)this.xfaLayer.div&&V.append(this.xfaLayer.div);else{const{annotationStorage:P,linkService:W}=s(this,N).call(this);this.xfaLayer=new y.XfaLayerBuilder({pageDiv:V,pdfPage:Z,annotationStorage:P,linkService:W})}A(this,O,at).call(this)}return V.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),R}setPageLabel(V){this.pageLabel=typeof V=="string"?V:null,this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{directDrawing:V,initialOptionalContent:j,regularAnnotations:Q}=s(this,T);return V&&j&&Q?this.canvas:null}}S=new WeakMap,H=new WeakMap,N=new WeakMap,B=new WeakMap,U=new WeakMap,X=new WeakMap,c=new WeakMap,C=new WeakMap,T=new WeakMap,v=new WeakMap,O=new WeakSet,je=function(){const{viewport:V}=this;if(this.pdfPage){if(s(this,U)===V.rotation)return;F(this,U,V.rotation)}(0,l.setLayerDimensions)(this.div,V,!0,!1)},rt=async function(){let V=null;try{await this.annotationLayer.render(this.viewport,"display")}catch(j){console.error(`#renderAnnotationLayer: "${j}".`),V=j}finally{this.eventBus.dispatch("annotationlayerrendered",{source:this,pageNumber:this.id,error:V})}},st=async function(){let V=null;try{await this.annotationEditorLayer.render(this.viewport,"display")}catch(j){console.error(`#renderAnnotationEditorLayer: "${j}".`),V=j}finally{this.eventBus.dispatch("annotationeditorlayerrendered",{source:this,pageNumber:this.id,error:V})}},at=async function(){let V=null;try{const j=await this.xfaLayer.render(this.viewport,"display");j!=null&&j.textDivs&&this._textHighlighter&&A(this,O,xt).call(this,j.textDivs)}catch(j){console.error(`#renderXfaLayer: "${j}".`),V=j}finally{this.eventBus.dispatch("xfalayerrendered",{source:this,pageNumber:this.id,error:V})}},ot=async function(){const{pdfPage:V,textLayer:j,viewport:Q}=this;if(!j)return;let Z=null;try{if(!j.renderingDone){const te=V.streamTextContent({includeMarkedContent:!0,disableNormalization:!0});j.setTextContentSource(te)}await j.render(Q)}catch(te){if(te instanceof l.AbortException)return;console.error(`#renderTextLayer: "${te}".`),Z=te}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.id,numTextDivs:j.numTextDivs,error:Z}),A(this,O,Ct).call(this)},Ct=async function(){var Q,Z,te;if(!this.textLayer)return;this.structTreeLayer||(this.structTreeLayer=new I.StructTreeLayerBuilder);const V=await(this.structTreeLayer.renderingDone?null:this.pdfPage.getStructTree()),j=(Q=this.structTreeLayer)==null?void 0:Q.render(V);j&&((Z=this.canvas)==null||Z.append(j)),(te=this.structTreeLayer)==null||te.show()},xt=async function(V){const j=await this.pdfPage.getTextContent(),Q=[];for(const Z of j.items)Q.push(Z.str);this._textHighlighter.setTextMapping(V,Q),this._textHighlighter.enable()},lt=async function(V,j=null){if(V===this.renderTask&&(this.renderTask=null),j instanceof l.RenderingCancelledException){F(this,X,null);return}if(F(this,X,j),this.renderingState=a.RenderingStates.FINISHED,this._resetZoomLayer(!0),s(this,T).regularAnnotations=!V.separateAnnots,this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!1,timestamp:performance.now(),error:s(this,X)}),j)throw j},o.PDFPageView=m},(G,o,w)=>{var L,_;Object.defineProperty(o,"__esModule",{value:!0}),o.AnnotationEditorLayerBuilder=void 0;var l=w(4),a=w(7);class k{constructor(b){z(this,L,null);z(this,_);this.pageDiv=b.pageDiv,this.pdfPage=b.pdfPage,this.accessibilityManager=b.accessibilityManager,this.l10n=b.l10n||a.NullL10n,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,F(this,_,b.uiManager),F(this,L,b.annotationLayer||null)}async render(b,I="display"){if(I!=="display"||this._cancelled)return;const D=b.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:D}),this.show();return}const M=this.div=document.createElement("div");M.className="annotationEditorLayer",M.tabIndex=0,M.hidden=!0,M.dir=s(this,_).direction,this.pageDiv.append(M),this.annotationEditorLayer=new l.AnnotationEditorLayer({uiManager:s(this,_),div:M,accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage.pageNumber-1,l10n:this.l10n,viewport:D,annotationLayer:s(this,L)});const d={viewport:D,div:M,annotations:null,intent:I};this.annotationEditorLayer.render(d),this.show()}cancel(){this._cancelled=!0,this.div&&(this.pageDiv=null,this.annotationEditorLayer.destroy(),this.div.remove())}hide(){this.div&&(this.div.hidden=!0)}show(){!this.div||this.annotationEditorLayer.isEmpty||(this.div.hidden=!1)}}L=new WeakMap,_=new WeakMap,o.AnnotationEditorLayerBuilder=k},(G,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.compatibilityParams=o.OptionKind=o.AppOptions=void 0;const w=Object.create(null);o.compatibilityParams=w;{const _=navigator.userAgent||"",u=navigator.platform||"",b=navigator.maxTouchPoints||1,I=/Android/.test(_),D=/\b(iPad|iPhone|iPod)(?=;)/.test(_)||u==="MacIntel"&&b>1;(function(){(D||I)&&(w.maxCanvasPixels=5242880)})()}const l={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};o.OptionKind=l;const a={annotationEditorMode:{value:0,kind:l.VIEWER+l.PREFERENCE},annotationMode:{value:2,kind:l.VIEWER+l.PREFERENCE},cursorToolOnLoad:{value:0,kind:l.VIEWER+l.PREFERENCE},defaultZoomDelay:{value:400,kind:l.VIEWER+l.PREFERENCE},defaultZoomValue:{value:"",kind:l.VIEWER+l.PREFERENCE},disableHistory:{value:!1,kind:l.VIEWER},disablePageLabels:{value:!1,kind:l.VIEWER+l.PREFERENCE},enablePermissions:{value:!1,kind:l.VIEWER+l.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:l.VIEWER+l.PREFERENCE},enableScripting:{value:!0,kind:l.VIEWER+l.PREFERENCE},enableStampEditor:{value:!0,kind:l.VIEWER+l.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:l.VIEWER},externalLinkTarget:{value:0,kind:l.VIEWER+l.PREFERENCE},historyUpdateUrl:{value:!1,kind:l.VIEWER+l.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:l.VIEWER+l.PREFERENCE},imageResourcesPath:{value:"./images/",kind:l.VIEWER},maxCanvasPixels:{value:16777216,kind:l.VIEWER},forcePageColors:{value:!1,kind:l.VIEWER+l.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:l.VIEWER+l.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:l.VIEWER+l.PREFERENCE},pdfBugEnabled:{value:!1,kind:l.VIEWER+l.PREFERENCE},printResolution:{value:150,kind:l.VIEWER},sidebarViewOnLoad:{value:-1,kind:l.VIEWER+l.PREFERENCE},scrollModeOnLoad:{value:-1,kind:l.VIEWER+l.PREFERENCE},spreadModeOnLoad:{value:-1,kind:l.VIEWER+l.PREFERENCE},textLayerMode:{value:1,kind:l.VIEWER+l.PREFERENCE},viewerCssTheme:{value:0,kind:l.VIEWER+l.PREFERENCE},viewOnLoad:{value:0,kind:l.VIEWER+l.PREFERENCE},cMapPacked:{value:!0,kind:l.API},cMapUrl:{value:"../web/cmaps/",kind:l.API},disableAutoFetch:{value:!1,kind:l.API+l.PREFERENCE},disableFontFace:{value:!1,kind:l.API+l.PREFERENCE},disableRange:{value:!1,kind:l.API+l.PREFERENCE},disableStream:{value:!1,kind:l.API+l.PREFERENCE},docBaseUrl:{value:"",kind:l.API},enableXfa:{value:!0,kind:l.API+l.PREFERENCE},fontExtraProperties:{value:!1,kind:l.API},isEvalSupported:{value:!0,kind:l.API},isOffscreenCanvasSupported:{value:!0,kind:l.API},maxImageSize:{value:-1,kind:l.API},pdfBug:{value:!1,kind:l.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:l.API},verbosity:{value:1,kind:l.API},workerPort:{value:null,kind:l.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:l.WORKER}};a.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:l.VIEWER},a.disablePreferences={value:!1,kind:l.VIEWER},a.locale={value:navigator.language||"en-US",kind:l.VIEWER},a.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:l.VIEWER};const k=Object.create(null);class L{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(u){var D;const b=k[u];if(b!==void 0)return b;const I=a[u];if(I!==void 0)return(D=w[u])!=null?D:I.value}static getAll(u=null){var I;const b=Object.create(null);for(const D in a){const M=a[D];if(u){if(!(u&M.kind))continue;if(u===l.PREFERENCE){const y=M.value,h=typeof y;if(h==="boolean"||h==="string"||h==="number"&&Number.isInteger(y)){b[D]=y;continue}throw new Error(`Invalid type for preference: ${D}`)}}const d=k[D];b[D]=d!==void 0?d:(I=w[D])!=null?I:M.value}return b}static set(u,b){k[u]=b}static setAll(u){for(const b in u)k[b]=u[b]}static remove(u){delete k[u]}}o.AppOptions=L,L._hasUserOptions=function(){return Object.keys(k).length>0}},(G,o,w)=>{var _,u,ht,ut;Object.defineProperty(o,"__esModule",{value:!0}),o.StructTreeLayerBuilder=void 0;var l=w(2);const a={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},k=/^H(\d+)$/;class L{constructor(){z(this,u);z(this,_)}get renderingDone(){return s(this,_)!==void 0}render(M){if(s(this,_)!==void 0)return s(this,_);const d=A(this,u,ut).call(this,M);return d==null||d.classList.add("structTree"),F(this,_,d)}hide(){s(this,_)&&!s(this,_).hidden&&(s(this,_).hidden=!0)}show(){var M;(M=s(this,_))!=null&&M.hidden&&(s(this,_).hidden=!1)}}_=new WeakMap,u=new WeakSet,ht=function(M,d){const{alt:y,id:h,lang:i}=M;y!==void 0&&d.setAttribute("aria-label",(0,l.removeNullCharacters)(y)),h!==void 0&&d.setAttribute("aria-owns",h),i!==void 0&&d.setAttribute("lang",(0,l.removeNullCharacters)(i,!0))},ut=function(M){if(!M)return null;const d=document.createElement("span");if("role"in M){const{role:y}=M,h=y.match(k);h?(d.setAttribute("role","heading"),d.setAttribute("aria-level",h[1])):a[y]&&d.setAttribute("role",a[y])}if(A(this,u,ht).call(this,M,d),M.children)if(M.children.length===1&&"id"in M.children[0])A(this,u,ht).call(this,M.children[0],d);else for(const y of M.children)d.append(A(this,u,ut).call(this,y));return d},o.StructTreeLayerBuilder=L},(G,o,w)=>{var k,L,_,u,b,$e,D,ct;Object.defineProperty(o,"__esModule",{value:!0}),o.TextAccessibilityManager=void 0;var l=w(2);const d=class d{constructor(){z(this,D);z(this,k,!1);z(this,L,null);z(this,_,new Map);z(this,u,new Map)}setTextMapping(h){F(this,L,h)}enable(){if(s(this,k))throw new Error("TextAccessibilityManager is already enabled.");if(!s(this,L))throw new Error("Text divs and strings have not been set.");if(F(this,k,!0),F(this,L,s(this,L).slice()),s(this,L).sort(A(d,b,$e)),s(this,_).size>0){const h=s(this,L);for(const[i,m]of s(this,_)){if(!document.getElementById(i)){s(this,_).delete(i);continue}A(this,D,ct).call(this,i,h[m])}}for(const[h,i]of s(this,u))this.addPointerInTextLayer(h,i);s(this,u).clear()}disable(){s(this,k)&&(s(this,u).clear(),F(this,L,null),F(this,k,!1))}removePointerInTextLayer(h){if(!s(this,k)){s(this,u).delete(h);return}const i=s(this,L);if(!i||i.length===0)return;const{id:m}=h,S=s(this,_).get(m);if(S===void 0)return;const H=i[S];s(this,_).delete(m);let N=H.getAttribute("aria-owns");N!=null&&N.includes(m)&&(N=N.split(" ").filter(B=>B!==m).join(" "),N?H.setAttribute("aria-owns",N):(H.removeAttribute("aria-owns"),H.setAttribute("role","presentation")))}addPointerInTextLayer(h,i){const{id:m}=h;if(!m)return null;if(!s(this,k))return s(this,u).set(h,i),null;i&&this.removePointerInTextLayer(h);const S=s(this,L);if(!S||S.length===0)return null;const H=(0,l.binarySearchFirstItem)(S,X=>{var c;return A(c=d,b,$e).call(c,h,X)<0}),N=Math.max(0,H-1),B=S[N];A(this,D,ct).call(this,m,B),s(this,_).set(m,N);const U=B.parentNode;return U!=null&&U.classList.contains("markedContent")?U.id:null}moveElementInDOM(h,i,m,S){const H=this.addPointerInTextLayer(m,S);if(!h.hasChildNodes())return h.append(i),H;const N=Array.from(h.childNodes).filter(X=>X!==i);if(N.length===0)return H;const B=m||i,U=(0,l.binarySearchFirstItem)(N,X=>{var c;return A(c=d,b,$e).call(c,B,X)<0});return U===0?N[0].before(i):N[U-1].after(i),H}};k=new WeakMap,L=new WeakMap,_=new WeakMap,u=new WeakMap,b=new WeakSet,$e=function(h,i){const m=h.getBoundingClientRect(),S=i.getBoundingClientRect();if(m.width===0&&m.height===0)return 1;if(S.width===0&&S.height===0)return-1;const H=m.y,N=m.y+m.height,B=m.y+m.height/2,U=S.y,X=S.y+S.height,c=S.y+S.height/2;if(B<=U&&c>=N)return-1;if(c<=H&&B>=X)return 1;const C=m.x+m.width/2,T=S.x+S.width/2;return C-T},D=new WeakSet,ct=function(h,i){const m=i.getAttribute("aria-owns");m!=null&&m.includes(h)||i.setAttribute("aria-owns",m?`${m} ${h}`:h),i.removeAttribute("role")},z(d,b);let a=d;o.TextAccessibilityManager=a},(G,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TextHighlighter=void 0;class w{constructor({findController:a,eventBus:k,pageIndex:L}){this.findController=a,this.matches=[],this.eventBus=k,this.pageIdx=L,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(a,k){this.textDivs=a,this.textContentItemsStr=k}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=a=>{(a.pageIndex===this.pageIdx||a.pageIndex===-1)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null),this._updateMatches(!0))}_convertMatches(a,k){if(!a)return[];const{textContentItemsStr:L}=this;let _=0,u=0;const b=L.length-1,I=[];for(let D=0,M=a.length;D<M;D++){let d=a[D];for(;_!==b&&d>=u+L[_].length;)u+=L[_].length,_++;_===L.length&&console.error("Could not find a matching mapping");const y={begin:{divIdx:_,offset:d-u}};for(d+=k[D];_!==b&&d>u+L[_].length;)u+=L[_].length,_++;y.end={divIdx:_,offset:d-u},I.push(y)}return I}_renderMatches(a){if(a.length===0)return;const{findController:k,pageIdx:L}=this,{textContentItemsStr:_,textDivs:u}=this,b=L===k.selected.pageIdx,I=k.selected.matchIdx,D=k.state.highlightAll;let M=null;const d={divIdx:-1,offset:void 0};function y(N,B){const U=N.divIdx;return u[U].textContent="",h(U,0,N.offset,B)}function h(N,B,U,X){let c=u[N];if(c.nodeType===Node.TEXT_NODE){const v=document.createElement("span");c.before(v),v.append(c),u[N]=v,c=v}const C=_[N].substring(B,U),T=document.createTextNode(C);if(X){const v=document.createElement("span");return v.className=`${X} appended`,v.append(T),c.append(v),X.includes("selected")?v.offsetLeft:0}return c.append(T),0}let i=I,m=i+1;if(D)i=0,m=a.length;else if(!b)return;let S=-1,H=-1;for(let N=i;N<m;N++){const B=a[N],U=B.begin;if(U.divIdx===S&&U.offset===H)continue;S=U.divIdx,H=U.offset;const X=B.end,c=b&&N===I,C=c?" selected":"";let T=0;if(!M||U.divIdx!==M.divIdx?(M!==null&&h(M.divIdx,M.offset,d.offset),y(U)):h(M.divIdx,M.offset,U.offset),U.divIdx===X.divIdx)T=h(U.divIdx,U.offset,X.offset,"highlight"+C);else{T=h(U.divIdx,U.offset,d.offset,"highlight begin"+C);for(let v=U.divIdx+1,O=X.divIdx;v<O;v++)u[v].className="highlight middle"+C;y(X,"highlight end"+C)}M=X,c&&k.scrollMatchIntoView({element:u[U.divIdx],selectedLeft:T,pageIndex:L,matchIndex:I})}M&&h(M.divIdx,M.offset,d.offset)}_updateMatches(a=!1){if(!this.enabled&&!a)return;const{findController:k,matches:L,pageIdx:_}=this,{textContentItemsStr:u,textDivs:b}=this;let I=-1;for(const d of L){const y=Math.max(I,d.begin.divIdx);for(let h=y,i=d.end.divIdx;h<=i;h++){const m=b[h];m.textContent=u[h],m.className=""}I=d.end.divIdx+1}if(!(k!=null&&k.highlightMatches)||a)return;const D=k.pageMatches[_]||null,M=k.pageMatchesLength[_]||null;this.matches=this._convertMatches(D,M),this._renderMatches(this.matches)}}o.TextHighlighter=w},(G,o,w)=>{var L,_,u,b,I,Nt,Rt;Object.defineProperty(o,"__esModule",{value:!0}),o.TextLayerBuilder=void 0;var l=w(4),a=w(2);class k{constructor({highlighter:y=null,accessibilityManager:h=null,isOffscreenCanvasSupported:i=!0,enablePermissions:m=!1}){z(this,I);z(this,L,!1);z(this,_,0);z(this,u,0);z(this,b,null);this.textContentItemsStr=[],this.renderingDone=!1,this.textDivs=[],this.textDivProperties=new WeakMap,this.textLayerRenderTask=null,this.highlighter=y,this.accessibilityManager=h,this.isOffscreenCanvasSupported=i,F(this,L,m===!0),this.div=document.createElement("div"),this.div.className="textLayer",this.hide()}get numTextDivs(){return this.textDivs.length}async render(y){var m,S,H;if(!s(this,b))throw new Error('No "textContentSource" parameter specified.');const h=y.scale*(globalThis.devicePixelRatio||1),{rotation:i}=y;if(this.renderingDone){const N=i!==s(this,_),B=h!==s(this,u);(N||B)&&(this.hide(),(0,l.updateTextLayer)({container:this.div,viewport:y,textDivs:this.textDivs,textDivProperties:this.textDivProperties,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,mustRescale:B,mustRotate:N}),F(this,u,h),F(this,_,i)),this.show();return}this.cancel(),(m=this.highlighter)==null||m.setTextMapping(this.textDivs,this.textContentItemsStr),(S=this.accessibilityManager)==null||S.setTextMapping(this.textDivs),this.textLayerRenderTask=(0,l.renderTextLayer)({textContentSource:s(this,b),container:this.div,viewport:y,textDivs:this.textDivs,textDivProperties:this.textDivProperties,textContentItemsStr:this.textContentItemsStr,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported}),await this.textLayerRenderTask.promise,A(this,I,Nt).call(this),F(this,u,h),F(this,_,i),this.show(),(H=this.accessibilityManager)==null||H.enable()}hide(){var y;this.div.hidden||((y=this.highlighter)==null||y.disable(),this.div.hidden=!0)}show(){var y;this.div.hidden&&this.renderingDone&&(this.div.hidden=!1,(y=this.highlighter)==null||y.enable())}cancel(){var y,h;this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),(y=this.highlighter)==null||y.disable(),(h=this.accessibilityManager)==null||h.disable(),this.textContentItemsStr.length=0,this.textDivs.length=0,this.textDivProperties=new WeakMap}setTextContentSource(y){this.cancel(),F(this,b,y)}}L=new WeakMap,_=new WeakMap,u=new WeakMap,b=new WeakMap,I=new WeakSet,Nt=function(){this.renderingDone=!0;const y=document.createElement("div");y.className="endOfContent",this.div.append(y),A(this,I,Rt).call(this)},Rt=function(){const{div:y}=this;y.addEventListener("mousedown",h=>{const i=y.querySelector(".endOfContent");if(!i)return;let m=h.target!==y;if(m&&(m=getComputedStyle(i).getPropertyValue("-moz-user-select")!=="none"),m){const S=y.getBoundingClientRect(),H=Math.max(0,(h.pageY-S.top)/S.height);i.style.top=(H*100).toFixed(2)+"%"}i.classList.add("active")}),y.addEventListener("mouseup",()=>{const h=y.querySelector(".endOfContent");h&&(h.style.top="",h.classList.remove("active"))}),y.addEventListener("copy",h=>{if(!s(this,L)){const i=document.getSelection();h.clipboardData.setData("text/plain",(0,a.removeNullCharacters)((0,l.normalizeUnicode)(i.toString())))}h.preventDefault(),h.stopPropagation()})},o.TextLayerBuilder=k},(G,o,w)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.XfaLayerBuilder=void 0;var l=w(4);class a{constructor({pageDiv:L,pdfPage:_,annotationStorage:u=null,linkService:b,xfaHtml:I=null}){this.pageDiv=L,this.pdfPage=_,this.annotationStorage=u,this.linkService=b,this.xfaHtml=I,this.div=null,this._cancelled=!1}async render(L,_="display"){if(_==="print"){const I={viewport:L.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:_},D=document.createElement("div");return this.pageDiv.append(D),I.div=D,l.XfaLayer.render(I)}const u=await this.pdfPage.getXfa();if(this._cancelled||!u)return{textDivs:[]};const b={viewport:L.clone({dontFlip:!0}),div:this.div,xfaHtml:u,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:_};return this.div?l.XfaLayer.update(b):(this.div=document.createElement("div"),this.pageDiv.append(this.div),b.div=this.div,l.XfaLayer.render(b))}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}o.XfaLayerBuilder=a},(G,o,w)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFScriptingManager=void 0;var l=w(22),a=w(23);class k extends a.PDFScriptingManager{constructor(_){_.externalServices||window.addEventListener("updatefromsandbox",u=>{_.eventBus.dispatch("updatefromsandbox",{source:window,detail:u.detail})}),_.externalServices||(_.externalServices={createScripting:({sandboxBundleSrc:u})=>new l.GenericScripting(u)}),_.docProperties||(_.docProperties=u=>(0,l.docProperties)(u)),super(_)}}o.PDFScriptingManager=k},(G,o,w)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.GenericScripting=void 0,o.docProperties=a;var l=w(4);async function a(L){const _="",u=_.split("#")[0];let{info:b,metadata:I,contentDispositionFilename:D,contentLength:M}=await L.getMetadata();if(!M){const{length:d}=await L.getDownloadInfo();M=d}return{...b,baseURL:u,filesize:M,filename:D||(0,l.getPdfFilenameFromUrl)(_),metadata:I==null?void 0:I.getRaw(),authors:I==null?void 0:I.get("dc:creator"),numPages:L.numPages,URL:_}}class k{constructor(_){this._ready=(0,l.loadScript)(_,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}async createSandbox(_){(await this._ready).create(_)}async dispatchEventInSandbox(_){const u=await this._ready;setTimeout(()=>u.dispatchEvent(_),0)}async destroySandbox(){(await this._ready).nukeSandbox()}}o.GenericScripting=k},(G,o,w)=>{var L,_,u,b,I,D,M,d,y,h,i,m,Dt,Ge,dt,Ot,He;Object.defineProperty(o,"__esModule",{value:!0}),o.PDFScriptingManager=void 0;var l=w(2),a=w(4);class k{constructor({eventBus:c,sandboxBundleSrc:C=null,externalServices:T=null,docProperties:v=null}){z(this,m);z(this,L,null);z(this,_,null);z(this,u,null);z(this,b,null);z(this,I,null);z(this,D,null);z(this,M,null);z(this,d,!1);z(this,y,null);z(this,h,null);z(this,i,null);F(this,b,c),F(this,y,C),F(this,I,T),F(this,u,v)}setViewer(c){F(this,M,c)}async setDocument(c){var O;if(s(this,D)&&await A(this,m,He).call(this),F(this,D,c),!c)return;const[C,T,v]=await Promise.all([c.getFieldObjects(),c.getCalculationOrderIds(),c.getJSActions()]);if(!C&&!v){await A(this,m,He).call(this);return}if(c===s(this,D)){try{F(this,h,A(this,m,Ot).call(this))}catch(E){console.error(`setDocument: "${E.message}".`),await A(this,m,He).call(this);return}this._internalEvents.set("updatefromsandbox",E=>{(E==null?void 0:E.source)===window&&A(this,m,Dt).call(this,E.detail)}),this._internalEvents.set("dispatcheventinsandbox",E=>{var g;(g=s(this,h))==null||g.dispatchEventInSandbox(E.detail)}),this._internalEvents.set("pagechanging",({pageNumber:E,previous:g})=>{E!==g&&(A(this,m,dt).call(this,g),A(this,m,Ge).call(this,E))}),this._internalEvents.set("pagerendered",({pageNumber:E})=>{this._pageOpenPending.has(E)&&E===s(this,M).currentPageNumber&&A(this,m,Ge).call(this,E)}),this._internalEvents.set("pagesdestroy",async()=>{var E,g;await A(this,m,dt).call(this,s(this,M).currentPageNumber),await((E=s(this,h))==null?void 0:E.dispatchEventInSandbox({id:"doc",name:"WillClose"})),(g=s(this,L))==null||g.resolve()});for(const[E,g]of this._internalEvents)s(this,b)._on(E,g);try{const E=await s(this,u).call(this,c);if(c!==s(this,D))return;await s(this,h).createSandbox({objects:C,calculationOrder:T,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...E,actions:v}}),s(this,b).dispatch("sandboxcreated",{source:this})}catch(E){console.error(`setDocument: "${E.message}".`),await A(this,m,He).call(this);return}await((O=s(this,h))==null?void 0:O.dispatchEventInSandbox({id:"doc",name:"Open"})),await A(this,m,Ge).call(this,s(this,M).currentPageNumber,!0),Promise.resolve().then(()=>{c===s(this,D)&&F(this,d,!0)})}}async dispatchWillSave(){var c;return(c=s(this,h))==null?void 0:c.dispatchEventInSandbox({id:"doc",name:"WillSave"})}async dispatchDidSave(){var c;return(c=s(this,h))==null?void 0:c.dispatchEventInSandbox({id:"doc",name:"DidSave"})}async dispatchWillPrint(){var c;if(s(this,h)){await((c=s(this,i))==null?void 0:c.promise),F(this,i,new a.PromiseCapability);try{await s(this,h).dispatchEventInSandbox({id:"doc",name:"WillPrint"})}catch(C){throw s(this,i).resolve(),F(this,i,null),C}await s(this,i).promise}}async dispatchDidPrint(){var c;return(c=s(this,h))==null?void 0:c.dispatchEventInSandbox({id:"doc",name:"DidPrint"})}get destroyPromise(){var c;return((c=s(this,_))==null?void 0:c.promise)||null}get ready(){return s(this,d)}get _internalEvents(){return(0,a.shadow)(this,"_internalEvents",new Map)}get _pageOpenPending(){return(0,a.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,a.shadow)(this,"_visitedPages",new Map)}}L=new WeakMap,_=new WeakMap,u=new WeakMap,b=new WeakMap,I=new WeakMap,D=new WeakMap,M=new WeakMap,d=new WeakMap,y=new WeakMap,h=new WeakMap,i=new WeakMap,m=new WeakSet,Dt=async function(c){var J,ue;const C=s(this,M),T=C.isInPresentationMode||C.isChangingPresentationMode,{id:v,siblings:O,command:E,value:g}=c;if(!v){switch(E){case"clear":console.clear();break;case"error":console.error(g);break;case"layout":if(!T){const de=(0,l.apiPageLayoutToViewerModes)(g);C.spreadMode=de.spreadMode}break;case"page-num":C.currentPageNumber=g+1;break;case"print":await C.pagesPromise,s(this,b).dispatch("print",{source:this});break;case"println":console.log(g);break;case"zoom":T||(C.currentScaleValue=g);break;case"SaveAs":s(this,b).dispatch("download",{source:this});break;case"FirstPage":C.currentPageNumber=1;break;case"LastPage":C.currentPageNumber=C.pagesCount;break;case"NextPage":C.nextPage();break;case"PrevPage":C.previousPage();break;case"ZoomViewIn":T||C.increaseScale();break;case"ZoomViewOut":T||C.decreaseScale();break;case"WillPrintFinished":(J=s(this,i))==null||J.resolve(),F(this,i,null);break}return}if(T&&c.focus)return;delete c.id,delete c.siblings;const Y=O?[v,...O]:[v];for(const de of Y){const $=document.querySelector(`[data-element-id="${de}"]`);$?$.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:c})):(ue=s(this,D))==null||ue.annotationStorage.setValue(de,c)}},Ge=async function(c,C=!1){const T=s(this,D),v=this._visitedPages;if(C&&F(this,L,new a.PromiseCapability),!s(this,L))return;const O=s(this,M).getPageView(c-1);if((O==null?void 0:O.renderingState)!==l.RenderingStates.FINISHED){this._pageOpenPending.add(c);return}this._pageOpenPending.delete(c);const E=(async()=>{var Y,J;const g=await(v.has(c)?null:(Y=O.pdfPage)==null?void 0:Y.getJSActions());T===s(this,D)&&await((J=s(this,h))==null?void 0:J.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:c,actions:g}))})();v.set(c,E)},dt=async function(c){var O;const C=s(this,D),T=this._visitedPages;if(!s(this,L)||this._pageOpenPending.has(c))return;const v=T.get(c);v&&(T.set(c,null),await v,C===s(this,D)&&await((O=s(this,h))==null?void 0:O.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:c})))},Ot=function(){if(F(this,_,new a.PromiseCapability),s(this,h))throw new Error("#initScripting: Scripting already exists.");return s(this,I).createScripting({sandboxBundleSrc:s(this,y)})},He=async function(){var c,C,T;if(!s(this,h)){F(this,D,null),(c=s(this,_))==null||c.resolve();return}s(this,L)&&(await Promise.race([s(this,L).promise,new Promise(v=>{setTimeout(v,1e3)})]).catch(()=>{}),F(this,L,null)),F(this,D,null);try{await s(this,h).destroySandbox()}catch(v){}(C=s(this,i))==null||C.reject(new Error("Scripting destroyed.")),F(this,i,null);for(const[v,O]of this._internalEvents)s(this,b)._off(v,O);this._internalEvents.clear(),this._pageOpenPending.clear(),this._visitedPages.clear(),F(this,h,null),F(this,d,!1),(T=s(this,_))==null||T.resolve()},o.PDFScriptingManager=k},(G,o,w)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFSinglePageViewer=void 0;var l=w(2),a=w(25);class k extends a.PDFViewer{_resetView(){super._resetView(),this._scrollMode=l.ScrollMode.PAGE,this._spreadMode=l.SpreadMode.NONE}set scrollMode(_){}_updateScrollMode(){}set spreadMode(_){}_updateSpreadMode(){}}o.PDFSinglePageViewer=k},(G,o,w)=>{var y,h,i,ft,S,H,N,B,U,X,c,C,T,v,O,E,g,Y,J,ue,de,$,kt,Ft,Vt,Bt,Ue,Xe,Ht,gt,Ut,Ne,pt,zt,Wt,_t,jt;Object.defineProperty(o,"__esModule",{value:!0}),o.PagesCountLimit=o.PDFViewer=o.PDFPageViewBuffer=void 0;var l=w(4),a=w(2),k=w(7),L=w(13),_=w(26),u=w(5);const b=10,I={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};o.PagesCountLimit=I;function D(n){return Object.values(l.AnnotationEditorType).includes(n)&&n!==l.AnnotationEditorType.DISABLE}class M{constructor(e){z(this,i);z(this,y,new Set);z(this,h,0);F(this,h,e)}push(e){const t=s(this,y);t.has(e)&&t.delete(e),t.add(e),t.size>s(this,h)&&A(this,i,ft).call(this)}resize(e,t=null){F(this,h,e);const r=s(this,y);if(t){const f=r.size;let p=1;for(const x of r)if(t.has(x.id)&&(r.delete(x),r.add(x)),++p>f)break}for(;r.size>s(this,h);)A(this,i,ft).call(this)}has(e){return s(this,y).has(e)}[Symbol.iterator](){return s(this,y).keys()}}y=new WeakMap,h=new WeakMap,i=new WeakSet,ft=function(){const e=s(this,y).keys().next().value;e==null||e.destroy(),s(this,y).delete(e)},o.PDFPageViewBuffer=M;class d{constructor(e){z(this,$);z(this,S,null);z(this,H,null);z(this,N,l.AnnotationEditorType.NONE);z(this,B,null);z(this,U,l.AnnotationMode.ENABLE_FORMS);z(this,X,null);z(this,c,null);z(this,C,!1);z(this,T,!1);z(this,v,null);z(this,O,!1);z(this,E,0);z(this,g,new ResizeObserver(A(this,$,jt).bind(this)));z(this,Y,null);z(this,J,null);z(this,ue,null);z(this,de,a.TextLayerMode.ENABLE);var r,f,p,x,R,P;const t="3.11.174";if(l.version!==t)throw new Error(`The API version "${l.version}" does not match the Viewer version "${t}".`);if(this.container=e.container,this.viewer=e.viewer||e.container.firstElementChild,((r=this.container)==null?void 0:r.tagName)!=="DIV"||((f=this.viewer)==null?void 0:f.tagName)!=="DIV")throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");s(this,g).observe(this.container),this.eventBus=e.eventBus,this.linkService=e.linkService||new u.SimpleLinkService,this.downloadManager=e.downloadManager||null,this.findController=e.findController||null,F(this,H,e.altTextManager||null),this.findController&&(this.findController.onIsPageVisible=W=>this._getVisiblePages().ids.has(W)),this._scriptingManager=e.scriptingManager||null,F(this,de,(p=e.textLayerMode)!=null?p:a.TextLayerMode.ENABLE),F(this,U,(x=e.annotationMode)!=null?x:l.AnnotationMode.ENABLE_FORMS),F(this,N,(R=e.annotationEditorMode)!=null?R:l.AnnotationEditorType.NONE),this.imageResourcesPath=e.imageResourcesPath||"",this.enablePrintAutoRotate=e.enablePrintAutoRotate||!1,this.removePageBorders=e.removePageBorders||!1,e.useOnlyCssZoom&&(console.error("useOnlyCssZoom was removed, please use `maxCanvasPixels = 0` instead."),e.maxCanvasPixels=0),this.isOffscreenCanvasSupported=(P=e.isOffscreenCanvasSupported)!=null?P:!0,this.maxCanvasPixels=e.maxCanvasPixels,this.l10n=e.l10n||k.NullL10n,F(this,C,e.enablePermissions||!1),this.pageColors=e.pageColors||null,this.defaultRenderingQueue=!e.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new _.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=e.renderingQueue,this.scroll=(0,a.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=a.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),A(this,$,_t).call(this),this.eventBus._on("thumbnailrendered",({pageNumber:W,pdfPage:K})=>{const ne=this._pages[W-1];s(this,S).has(ne)||K==null||K.cleanup()})}get pagesCount(){return this._pages.length}getPageView(e){return this._pages[e]}getCachedPageViews(){return new Set(s(this,S))}get pageViewsReady(){return this._pagesCapability.settled&&this._pages.every(e=>e==null?void 0:e.pdfPage)}get renderForms(){return s(this,U)===l.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(e){if(!Number.isInteger(e))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(e,!0)||console.error(`currentPageNumber: "${e}" is not a valid page.`))}_setCurrentPageNumber(e,t=!1){var f,p;if(this._currentPageNumber===e)return t&&A(this,$,pt).call(this),!0;if(!(0<e&&e<=this.pagesCount))return!1;const r=this._currentPageNumber;return this._currentPageNumber=e,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:e,pageLabel:(p=(f=this._pageLabels)==null?void 0:f[e-1])!=null?p:null,previous:r}),t&&A(this,$,pt).call(this),!0}get currentPageLabel(){var e,t;return(t=(e=this._pageLabels)==null?void 0:e[this._currentPageNumber-1])!=null?t:null}set currentPageLabel(e){if(!this.pdfDocument)return;let t=e|0;if(this._pageLabels){const r=this._pageLabels.indexOf(e);r>=0&&(t=r+1)}this._setCurrentPageNumber(t,!0)||console.error(`currentPageLabel: "${e}" is not a valid page.`)}get currentScale(){return this._currentScale!==a.UNKNOWN_SCALE?this._currentScale:a.DEFAULT_SCALE}set currentScale(e){if(isNaN(e))throw new Error("Invalid numeric scale.");this.pdfDocument&&A(this,$,Ne).call(this,e,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(e){this.pdfDocument&&A(this,$,Ne).call(this,e,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(e){if(!(0,a.isValidRotation)(e))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(e%=360,e<0&&(e+=360),this._pagesRotation===e))return;this._pagesRotation=e;const t=this._currentPageNumber;this.refresh(!0,{rotation:e}),this._currentScaleValue&&A(this,$,Ne).call(this,this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:e,pageNumber:t}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}async getAllText(){const e=[],t=[];for(let r=1,f=this.pdfDocument.numPages;r<=f;++r){if(s(this,O))return null;t.length=0;const p=await this.pdfDocument.getPage(r),{items:x}=await p.getTextContent();for(const R of x)R.str&&t.push(R.str),R.hasEOL&&t.push(`
`);e.push((0,a.removeNullCharacters)(t.join("")))}return e.join(`
`)}setDocument(e){var x,R;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),(x=this.findController)==null||x.setDocument(null),(R=this._scriptingManager)==null||R.setDocument(null),s(this,B)&&(s(this,B).destroy(),F(this,B,null))),this.pdfDocument=e,!e)return;const t=e.numPages,r=e.getPage(1),f=e.getOptionalContentConfig(),p=s(this,C)?e.getPermissions():Promise.resolve();if(t>I.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const P=this._scrollMode=a.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:P})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:t})},()=>{}),this._onBeforeDraw=P=>{const W=this._pages[P.pageNumber-1];W&&s(this,S).push(W)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=P=>{P.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:P.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,s(this,J)&&(document.removeEventListener("visibilitychange",s(this,J)),F(this,J,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([r,p]).then(([P,W])=>{var Ee,pe;if(e!==this.pdfDocument)return;this._firstPageCapability.resolve(P),this._optionalContentConfigPromise=f;const{annotationEditorMode:K,annotationMode:ne,textLayerMode:Le}=A(this,$,Ft).call(this,W);if(Le!==a.TextLayerMode.DISABLE){const q=F(this,v,document.createElement("div"));q.id="hiddenCopyElement",this.viewer.before(q)}if(K!==l.AnnotationEditorType.DISABLE){const q=K;e.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):D(q)?(F(this,B,new l.AnnotationEditorUIManager(this.container,this.viewer,s(this,H),this.eventBus,e,this.pageColors)),q!==l.AnnotationEditorType.NONE&&s(this,B).updateMode(q)):console.error(`Invalid AnnotationEditor mode: ${q}`)}const we=A(this,$,kt).bind(this),me=this._scrollMode===a.ScrollMode.PAGE?null:this.viewer,ye=this.currentScale,Se=P.getViewport({scale:ye*l.PixelsPerInch.PDF_TO_CSS_UNITS});this.viewer.style.setProperty("--scale-factor",Se.scale),(((Ee=this.pageColors)==null?void 0:Ee.foreground)==="CanvasText"||((pe=this.pageColors)==null?void 0:pe.background)==="Canvas")&&this.viewer.style.setProperty("--hcm-highligh-filter",e.filterFactory.addHighlightHCMFilter("CanvasText","Canvas","HighlightText","Highlight"));for(let q=1;q<=t;++q){const ae=new L.PDFPageView({container:me,eventBus:this.eventBus,id:q,scale:ye,defaultViewport:Se.clone(),optionalContentConfigPromise:f,renderingQueue:this.renderingQueue,textLayerMode:Le,annotationMode:ne,imageResourcesPath:this.imageResourcesPath,isOffscreenCanvasSupported:this.isOffscreenCanvasSupported,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n,layerProperties:we});this._pages.push(ae)}const Ie=this._pages[0];Ie&&(Ie.setPdfPage(P),this.linkService.cachePageRef(1,P.ref)),this._scrollMode===a.ScrollMode.PAGE?A(this,$,Ue).call(this):this._spreadMode!==a.SpreadMode.NONE&&this._updateSpreadMode(),A(this,$,Vt).call(this).then(async()=>{var ae,Ce;if((ae=this.findController)==null||ae.setDocument(e),(Ce=this._scriptingManager)==null||Ce.setDocument(e),s(this,v)&&(F(this,c,A(this,$,Bt).bind(this,Le)),document.addEventListener("copy",s(this,c))),s(this,B)&&this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:s(this,N)}),e.loadingParams.disableAutoFetch||t>I.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let q=t-1;if(q<=0){this._pagesCapability.resolve();return}for(let Ae=2;Ae<=t;++Ae){const Re=e.getPage(Ae).then(le=>{const ve=this._pages[Ae-1];ve.pdfPage||ve.setPdfPage(le),this.linkService.cachePageRef(Ae,le.ref),--q===0&&this._pagesCapability.resolve()},le=>{console.error(`Unable to get page ${Ae} to initialize viewer`,le),--q===0&&this._pagesCapability.resolve()});Ae%I.PAUSE_EAGER_PAGE_INIT===0&&await Re}}),this.eventBus.dispatch("pagesinit",{source:this}),e.getMetadata().then(({info:q})=>{e===this.pdfDocument&&q.Language&&(this.viewer.lang=q.Language)}),this.defaultRenderingQueue&&this.update()}).catch(P=>{console.error("Unable to initialize viewer",P),this._pagesCapability.reject(P)})}setPageLabels(e){var t,r;if(this.pdfDocument){e?Array.isArray(e)&&this.pdfDocument.numPages===e.length?this._pageLabels=e:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let f=0,p=this._pages.length;f<p;f++)this._pages[f].setPageLabel((r=(t=this._pageLabels)==null?void 0:t[f])!=null?r:null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=a.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,F(this,S,new M(b)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=new l.PromiseCapability,this._onePageRenderedCapability=new l.PromiseCapability,this._pagesCapability=new l.PromiseCapability,this._scrollMode=a.ScrollMode.VERTICAL,this._previousScrollMode=a.ScrollMode.UNKNOWN,this._spreadMode=a.SpreadMode.NONE,F(this,Y,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),s(this,J)&&(document.removeEventListener("visibilitychange",s(this,J)),F(this,J,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),s(this,v)&&(document.removeEventListener("copy",s(this,c)),F(this,c,null),s(this,v).remove(),F(this,v,null))}_scrollUpdate(){this.pagesCount!==0&&this.update()}pageLabelToPageNumber(e){if(!this._pageLabels)return null;const t=this._pageLabels.indexOf(e);return t<0?null:t+1}scrollPageIntoView({pageNumber:e,destArray:t=null,allowNegativeOffset:r=!1,ignoreDestinationZoom:f=!1}){if(!this.pdfDocument)return;const p=Number.isInteger(e)&&this._pages[e-1];if(!p){console.error(`scrollPageIntoView: "${e}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!t){this._setCurrentPageNumber(e,!0);return}let x=0,R=0,P=0,W=0,K,ne;const Le=p.rotation%180!==0,we=(Le?p.height:p.width)/p.scale/l.PixelsPerInch.PDF_TO_CSS_UNITS,me=(Le?p.width:p.height)/p.scale/l.PixelsPerInch.PDF_TO_CSS_UNITS;let ye=0;switch(t[1].name){case"XYZ":x=t[2],R=t[3],ye=t[4],x=x!==null?x:0,R=R!==null?R:me;break;case"Fit":case"FitB":ye="page-fit";break;case"FitH":case"FitBH":R=t[2],ye="page-width",R===null&&this._location?(x=this._location.left,R=this._location.top):(typeof R!="number"||R<0)&&(R=me);break;case"FitV":case"FitBV":x=t[2],P=we,W=me,ye="page-height";break;case"FitR":x=t[2],R=t[3],P=t[4]-x,W=t[5]-R;let pe=a.SCROLLBAR_PADDING,q=a.VERTICAL_PADDING;this.removePageBorders&&(pe=q=0),K=(this.container.clientWidth-pe)/P/l.PixelsPerInch.PDF_TO_CSS_UNITS,ne=(this.container.clientHeight-q)/W/l.PixelsPerInch.PDF_TO_CSS_UNITS,ye=Math.min(Math.abs(K),Math.abs(ne));break;default:console.error(`scrollPageIntoView: "${t[1].name}" is not a valid destination type.`);return}if(f||(ye&&ye!==this._currentScale?this.currentScaleValue=ye:this._currentScale===a.UNKNOWN_SCALE&&(this.currentScaleValue=a.DEFAULT_SCALE_VALUE)),ye==="page-fit"&&!t[4]){A(this,$,Xe).call(this,p);return}const Se=[p.viewport.convertToViewportPoint(x,R),p.viewport.convertToViewportPoint(x+P,R+W)];let Ie=Math.min(Se[0][0],Se[1][0]),Ee=Math.min(Se[0][1],Se[1][1]);r||(Ie=Math.max(Ie,0),Ee=Math.max(Ee,0)),A(this,$,Xe).call(this,p,{left:Ie,top:Ee})}_updateLocation(e){const t=this._currentScale,r=this._currentScaleValue,f=parseFloat(r)===t?Math.round(t*1e4)/100:r,p=e.id,x=this._pages[p-1],R=this.container,P=x.getPagePoint(R.scrollLeft-e.x,R.scrollTop-e.y),W=Math.round(P[0]),K=Math.round(P[1]);let ne=`#page=${p}`;this.isInPresentationMode||(ne+=`&zoom=${f},${W},${K}`),this._location={pageNumber:p,scale:f,top:K,left:W,rotation:this._pagesRotation,pdfOpenParams:ne}}update(){const e=this._getVisiblePages(),t=e.views,r=t.length;if(r===0)return;const f=Math.max(b,2*r+1);s(this,S).resize(f,e.ids),this.renderingQueue.renderHighestPriority(e);const p=this._spreadMode===a.SpreadMode.NONE&&(this._scrollMode===a.ScrollMode.PAGE||this._scrollMode===a.ScrollMode.VERTICAL),x=this._currentPageNumber;let R=!1;for(const P of t){if(P.percent<100)break;if(P.id===x&&p){R=!0;break}}this._setCurrentPageNumber(R?x:t[0].id),this._updateLocation(e.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(e){return this.container.contains(e)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===a.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===a.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const e=this._scrollMode===a.ScrollMode.PAGE?s(this,Y).pages:this._pages,t=this._scrollMode===a.ScrollMode.HORIZONTAL,r=t&&this._isContainerRtl;return(0,a.getVisibleElements)({scrollEl:this.container,views:e,sortByVisibility:!0,horizontal:t,rtl:r})}cleanup(){for(const e of this._pages)e.renderingState!==a.RenderingStates.FINISHED&&e.reset()}_cancelRendering(){for(const e of this._pages)e.cancelRendering()}forceRendering(e){const t=e||this._getVisiblePages(),r=A(this,$,Wt).call(this,t),f=this._spreadMode!==a.SpreadMode.NONE&&this._scrollMode!==a.ScrollMode.HORIZONTAL,p=this.renderingQueue.getHighestPriority(t,this._pages,r,f);return p?(A(this,$,zt).call(this,p).then(()=>{this.renderingQueue.renderView(p)}),!0):!1}get hasEqualPageSizes(){const e=this._pages[0];for(let t=1,r=this._pages.length;t<r;++t){const f=this._pages[t];if(f.width!==e.width||f.height!==e.height)return!1}return!0}getPagesOverview(){let e;return this._pages.map(t=>{const r=t.pdfPage.getViewport({scale:1}),f=(0,a.isPortraitOrientation)(r);if(e===void 0)e=f;else if(this.enablePrintAutoRotate&&f!==e)return{width:r.height,height:r.width,rotation:(r.rotation-90)%360};return{width:r.width,height:r.height,rotation:r.rotation}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig()):Promise.resolve(null)}set optionalContentConfigPromise(e){if(!(e instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${e}`);this.pdfDocument&&this._optionalContentConfigPromise&&(this._optionalContentConfigPromise=e,this.refresh(!1,{optionalContentConfigPromise:e}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:e}))}get scrollMode(){return this._scrollMode}set scrollMode(e){if(this._scrollMode!==e){if(!(0,a.isValidScrollMode)(e))throw new Error(`Invalid scroll mode: ${e}`);this.pagesCount>I.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=e,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(e=null){const t=this._scrollMode,r=this.viewer;r.classList.toggle("scrollHorizontal",t===a.ScrollMode.HORIZONTAL),r.classList.toggle("scrollWrapped",t===a.ScrollMode.WRAPPED),!(!this.pdfDocument||!e)&&(t===a.ScrollMode.PAGE?A(this,$,Ue).call(this):this._previousScrollMode===a.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&A(this,$,Ne).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(e){if(this._spreadMode!==e){if(!(0,a.isValidSpreadMode)(e))throw new Error(`Invalid spread mode: ${e}`);this._spreadMode=e,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:e}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(e=null){if(!this.pdfDocument)return;const t=this.viewer,r=this._pages;if(this._scrollMode===a.ScrollMode.PAGE)A(this,$,Ue).call(this);else if(t.textContent="",this._spreadMode===a.SpreadMode.NONE)for(const f of this._pages)t.append(f.div);else{const f=this._spreadMode-1;let p=null;for(let x=0,R=r.length;x<R;++x)p===null?(p=document.createElement("div"),p.className="spread",t.append(p)):x%2===f&&(p=p.cloneNode(!1),t.append(p)),p.append(r[x].div)}e&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&A(this,$,Ne).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}_getPageAdvance(e,t=!1){switch(this._scrollMode){case a.ScrollMode.WRAPPED:{const{views:r}=this._getVisiblePages(),f=new Map;for(const{id:p,y:x,percent:R,widthPercent:P}of r){if(R===0||P<100)continue;let W=f.get(x);W||f.set(x,W||(W=[])),W.push(p)}for(const p of f.values()){const x=p.indexOf(e);if(x===-1)continue;const R=p.length;if(R===1)break;if(t)for(let P=x-1,W=0;P>=W;P--){const K=p[P],ne=p[P+1]-1;if(K<ne)return e-ne}else for(let P=x+1,W=R;P<W;P++){const K=p[P],ne=p[P-1]+1;if(K>ne)return ne-e}if(t){const P=p[0];if(P<e)return e-P+1}else{const P=p[R-1];if(P>e)return P-e+1}break}break}case a.ScrollMode.HORIZONTAL:break;case a.ScrollMode.PAGE:case a.ScrollMode.VERTICAL:{if(this._spreadMode===a.SpreadMode.NONE)break;const r=this._spreadMode-1;if(t&&e%2!==r)break;if(!t&&e%2===r)break;const{views:f}=this._getVisiblePages(),p=t?e-1:e+1;for(const{id:x,percent:R,widthPercent:P}of f)if(x===p){if(R>0&&P===100)return 2;break}break}}return 1}nextPage(){const e=this._currentPageNumber,t=this.pagesCount;if(e>=t)return!1;const r=this._getPageAdvance(e,!1)||1;return this.currentPageNumber=Math.min(e+r,t),!0}previousPage(){const e=this._currentPageNumber;if(e<=1)return!1;const t=this._getPageAdvance(e,!0)||1;return this.currentPageNumber=Math.max(e-t,1),!0}increaseScale({drawingDelay:e,scaleFactor:t,steps:r}={}){if(!this.pdfDocument)return;let f=this._currentScale;if(t>1)f=Math.round(f*t*100)/100;else{r!=null||(r=1);do f=Math.ceil((f*a.DEFAULT_SCALE_DELTA).toFixed(2)*10)/10;while(--r>0&&f<a.MAX_SCALE)}A(this,$,Ne).call(this,Math.min(a.MAX_SCALE,f),{noScroll:!1,drawingDelay:e})}decreaseScale({drawingDelay:e,scaleFactor:t,steps:r}={}){if(!this.pdfDocument)return;let f=this._currentScale;if(t>0&&t<1)f=Math.round(f*t*100)/100;else{r!=null||(r=1);do f=Math.floor((f/a.DEFAULT_SCALE_DELTA).toFixed(2)*10)/10;while(--r>0&&f>a.MIN_SCALE)}A(this,$,Ne).call(this,Math.max(a.MIN_SCALE,f),{noScroll:!1,drawingDelay:e})}get containerTopLeft(){return s(this,X)||F(this,X,[this.container.offsetTop,this.container.offsetLeft])}get annotationEditorMode(){return s(this,B)?s(this,N):l.AnnotationEditorType.DISABLE}set annotationEditorMode({mode:e,editId:t=null}){if(!s(this,B))throw new Error("The AnnotationEditor is not enabled.");if(s(this,N)!==e){if(!D(e))throw new Error(`Invalid AnnotationEditor mode: ${e}`);this.pdfDocument&&(F(this,N,e),this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:e}),s(this,B).updateMode(e,t))}}set annotationEditorParams({type:e,value:t}){if(!s(this,B))throw new Error("The AnnotationEditor is not enabled.");s(this,B).updateParams(e,t)}refresh(e=!1,t=Object.create(null)){if(this.pdfDocument){for(const r of this._pages)r.update(t);s(this,ue)!==null&&(clearTimeout(s(this,ue)),F(this,ue,null)),e||this.update()}}}S=new WeakMap,H=new WeakMap,N=new WeakMap,B=new WeakMap,U=new WeakMap,X=new WeakMap,c=new WeakMap,C=new WeakMap,T=new WeakMap,v=new WeakMap,O=new WeakMap,E=new WeakMap,g=new WeakMap,Y=new WeakMap,J=new WeakMap,ue=new WeakMap,de=new WeakMap,$=new WeakSet,kt=function(){const e=this;return{get annotationEditorUIManager(){return s(e,B)},get annotationStorage(){var t;return(t=e.pdfDocument)==null?void 0:t.annotationStorage},get downloadManager(){return e.downloadManager},get enableScripting(){return!!e._scriptingManager},get fieldObjectsPromise(){var t;return(t=e.pdfDocument)==null?void 0:t.getFieldObjects()},get findController(){return e.findController},get hasJSActionsPromise(){var t;return(t=e.pdfDocument)==null?void 0:t.hasJSActions()},get linkService(){return e.linkService}}},Ft=function(e){const t={annotationEditorMode:s(this,N),annotationMode:s(this,U),textLayerMode:s(this,de)};return e&&(!e.includes(l.PermissionFlag.COPY)&&s(this,de)===a.TextLayerMode.ENABLE&&(t.textLayerMode=a.TextLayerMode.ENABLE_PERMISSIONS),e.includes(l.PermissionFlag.MODIFY_CONTENTS)||(t.annotationEditorMode=l.AnnotationEditorType.DISABLE),!e.includes(l.PermissionFlag.MODIFY_ANNOTATIONS)&&!e.includes(l.PermissionFlag.FILL_INTERACTIVE_FORMS)&&s(this,U)===l.AnnotationMode.ENABLE_FORMS&&(t.annotationMode=l.AnnotationMode.ENABLE)),t},Vt=function(){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return Promise.resolve();const e=new Promise(t=>{F(this,J,()=>{document.visibilityState==="hidden"&&(t(),document.removeEventListener("visibilitychange",s(this,J)),F(this,J,null))}),document.addEventListener("visibilitychange",s(this,J))});return Promise.race([this._onePageRenderedCapability.promise,e])},Bt=function(e,t){const r=document.getSelection(),{focusNode:f,anchorNode:p}=r;if(p&&f&&r.containsNode(s(this,v))){if(s(this,T)||e===a.TextLayerMode.ENABLE_PERMISSIONS){t.preventDefault(),t.stopPropagation();return}F(this,T,!0);const x=this.container.style.cursor;this.container.style.cursor="wait";const R=P=>F(this,O,P.key==="Escape");window.addEventListener("keydown",R),this.getAllText().then(async P=>{P!==null&&await navigator.clipboard.writeText(P)}).catch(P=>{console.warn(`Something goes wrong when extracting the text: ${P.message}`)}).finally(()=>{F(this,T,!1),F(this,O,!1),window.removeEventListener("keydown",R),this.container.style.cursor=x}),t.preventDefault(),t.stopPropagation()}},Ue=function(){if(this._scrollMode!==a.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const e=this._currentPageNumber,t=s(this,Y),r=this.viewer;if(r.textContent="",t.pages.length=0,this._spreadMode===a.SpreadMode.NONE&&!this.isInPresentationMode){const f=this._pages[e-1];r.append(f.div),t.pages.push(f)}else{const f=new Set,p=this._spreadMode-1;p===-1?f.add(e-1):e%2!==p?(f.add(e-1),f.add(e)):(f.add(e-2),f.add(e-1));const x=document.createElement("div");if(x.className="spread",this.isInPresentationMode){const R=document.createElement("div");R.className="dummyPage",x.append(R)}for(const R of f){const P=this._pages[R];P&&(x.append(P.div),t.pages.push(P))}r.append(x)}t.scrollDown=e>=t.previousPageNumber,t.previousPageNumber=e},Xe=function(e,t=null){const{div:r,id:f}=e;if(this._currentPageNumber!==f&&this._setCurrentPageNumber(f),this._scrollMode===a.ScrollMode.PAGE&&(A(this,$,Ue).call(this),this.update()),!t&&!this.isInPresentationMode){const p=r.offsetLeft+r.clientLeft,x=p+r.clientWidth,{scrollLeft:R,clientWidth:P}=this.container;(this._scrollMode===a.ScrollMode.HORIZONTAL||p<R||x>R+P)&&(t={left:0,top:0})}(0,a.scrollIntoView)(r,t),!this._currentScaleValue&&this._location&&(this._location=null)},Ht=function(e){return e===this._currentScale||Math.abs(e-this._currentScale)<1e-15},gt=function(e,t,{noScroll:r=!1,preset:f=!1,drawingDelay:p=-1}){if(this._currentScaleValue=t.toString(),A(this,$,Ht).call(this,e)){f&&this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:t});return}this.viewer.style.setProperty("--scale-factor",e*l.PixelsPerInch.PDF_TO_CSS_UNITS);const x=p>=0&&p<1e3;if(this.refresh(!0,{scale:e,drawingDelay:x?p:-1}),x&&F(this,ue,setTimeout(()=>{F(this,ue,null),this.refresh()},p)),this._currentScale=e,!r){let R=this._currentPageNumber,P;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(R=this._location.pageNumber,P=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:R,destArray:P,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:f?t:void 0}),this.defaultRenderingQueue&&this.update()},Ut=function(){return this._spreadMode!==a.SpreadMode.NONE&&this._scrollMode!==a.ScrollMode.HORIZONTAL?2:1},Ne=function(e,t){let r=parseFloat(e);if(r>0)t.preset=!1,A(this,$,gt).call(this,r,e,t);else{const f=this._pages[this._currentPageNumber-1];if(!f)return;let p=a.SCROLLBAR_PADDING,x=a.VERTICAL_PADDING;this.isInPresentationMode?(p=x=4,this._spreadMode!==a.SpreadMode.NONE&&(p*=2)):this.removePageBorders?p=x=0:this._scrollMode===a.ScrollMode.HORIZONTAL&&([p,x]=[x,p]);const R=(this.container.clientWidth-p)/f.width*f.scale/s(this,$,Ut),P=(this.container.clientHeight-x)/f.height*f.scale;switch(e){case"page-actual":r=1;break;case"page-width":r=R;break;case"page-height":r=P;break;case"page-fit":r=Math.min(R,P);break;case"auto":const W=(0,a.isPortraitOrientation)(f)?R:Math.min(P,R);r=Math.min(a.MAX_AUTO_SCALE,W);break;default:console.error(`#setScale: "${e}" is an unknown zoom value.`);return}t.preset=!0,A(this,$,gt).call(this,r,e,t)}},pt=function(){const e=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&A(this,$,Ne).call(this,this._currentScaleValue,{noScroll:!0}),A(this,$,Xe).call(this,e)},zt=async function(e){var t,r;if(e.pdfPage)return e.pdfPage;try{const f=await this.pdfDocument.getPage(e.id);return e.pdfPage||e.setPdfPage(f),(r=(t=this.linkService)._cachedPageNumber)!=null&&r.call(t,f.ref)||this.linkService.cachePageRef(e.id,f.ref),f}catch(f){return console.error("Unable to get page for page view",f),null}},Wt=function(e){var t,r;if(((t=e.first)==null?void 0:t.id)===1)return!0;if(((r=e.last)==null?void 0:r.id)===this.pagesCount)return!1;switch(this._scrollMode){case a.ScrollMode.PAGE:return s(this,Y).scrollDown;case a.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down},_t=function(e=this.container.clientHeight){e!==s(this,E)&&(F(this,E,e),a.docStyle.setProperty("--viewer-container-height",`${e}px`))},jt=function(e){for(const t of e)if(t.target===this.container){A(this,$,_t).call(this,Math.floor(t.borderBoxSize[0].blockSize)),F(this,X,null);break}},o.PDFViewer=d},(G,o,w)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PDFRenderingQueue=void 0;var l=w(4),a=w(2);const k=3e4;class L{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1,Object.defineProperty(this,"hasViewer",{value:()=>!!this.pdfViewer})}setViewer(u){this.pdfViewer=u}setThumbnailViewer(u){this.pdfThumbnailViewer=u}isHighestPriority(u){return this.highestPriorityPage===u.renderingId}renderHighestPriority(u){var b;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(u)&&(this.isThumbnailViewEnabled&&((b=this.pdfThumbnailViewer)!=null&&b.forceRendering())||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),k)))}getHighestPriority(u,b,I,D=!1){const M=u.views,d=M.length;if(d===0)return null;for(let S=0;S<d;S++){const H=M[S].view;if(!this.isViewFinished(H))return H}const y=u.first.id,h=u.last.id;if(h-y+1>d){const S=u.ids;for(let H=1,N=h-y;H<N;H++){const B=I?y+H:h-H;if(S.has(B))continue;const U=b[B-1];if(!this.isViewFinished(U))return U}}let i=I?h:y-2,m=b[i];return m&&!this.isViewFinished(m)||D&&(i+=I?1:-1,m=b[i],m&&!this.isViewFinished(m))?m:null}isViewFinished(u){return u.renderingState===a.RenderingStates.FINISHED}renderView(u){switch(u.renderingState){case a.RenderingStates.FINISHED:return!1;case a.RenderingStates.PAUSED:this.highestPriorityPage=u.renderingId,u.resume();break;case a.RenderingStates.RUNNING:this.highestPriorityPage=u.renderingId;break;case a.RenderingStates.INITIAL:this.highestPriorityPage=u.renderingId,u.draw().finally(()=>{this.renderHighestPriority()}).catch(b=>{b instanceof l.RenderingCancelledException||console.error(`renderView: "${b}"`)});break}return!0}}o.PDFRenderingQueue=L}],Te={};function oe(G){var o=Te[G];if(o!==void 0)return o.exports;var w=Te[G]={exports:{}};return be[G](w,w.exports,oe),w.exports}var Oe={};return(()=>{var G=Oe;Object.defineProperty(G,"__esModule",{value:!0}),Object.defineProperty(G,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return a.AnnotationLayerBuilder}}),Object.defineProperty(G,"DownloadManager",{enumerable:!0,get:function(){return k.DownloadManager}}),Object.defineProperty(G,"EventBus",{enumerable:!0,get:function(){return L.EventBus}}),Object.defineProperty(G,"FindState",{enumerable:!0,get:function(){return o.FindState}}),Object.defineProperty(G,"GenericL10n",{enumerable:!0,get:function(){return _.GenericL10n}}),Object.defineProperty(G,"LinkTarget",{enumerable:!0,get:function(){return w.LinkTarget}}),Object.defineProperty(G,"NullL10n",{enumerable:!0,get:function(){return u.NullL10n}}),Object.defineProperty(G,"PDFFindController",{enumerable:!0,get:function(){return o.PDFFindController}}),Object.defineProperty(G,"PDFHistory",{enumerable:!0,get:function(){return b.PDFHistory}}),Object.defineProperty(G,"PDFLinkService",{enumerable:!0,get:function(){return w.PDFLinkService}}),Object.defineProperty(G,"PDFPageView",{enumerable:!0,get:function(){return I.PDFPageView}}),Object.defineProperty(G,"PDFScriptingManager",{enumerable:!0,get:function(){return D.PDFScriptingManager}}),Object.defineProperty(G,"PDFSinglePageViewer",{enumerable:!0,get:function(){return M.PDFSinglePageViewer}}),Object.defineProperty(G,"PDFViewer",{enumerable:!0,get:function(){return d.PDFViewer}}),Object.defineProperty(G,"ProgressBar",{enumerable:!0,get:function(){return l.ProgressBar}}),Object.defineProperty(G,"RenderingStates",{enumerable:!0,get:function(){return l.RenderingStates}}),Object.defineProperty(G,"ScrollMode",{enumerable:!0,get:function(){return l.ScrollMode}}),Object.defineProperty(G,"SimpleLinkService",{enumerable:!0,get:function(){return w.SimpleLinkService}}),Object.defineProperty(G,"SpreadMode",{enumerable:!0,get:function(){return l.SpreadMode}}),Object.defineProperty(G,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return y.StructTreeLayerBuilder}}),Object.defineProperty(G,"TextLayerBuilder",{enumerable:!0,get:function(){return h.TextLayerBuilder}}),Object.defineProperty(G,"XfaLayerBuilder",{enumerable:!0,get:function(){return i.XfaLayerBuilder}}),Object.defineProperty(G,"parseQueryString",{enumerable:!0,get:function(){return l.parseQueryString}});var o=oe(1),w=oe(5),l=oe(2),a=oe(6),k=oe(8),L=oe(9),_=oe(10),u=oe(7),b=oe(12),I=oe(13),D=oe(21),M=oe(24),d=oe(25),y=oe(16),h=oe(19),i=oe(20)})(),Oe})())})(bt);var $t=bt.exports;const Qt=Kt($t),qt=Zt({__proto__:null,default:Qt},[$t]);export{qt as p};
