import{d as b,l as u,o as i,c as s,m,p as n,g as S,L as I,h as a,n as P,ac as l,G as j,H as w,O as y,a4 as A,K as B,a8 as N}from"./framework.BKe39h19.js";import{I as O}from"./16.CVfW-jdf.js";import{v as d}from"./index.CxC42Yo0.js";import{u as $}from"./index.DlmqMpSv.js";import{P as M}from"./index.DBha4Rv0.js";const V={class:"popup__body"},D={key:0,class:"popup__title"},E={key:1,class:"popup__text","data-testid":"popup-text"},F={key:2,class:"popup__actions"},L=["onClick"],Q=b({__name:"Popup",props:{title:{type:String,default:""},text:{type:String,default:""},type:{type:String,default:"info"},variant:{type:String,default:"simple"},icon:{type:[String,Object,Function],default:void 0},iconColor:{type:String,default:void 0},popupAttrs:{type:Object,default:void 0},popupClass:{type:[String,Array,Object],default:void 0},actions:{type:Array,default:()=>[]},dismissable:{type:Boolean,default:!0}},emits:["dismissed"],setup(e,{emit:v}){const t=e,h=$(),g=v,k=u(()=>{const o=["popup"];return t.type&&o.push(`popup--${t.type}`),t.variant&&o.push(`popup--${t.variant}`),o}),C=u(()=>{const o=["default"];return t.iconColor&&o.push(`popup__icon--${t.iconColor}`),o}),f=u(()=>t.icon?typeof t.icon=="string"?()=>N("img",{src:t.icon,width:20,height:20,"data-testid":"popup-icon-image"}):t.icon:M[t.type]);function p(){h.close(),g("dismissed")}async function _(o){const c=new MouseEvent("click");typeof o.onClick=="function"&&await o.onClick(Object.assign(c,{close:p})),c.defaultPrevented||p()}return(o,c)=>(i(),s("div",y({"data-testid":"popup",class:[n(k),e.popupClass]},e.popupAttrs),[m("div",{class:P(["popup__icon",n(C)]),"data-testid":"popup-icon"},[n(f)?(i(),S(I(n(f)),{key:0})):a("",!0)],2),m("div",V,[e.title?l((i(),s("div",D,null,512)),[[n(d),e.title,void 0,{inline:!0}]]):a("",!0),e.text?l((i(),s("div",E,null,512)),[[n(d),e.text,void 0,{inline:!0}]]):a("",!0),e.actions.length>0?(i(),s("div",F,[(i(!0),s(j,null,w(e.actions,(r,x)=>l((i(),s("a",y({key:x,"data-testid":"popup-action",href:"javascript:void",class:"popup__action",ref_for:!0},r.attrs,{onClick:A(z=>_(r),["prevent"])}),null,16,L)),[[n(d),r.text,void 0,{inline:!0}]])),128))])):a("",!0)]),e.dismissable?(i(),s("div",{key:0,"data-testid":"popup-close",class:"popup__close",onClick:p},[B(O)])):a("",!0)],16))}});export{Q as _};
