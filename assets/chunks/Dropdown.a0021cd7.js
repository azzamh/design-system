import{t as O,o as K,f as g}from"./theme.bdd572ce.js";import{p as W}from"./Button.2deccdb1.js";import{p as Z,D as q}from"./Dropdown.vue_vue_type_style_index_0_lang.2d361046.js";import{_ as C,x as r,p as B,G as h,m as V,V as Q,r as R,c as _,s as U,w as T,a1 as E,L as m,A as f,B as v,a5 as z,q as b,Q as $,C as N,y as M,z as L,R as X,T as G,t as J,l as Y,v as I,a7 as x,a9 as ee}from"./framework.f14560cd.js";import{u as te}from"./use-focus.b9bc053c.js";import{A as oe,B as ne,a as ae,O as se,L as le,E as re}from"./floating-ui.dom.browser.min.a94d243b.js";import{u as ie}from"./index.7a96623d.js";import{I as de}from"./16.87698d64.js";const ue={},ce={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",class:"persona-icon",viewBox:"0 0 16 16"},pe=h("path",{fill:"currentColor",d:"M5.646 3.647a.5.5 0 0 1 .708 0l4 4a.5.5 0 0 1 0 .707l-4 4a.5.5 0 0 1-.708-.708L9.293 8 5.647 4.354a.5.5 0 0 1 0-.708Z"},null,-1),fe=[pe];function me(e,a){return r(),B("svg",ce,fe)}const ve=C(ue,[["render",me]]),we={},_e={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",class:"persona-icon",viewBox:"0 0 16 16"},be=h("path",{fill:"currentColor",d:"M7.613 13.376a.444.444 0 0 1-.627-.012L2.124 8.308a.445.445 0 0 1 0-.616l4.862-5.056a.444.444 0 1 1 .64.617L3.487 7.556h10.068a.444.444 0 0 1 0 .888H3.488l4.137 4.303a.445.445 0 0 1-.012.629Z"},null,-1),he=[be];function ke(e,a){return r(),B("svg",_e,he)}const ye=C(we,[["render",ke]]),A=Symbol("DropdownTree"),ge=V({components:{DropdownItem:Z,IconNext:ve,IconBack:ye},props:{text:{type:String,default:""},noCaret:{type:Boolean,default:!1}},emits:["click"],setup(e,{slots:a,emit:d}){var p;const n=Q(A,void 0,!0),c=R("slide-left"),u=_(()=>n===void 0),t=(p=n==null?void 0:n.tree)!=null?p:U({_level:0,slots:a}),s=()=>{t.value={_level:t.value._level+1,prev:t.value,slots:a}},i=()=>{t.value.prev&&(t.value=t.value.prev)},w=_(()=>t.value.slots.default),D=_(()=>!!(u.value&&t.value.prev));T(t,(l,o)=>{c.value=l._level>o._level?"slide-left":"slide-right"}),u.value&&E(A,{tree:t,next:s,back:i});function S(){u.value&&(t.value={prev:void 0,_level:0,slots:a})}function k(){const l=new MouseEvent("click");d("click",l),l.defaultPrevented||s()}return{isRoot:u,tree:t,view:w,next:s,back:i,reset:S,canBack:D,transition:c,handleOnClick:k}}}),$e=h("div",{class:"dropdown__group-content"},null,-1),Ce={class:"dropdown__subitem__content"};function Be(e,a,d,n,c,u){const t=m("IconBack"),s=m("DropdownItem"),i=m("IconNext");return r(),f(G,{name:e.transition,mode:"out-in"},{default:v(()=>[(r(),B("div",{key:e.tree._level,"data-testid":"dropdown-subitem",class:"dropdown__subitem"},[e.canBack?(r(),f(s,{key:"btn-back","data-testid":"dropdown-back",class:"dropdown__subitem__btn dropdown__subitem__btn--back",onClick:a[0]||(a[0]=z(w=>e.back(),["prevent"]))},{default:v(()=>[b(e.$slots,"button-back",{},()=>[$(t,{class:"dropdown__subitem__next"}),$e])]),_:3})):N("",!0),e.isRoot?(r(),f(X(e.view),{key:2})):(r(),f(s,{key:"btn-next",class:"dropdown__subitem__btn",onClick:z(e.handleOnClick,["prevent"])},{default:v(()=>[h("div",Ce,[b(e.$slots,"button-content",{next:e.next,back:e.back},()=>[M(L(e.text),1)])]),e.noCaret?N("",!0):(r(),f(i,{key:0,"data-testid":"dropdown-subitem-next",class:"dropdown__subitem__next"}))]),_:3},8,["onClick"]))]))]),_:3},8,["name"])}const De=C(ge,[["render",Be]]),Se=V({components:{Button:W,DropdownGroup:De,IconArrow:de},props:{modelValue:{type:Boolean,default:!1},text:{type:String,default:""},placement:{type:String,default:"bottom-start"},variant:{type:String,default:"solid"},color:{type:String,default:"default"},size:{type:String,default:"md"},icon:{type:Boolean,default:!1},pill:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},noCaret:{type:Boolean,default:!1},divider:{type:Boolean,default:!1},menuClass:{type:[String,Array,Object],default:void 0},buttonClass:{type:[String,Array,Object],default:void 0},menuSize:{type:String,default:"sm"}},models:{prop:"modelValue",event:"update:modelValue"},emits:["show","hide","update:modelValue"],setup(e,{emit:a}){const d=O("dropdown"),n=O("menu"),c=O("wizard"),u=J(e,"placement"),t=ie(e),s=R(!1),{next:i,prev:w}=te(n),D=_(()=>{const o=[""];return e.divider&&o.push("dropdown--divider"),o}),S=_(()=>{const o=[""];return e.menuSize&&o.push(`dropdown__menu--${e.menuSize}`),o});function k(){e.disabled||(t.value?l():p())}function p(){e.disabled||(t.value=!0,a("show"))}function l(){e.disabled||(t.value=!1,a("hide"))}return K(n,()=>{t.value&&setTimeout(()=>{l()})},{ignore:[d]}),g("Escape",o=>{const y=o.target;t.value&&(l(),typeof y.blur=="function"&&y.blur())}),g(["ArrowUp"],o=>{t.value&&(o.preventDefault(),w())}),g(["ArrowDown"],o=>{t.value&&(o.preventDefault(),i())}),g(["Tab"],o=>{t.value&&(o.preventDefault(),o.shiftKey?w():i())}),Y(o=>{if(d.value&&n.value){const y=oe(d.value,n.value,()=>{ne(d.value,n.value,{strategy:"absolute",placement:u.value,middleware:[ae(),se(),le(8),re()]}).then(({x:H,y:P,placement:j,middlewareData:F})=>{n.value&&(n.value.dataset.popperPlacement=j,n.value.style.left=`${H||0}px`,n.value.style.top=`${P||0}px`,s.value=F.hide.referenceHidden)})});o(y)}},{flush:"post"}),T(t,o=>{!o&&c.value&&c.value.reset()},{immediate:!0}),E(q,{isOpen:t,toggle:k,open:p,close:l}),{isOpen:t,isHidden:s,classNames:D,containerSize:S,toggle:k,open:p,close:l}}});function Oe(e,a,d,n,c,u){const t=m("IconArrow"),s=m("Button"),i=m("DropdownGroup");return r(),B("div",{ref:"dropdown",class:I(["dropdown",[{"dropdown--open":e.isOpen,"dropdown--no-caret":e.noCaret},e.classNames]]),"data-testid":"dropdown"},[b(e.$slots,"activator",{toggle:e.toggle,open:e.open,close:e.close,isOpen:e.isOpen},()=>[$(s,{"data-testid":"dropdown-activator",class:I(["dropdown__activator",e.buttonClass]),variant:e.variant,color:e.color,size:e.size,icon:e.icon,pill:e.pill,disabled:e.disabled,onClick:z(e.toggle,["prevent"])},{default:v(()=>[b(e.$slots,"button-content",{},()=>[M(L(e.text),1)]),e.noCaret?N("",!0):(r(),f(t,{key:0,class:"dropdown__caret","data-testid":"dropdown-caret"}))]),_:3},8,["class","variant","color","size","icon","pill","disabled","onClick"])]),$(G,{name:"fade"},{default:v(()=>[x(h("div",{ref:"menu","data-testid":"dropdown-menu",class:I(["dropdown__menu",[e.menuClass,e.containerSize]])},[$(i,{ref:"wizard",class:"dropdown__menu__container"},{default:v(()=>[b(e.$slots,"default")]),_:3},512)],2),[[ee,e.isOpen&&!e.isHidden]])]),_:3})],2)}const Me=C(Se,[["render",Oe]]);export{Me as D,De as p};
