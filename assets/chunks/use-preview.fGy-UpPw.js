import{d as r}from"./defu.3rjBFRnm.js";import{l as s}from"./load-image.o1nqrQGg.js";import{c as l}from"./create-image._im0xJpR.js";import{r as u,A as g,q as m}from"./framework.Bbc-9rUu.js";function f(t){const n=t.slice(1,3),o=t.slice(3,5),e=t.slice(5,7);return{R:Number.parseInt(n,16),G:Number.parseInt(o,16),B:Number.parseInt(e,16)}}function x(t,n,o=1){const e=document.createElement("canvas"),i=e.getContext("2d");return e.width=t*o,e.height=n*o,i.scale(o,o),e}function R(t,n){const o=t.getContext("2d"),e=o.getImageData(0,0,t.width,t.height),i=e.data,a=f(n);for(let c=0;c<i.length;c+=4)i[c+3]>0&&(i[c]=a.R,i[c+1]=a.G,i[c+2]=a.B);o.putImageData(e,0,0)}function C(t,n,o){const e=t.getContext("2d"),i=r(o,{color:"#000000",lineSize:2.5,lineCap:"round",lineJoin:"round"});e.strokeStyle=i.color,e.lineWidth=i.lineSize,e.lineJoin=i.lineJoin,e.lineCap=i.lineCap,e.beginPath(),e.moveTo(n[0],n[1]),e.lineTo(n[2],n[3]),e.stroke()}function b(t){t.getContext("2d").clearRect(0,0,t.width,t.height)}async function I(t,n){const o=t.getContext("2d"),e=await s(n);o.clearRect(0,0,t.width,t.height),o.drawImage(e,0,0)}function L(t,...n){return t.toDataURL(...n)}function U(t,n=l(512,512)){const o=u(n);return g(e=>{const i=m(t);if(i instanceof globalThis.File){const a=window.URL.createObjectURL(i);e(()=>{window.URL.revokeObjectURL(a)}),o.value=a}else o.value=i!=null?i:n}),o}export{b as a,x as c,C as d,I as p,R as r,L as t,U as u};
