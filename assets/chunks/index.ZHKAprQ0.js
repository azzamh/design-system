import{n as j,i as Z,t as R,c as J,d as F,e as ee,f as L,g as te,h as ne,j as re,k as ie,l as oe,w as ae}from"./index.NAsZNmul.js";import{l as O,y as k,r as y,z as se,I as Y,aj as K,U as X,A as ue}from"./framework.mXQspOPA.js";function D(e){var t;const n=L(e);return(t=n==null?void 0:n.$el)!=null?t:n}const N=F?window:void 0,le=F?window.document:void 0,U=F?window.navigator:void 0;function A(...e){let t,n,o,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,r]=e,t=N):[t,n,o,r]=e,!t)return j;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const i=[],c=()=>{i.forEach(f=>f()),i.length=0},a=(f,m,s,u)=>(f.addEventListener(m,s,u),()=>f.removeEventListener(m,s,u)),l=k(()=>[D(t),L(r)],([f,m])=>{if(c(),!f)return;const s=ee(m)?{...m}:m;i.push(...n.flatMap(u=>o.map(d=>a(f,u,d,s))))},{immediate:!0,flush:"post"}),v=()=>{l(),c()};return R(v),v}let H=!1;function _e(e,t,n={}){const{window:o=N,ignore:r=[],capture:i=!0,detectIframe:c=!1}=n;if(!o)return j;Z&&!H&&(H=!0,Array.from(o.document.body.children).forEach(s=>s.addEventListener("click",j)),o.document.documentElement.addEventListener("click",j));let a=!0;const l=s=>r.some(u=>{if(typeof u=="string")return Array.from(o.document.querySelectorAll(u)).some(d=>d===s.target||s.composedPath().includes(d));{const d=D(u);return d&&(s.target===d||s.composedPath().includes(d))}}),f=[A(o,"click",s=>{const u=D(e);if(!(!u||u===s.target||s.composedPath().includes(u))){if(s.detail===0&&(a=!l(s)),!a){a=!0;return}t(s)}},{passive:!0,capture:i}),A(o,"pointerdown",s=>{const u=D(e);a=!l(s)&&!!(u&&!s.composedPath().includes(u))},{passive:!0}),c&&A(o,"blur",s=>{setTimeout(()=>{var u;const d=D(e);((u=o.document.activeElement)==null?void 0:u.tagName)==="IFRAME"&&!(d!=null&&d.contains(o.document.activeElement))&&t(s)},0)})].filter(Boolean);return()=>f.forEach(s=>s())}function ce(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function Ne(...e){let t,n,o={};e.length===3?(t=e[0],n=e[1],o=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],o=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:r=N,eventName:i="keydown",passive:c=!1,dedupe:a=!1}=o,l=ce(t);return A(r,i,f=>{f.repeat&&L(a)||l(f)&&n(f)},c)}function de(){const{activeElement:e,body:t}=document;if(!e||e===t)return!1;switch(e.tagName){case"INPUT":case"TEXTAREA":return!0}return e.hasAttribute("contenteditable")}function fe({keyCode:e,metaKey:t,ctrlKey:n,altKey:o}){return t||n||o?!1:e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122}function Te(e,t={}){const{document:n=le}=t;n&&A(n,"keydown",r=>{!de()&&fe(r)&&e(r)},{passive:!0})}function ve(){const e=y(!1),t=K();return t&&ue(()=>{e.value=!0},t),e}function x(e){const t=ve();return O(()=>(t.value,!!e()))}function me(e,t,n={}){const{window:o=N,...r}=n;let i;const c=x(()=>o&&"MutationObserver"in o),a=()=>{i&&(i.disconnect(),i=void 0)},l=O(()=>{const s=L(e),u=(Array.isArray(s)?s:[s]).map(D).filter(te);return new Set(u)}),v=k(()=>l.value,s=>{a(),c.value&&s.size&&(i=new MutationObserver(t),s.forEach(u=>i.observe(u,r)))},{immediate:!0,flush:"post"}),f=()=>i==null?void 0:i.takeRecords(),m=()=>{a(),v()};return R(m),{isSupported:c,stop:m,takeRecords:f}}function $(e,t={}){const{window:n=N}=t,o=x(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let r;const i=y(!1),c=v=>{i.value=v.matches},a=()=>{r&&("removeEventListener"in r?r.removeEventListener("change",c):r.removeListener(c))},l=se(()=>{o.value&&(a(),r=n.matchMedia(L(e)),"addEventListener"in r?r.addEventListener("change",c):r.addListener(c),i.value=r.matches)});return R(()=>{l(),a(),r=void 0}),i}function q(e,t={}){const{controls:n=!1,navigator:o=U}=t,r=x(()=>o&&"permissions"in o);let i;const c=typeof e=="string"?{name:e}:e,a=y(),l=()=>{i&&(a.value=i.state)},v=ne(async()=>{if(r.value){if(!i)try{i=await o.permissions.query(c),A(i,"change",l),l()}catch(f){a.value="prompt"}return i}});return v(),n?{state:a,isSupported:r,query:v}:a}function De(e={}){const{navigator:t=U,read:n=!1,source:o,copiedDuring:r=1500,legacy:i=!1}=e,c=x(()=>t&&"clipboard"in t),a=q("clipboard-read"),l=q("clipboard-write"),v=O(()=>c.value||i),f=y(""),m=y(!1),s=re(()=>m.value=!1,r);function u(){c.value&&T(a.value)?t.clipboard.readText().then(w=>{f.value=w}):f.value=b()}v.value&&n&&A(["copy","cut"],u);async function d(w=L(o)){v.value&&w!=null&&(c.value&&T(l.value)?await t.clipboard.writeText(w):p(w),f.value=w,m.value=!0,s.start())}function p(w){const g=document.createElement("textarea");g.value=w!=null?w:"",g.style.position="absolute",g.style.opacity="0",document.body.appendChild(g),g.select(),document.execCommand("copy"),g.remove()}function b(){var w,g,S;return(S=(g=(w=document==null?void 0:document.getSelection)==null?void 0:w.call(document))==null?void 0:g.toString())!=null?S:""}function T(w){return w==="granted"||w==="prompt"}return{isSupported:v,text:f,copied:m,copy:d}}function pe(e){return JSON.parse(JSON.stringify(e))}const W=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},P="__vueuse_ssr_handlers__",he=we();function we(){return P in W||(W[P]=W[P]||{}),W[P]}function Q(e,t){return he[e]||t}function ge(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const ye={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},B="vueuse-storage";function be(e,t,n,o={}){var r;const{flush:i="pre",deep:c=!0,listenToStorageChanges:a=!0,writeDefaults:l=!0,mergeDefaults:v=!1,shallow:f,window:m=N,eventFilter:s,onError:u=h=>{console.error(h)},initOnMounted:d}=o,p=(f?Y:y)(typeof t=="function"?t():t);if(!n)try{n=Q("getDefaultStorage",()=>{var h;return(h=N)==null?void 0:h.localStorage})()}catch(h){u(h)}if(!n)return p;const b=L(t),T=ge(b),w=(r=o.serializer)!=null?r:ye[T],{pause:g,resume:S}=ae(p,()=>C(p.value),{flush:i,deep:c,eventFilter:s});m&&a&&J(()=>{A(m,"storage",M),A(m,B,V),d&&M()}),d||M();function _(h,E){m&&m.dispatchEvent(new CustomEvent(B,{detail:{key:e,oldValue:h,newValue:E,storageArea:n}}))}function C(h){try{const E=n.getItem(e);if(h==null)_(E,null),n.removeItem(e);else{const I=w.write(h);E!==I&&(n.setItem(e,I),_(E,I))}}catch(E){u(E)}}function z(h){const E=h?h.newValue:n.getItem(e);if(E==null)return l&&b!=null&&n.setItem(e,w.write(b)),b;if(!h&&v){const I=w.read(E);return typeof v=="function"?v(I,b):T==="object"&&!Array.isArray(I)?{...b,...I}:I}else return typeof E!="string"?E:w.read(E)}function M(h){if(!(h&&h.storageArea!==n)){if(h&&h.key==null){p.value=b;return}if(!(h&&h.key!==e)){g();try{(h==null?void 0:h.newValue)!==w.write(p.value)&&(p.value=z(h))}catch(E){u(E)}finally{h?X(S):S()}}}}function V(h){M(h.detail)}return p}function G(e){return $("(prefers-color-scheme: dark)",e)}function Se(e={}){const{selector:t="html",attribute:n="class",initialValue:o="auto",window:r=N,storage:i,storageKey:c="vueuse-color-scheme",listenToStorageChanges:a=!0,storageRef:l,emitAuto:v,disableTransition:f=!0}=e,m={auto:"",light:"light",dark:"dark",...e.modes||{}},s=G({window:r}),u=O(()=>s.value?"dark":"light"),d=l||(c==null?ie(o):be(c,o,i,{window:r,listenToStorageChanges:a})),p=O(()=>d.value==="auto"?u.value:d.value),b=Q("updateHTMLAttrs",(S,_,C)=>{const z=typeof S=="string"?r==null?void 0:r.document.querySelector(S):D(S);if(!z)return;let M;if(f&&(M=r.document.createElement("style"),M.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),r.document.head.appendChild(M)),_==="class"){const V=C.split(/\s/g);Object.values(m).flatMap(h=>(h||"").split(/\s/g)).filter(Boolean).forEach(h=>{V.includes(h)?z.classList.add(h):z.classList.remove(h)})}else z.setAttribute(_,C);f&&(r.getComputedStyle(M).opacity,document.head.removeChild(M))});function T(S){var _;b(t,n,(_=m[S])!=null?_:S)}function w(S){e.onChanged?e.onChanged(S,T):T(S)}k(p,w,{flush:"post",immediate:!0}),J(()=>w(p.value));const g=O({get(){return v?d.value:p.value},set(S){d.value=S}});try{return Object.assign(g,{store:d,system:u,state:p})}catch(S){return g}}function Me(e={}){const{valueDark:t="dark",valueLight:n="",window:o=N}=e,r=Se({...e,onChanged:(a,l)=>{var v;e.onChanged?(v=e.onChanged)==null||v.call(e,a==="dark",l,a):l(a)},modes:{dark:t,light:n}}),i=O(()=>r.system?r.system.value:G({window:o}).value?"dark":"light");return O({get(){return r.value==="dark"},set(a){const l=a?"dark":"light";i.value===l?r.value="auto":r.value=l}})}function ke(e={}){const{navigator:t=U,requestPermissions:n=!1,constraints:o={audio:!0,video:!0},onUpdated:r}=e,i=y([]),c=O(()=>i.value.filter(d=>d.kind==="videoinput")),a=O(()=>i.value.filter(d=>d.kind==="audioinput")),l=O(()=>i.value.filter(d=>d.kind==="audiooutput")),v=x(()=>t&&t.mediaDevices&&t.mediaDevices.enumerateDevices),f=y(!1);let m;async function s(){v.value&&(i.value=await t.mediaDevices.enumerateDevices(),r==null||r(i.value),m&&(m.getTracks().forEach(d=>d.stop()),m=null))}async function u(){if(!v.value)return!1;if(f.value)return!0;const{state:d,query:p}=q("camera",{controls:!0});return await p(),d.value!=="granted"&&(m=await t.mediaDevices.getUserMedia(o),s()),f.value=!0,f.value}return v.value&&(n&&u(),A(t.mediaDevices,"devicechange",s),s()),{devices:i,ensurePermissions:u,permissionGranted:f,videoInputs:c,audioInputs:a,audioOutputs:l,isSupported:v}}function Ee(e,t,n={}){const{window:o=N,...r}=n;let i;const c=x(()=>o&&"ResizeObserver"in o),a=()=>{i&&(i.disconnect(),i=void 0)},l=O(()=>Array.isArray(e)?e.map(m=>D(m)):[D(e)]),v=k(l,m=>{if(a(),c.value&&o){i=new ResizeObserver(t);for(const s of m)s&&i.observe(s,r)}},{immediate:!0,flush:"post"}),f=()=>{a(),v()};return R(f),{isSupported:c,stop:f}}function Ce(e,t={}){const{reset:n=!0,windowResize:o=!0,windowScroll:r=!0,immediate:i=!0}=t,c=y(0),a=y(0),l=y(0),v=y(0),f=y(0),m=y(0),s=y(0),u=y(0);function d(){const p=D(e);if(!p){n&&(c.value=0,a.value=0,l.value=0,v.value=0,f.value=0,m.value=0,s.value=0,u.value=0);return}const b=p.getBoundingClientRect();c.value=b.height,a.value=b.bottom,l.value=b.left,v.value=b.right,f.value=b.top,m.value=b.width,s.value=b.x,u.value=b.y}return Ee(e,d),k(()=>D(e),p=>!p&&d()),me(e,d,{attributeFilter:["style","class"]}),r&&A("scroll",d,{capture:!0,passive:!0}),o&&A("resize",d,{passive:!0}),J(()=>{i&&d()}),{height:c,bottom:a,left:l,right:v,top:f,width:m,x:s,y:u,update:d}}function Ie(e={}){var t,n;const o=y((t=e.enabled)!=null?t:!1),r=y((n=e.autoSwitch)!=null?n:!0),i=y(e.constraints),{navigator:c=U}=e,a=x(()=>{var p;return(p=c==null?void 0:c.mediaDevices)==null?void 0:p.getUserMedia}),l=Y();function v(p){switch(p){case"video":{if(i.value)return i.value.video||!1;break}case"audio":{if(i.value)return i.value.audio||!1;break}}}async function f(){if(!(!a.value||l.value))return l.value=await c.mediaDevices.getUserMedia({video:v("video"),audio:v("audio")}),l.value}function m(){var p;(p=l.value)==null||p.getTracks().forEach(b=>b.stop()),l.value=void 0}function s(){m(),o.value=!1}async function u(){return await f(),l.value&&(o.value=!0),l.value}async function d(){return m(),await u()}return k(o,p=>{p?f():m()},{immediate:!0}),k(i,()=>{r.value&&l.value&&d()},{immediate:!0}),R(()=>{s()}),{isSupported:a,stream:l,start:u,stop:s,restart:d,constraints:i,enabled:o,autoSwitch:r}}function Le(e,t,n,o={}){var r,i,c;const{clone:a=!1,passive:l=!1,eventName:v,deep:f=!1,defaultValue:m,shouldEmit:s}=o,u=K(),d=n||(u==null?void 0:u.emit)||((r=u==null?void 0:u.$emit)==null?void 0:r.bind(u))||((c=(i=u==null?void 0:u.proxy)==null?void 0:i.$emit)==null?void 0:c.bind(u==null?void 0:u.proxy));let p=v;t||(t="modelValue"),p=p||`update:${t.toString()}`;const b=g=>a?typeof a=="function"?a(g):pe(g):g,T=()=>oe(e[t])?b(e[t]):m,w=g=>{s?s(g)&&d(p,g):d(p,g)};if(l){const g=T(),S=y(g);let _=!1;return k(()=>e[t],C=>{_||(_=!0,S.value=b(C),X(()=>_=!1))}),k(S,C=>{!_&&(C!==e[t]||f)&&w(C)},{deep:f}),S}else return O({get(){return T()},set(g){w(g)}})}function xe(e={}){const{window:t=N,behavior:n="auto"}=e;if(!t)return{x:y(0),y:y(0)};const o=y(t.scrollX),r=y(t.scrollY),i=O({get(){return o.value},set(a){scrollTo({left:a,behavior:n})}}),c=O({get(){return r.value},set(a){scrollTo({top:a,behavior:n})}});return A(t,"scroll",()=>{o.value=t.scrollX,r.value=t.scrollY},{capture:!1,passive:!0}),{x:i,y:c}}function ze(e={}){const{window:t=N,initialWidth:n=Number.POSITIVE_INFINITY,initialHeight:o=Number.POSITIVE_INFINITY,listenOrientation:r=!0,includeScrollbar:i=!0}=e,c=y(n),a=y(o),l=()=>{t&&(i?(c.value=t.innerWidth,a.value=t.innerHeight):(c.value=t.document.documentElement.clientWidth,a.value=t.document.documentElement.clientHeight))};if(l(),J(l),A("resize",l,{passive:!0}),r){const v=$("(orientation: portrait)");k(v,()=>l())}return{width:c,height:a}}export{ke as a,Ie as b,Te as c,_e as d,$ as e,xe as f,Ce as g,Le as h,me as i,ze as j,A as k,Me as l,De as m,Ne as o,q as u};
