import{d as y,r as g,l as c,z as v,m as w,o as d,c as i,a8 as B,aj as b,q as s,p as N,N as V,a7 as k,b as S,t as f,g as h,n as z}from"./framework.etf_9QdW.js";import{u as C}from"./index.pFnKfgok.js";import{c as G}from"./accept._rvVzN4h.js";const I=["placeholder","disabled","readonly","rows","maxlength","aria-valuemax"],M={key:0,"data-testid":"calendar-counter",class:"textarea__counter"},T={key:0},R=y({inheritAttrs:!1,__name:"Textarea",props:{modelValue:{type:String,default:void 0},placeholder:{type:String,default:""},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},autoGrow:{type:Boolean,default:!1},resize:{type:Boolean,default:!1},showCounter:{type:Boolean,default:!1},rows:{type:[Number,String],default:3},maxlength:{type:[Number,String],default:void 0},accept:{type:String,default:void 0}},emits:["input","update:modelValue"],setup(e){const t=e,l=g(),o=C(t),m=c(()=>{const a=["textarea"];return t.resize&&a.push("textarea--resize"),t.disabled&&a.push("textarea--disabled"),t.autoGrow&&a.push("textarea--autogrow"),t.readonly&&a.push("textarea--readonly"),t.error&&a.push("textarea--error","state--error"),a}),p=c(()=>o.value?o.value.length:"0");v(()=>t.autoGrow,a=>{a?n():l.value.style.removeProperty("height")},{flush:"post"}),w(()=>{t.autoGrow&&l.value&&n()});function n(){l.value.style.height="auto",l.value.style.height=`${l.value.scrollHeight}px`}function x(){t.autoGrow&&n()}return(a,r)=>(d(),i("div",{"data-testid":"textarea",class:z(s(m))},[B(N("textarea",V({ref_key:"textarea",ref:l,"onUpdate:modelValue":r[0]||(r[0]=u=>k(o)?o.value=u:null),"data-testid":"textarea-input",class:"textarea__input"},a.$attrs,{placeholder:e.placeholder,disabled:e.disabled,readonly:e.readonly,rows:e.rows,maxlength:e.maxlength,"aria-valuemax":e.maxlength,onBeforeinput:r[1]||(r[1]=u=>s(G)(e.accept,u)),onInput:x}),null,16,I),[[b,s(o)]]),e.showCounter?(d(),i("div",M,[S(f(s(p)),1),e.maxlength?(d(),i("span",T,"/"+f(e.maxlength),1)):h("",!0)])):h("",!0)],2))}});export{R as _};
