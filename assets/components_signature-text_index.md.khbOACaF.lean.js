import"./chunks/Input.vue_vue_type_style_index_0_lang.w40geAFS.js";import{u as q}from"./chunks/index.JqxQU4ai.js";import{c as B}from"./chunks/create-image._im0xJpR.js";import{c as A,u as T}from"./chunks/index.3xQkvCPa.js";import{l as w}from"./chunks/load-font.m7-FElG_.js";import{f as D}from"./chunks/base64.6dLoFO2g.js";import{d as S,r as m,l as F,z as P,m as I,o as C,c as b,q as c,J as i,w as g,p,t as _,V as o,b as u,E as V,a7 as x}from"./chunks/framework.9r1f5sdm.js";import"./chunks/index.rL4v00xu.js";import"./chunks/avatar.CzBZbX_M.js";import"./chunks/color-hash.7xxmQZVO.js";import"./chunks/defu.3rjBFRnm.js";import"./chunks/load-image.o1nqrQGg.js";function L(t){return String(t).toLowerCase().replaceAll(/^\w|([\s,.])(\w)/gm,s=>s.toUpperCase())}function N(t){return t?L(String(t).trim().replaceAll(/[^\s,.A-Za-z]+/g,"")):""}async function f(t,s=1){await w(t.font);const a=t.text,E=t.width,l=t.height,n=t.color,r=t.font,y=A(E,l,s),h=y.getContext("2d");h.fillStyle=n,h.font=`100px ${r}`,h.textBaseline="middle";let k=100,d=h.measureText(a);return d.width>E?(k=Math.floor(k/d.width*(E-16)),h.font=`${k}px ${r}`,d=h.measureText(a)):k>=l&&(k=l-16,h.font=`${k}px ${r}`,d=h.measureText(a)),h.fillText(a,(E-d.width)/2,l/2+16),y.toDataURL()}const M=["width","height","src","srcset"],e=S({__name:"SignatureText",props:{modelValue:{type:[String,globalThis.File],default:""},modelModifiers:{type:Object,default:()=>({})},width:{type:Number,default:430},height:{type:Number,default:230},text:{type:String,default:""},maxwords:{type:[Number,String],default:2},maxlength:{type:[Number,String],default:50},font:{type:String,default:"Herr Von Muellerhoff"},color:{type:String,default:"#000000"}},emits:["update:modelValue"],setup(t){const s=t,a=m(!1),E=m(""),l=q(s),n=T(l),r=F(()=>a.value?n.value:B(s.width,s.height)),y=F(()=>s.text?N(String(s.text).split(" ").filter(Boolean).slice(0,Number.parseInt(`${s.maxwords}`)).join(" ").slice(0,Number.parseInt(`${s.maxlength}`))):"- No Image -");P(()=>[s.text,s.font,s.color,s.width,s.height,s.maxwords,s.maxlength],()=>{h()}),I(()=>{h()});async function h(){a.value=!1;const k={text:y.value,font:s.font,width:s.width,height:s.height,color:s.color},d=await f(k),v=s.modelModifiers.base64?d:D(d);l.value=v,E.value=`${await f(k,2)} 2x`,a.value=!0}return(k,d)=>(C(),b("img",{"data-testid":"signature-text",class:"signature--text",width:t.width,height:t.height,src:c(r),srcset:c(E)},null,8,M))}}),R=o("",4),U=o("",2),$=o("",3),G=o("",3),H=o("",3),z=o("",2),j=o("",3),O=o("",2),J={class:"truncate"},W=p("h3",{id:"encode-to-base64",tabindex:"-1"},[u("Encode to base64 "),p("a",{class:"header-anchor",href:"#encode-to-base64","aria-label":'Permalink to "Encode to base64"'},"​")],-1),Y=p("p",null,[u("If you prefer "),p("a",{href:"https://en.wikipedia.org/wiki/Data_URI_scheme",target:"_blank",rel:"noreferrer"},"base64-dataURI"),u(" format, add modifier "),p("code",null,".base64"),u(" to your "),p("code",null,"v-model"),u(".")],-1),Z=p("p",null,[p("strong",null,"result")],-1),K={class:"truncate"},Q=o("",8),os=JSON.parse('{"title":"Signature Text · Components","description":"Generate text to signature image","frontmatter":{"title":"Signature Text · Components","description":"Generate text to signature image"},"headers":[],"relativePath":"components/signature-text/index.md","filePath":"components/signature-text/index.md"}'),X={name:"components/signature-text/index.md"},Es=Object.assign(X,{setup(t){const s=m(),a=m();return(E,l)=>{const n=V("preview");return C(),b("div",null,[R,i(n,{class:"flex-col !bg-base-white"},{default:g(()=>[i(e,{text:"Lorem Ipsum"})]),_:1}),U,i(n,{class:"flex-col !bg-base-white"},{default:g(()=>[i(e,{text:"Lorem Ipsum",width:230,limit:1})]),_:1}),$,i(n,{class:"flex-col !bg-base-white"},{default:g(()=>[i(e,{text:"Lorem Ipsum",font:"Herr Von Muellerhoff"}),i(e,{text:"Lorem Ipsum",font:"Satisfy"})]),_:1}),G,i(n,{class:"flex-col !bg-base-white"},{default:g(()=>[i(e,{text:"Lorem ipsum dolor sit amet",maxwords:"3"}),i(e,{text:"Lorem ipsum dolor sit amet",maxwords:"2"}),i(e,{text:"Lorem ipsum dolor sit amet",maxwords:"1"})]),_:1}),H,i(n,{class:"flex-col !bg-base-white"},{default:g(()=>[i(e,{text:"Lorem Aaaaaaaaaaaaaaaaaaaaaaaaaaaaa",maxlength:"15"})]),_:1}),z,i(n,{class:"flex-col !bg-base-white"},{default:g(()=>[i(e,{text:"Lorem ipsum",color:"#004C9D"}),i(e,{text:"Lorem ipsum",color:"#23B242"}),i(e,{text:"Lorem ipsum",color:"#E42E2C"})]),_:1}),j,i(n,{class:"flex-col !bg-base-white"},{default:g(()=>[i(e,{text:"Lorem ipsum",modelValue:c(s),"onUpdate:modelValue":l[0]||(l[0]=r=>x(s)?s.value=r:null)},null,8,["modelValue"])]),_:1}),O,p("pre",J,[p("code",null,_(c(s)),1)]),W,Y,i(n,{class:"flex-col !bg-base-white"},{default:g(()=>[i(e,{text:"Lorem ipsum",modelValue:c(a),"onUpdate:modelValue":l[1]||(l[1]=r=>x(a)?a.value=r:null),modelModifiers:{base64:!0}},null,8,["modelValue"])]),_:1}),Z,p("pre",K,[p("code",null,_(c(a)),1)]),Q])}}});export{os as __pageData,Es as default};
