var x=Object.defineProperty;var O=(e,t,s)=>t in e?x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var y=(e,t,s)=>(O(e,typeof t!="symbol"?t+"":t,s),s);import{t as j,j as z,e as G}from"./chunks/index.r0OCB_7d.js";import{_ as N}from"./chunks/Button.vue_vue_type_script_setup_true_lang.qM5y5b4m.js";import"./chunks/Button.vue_vue_type_style_index_0_lang.w40geAFS.js";import{u as R}from"./chunks/index.VOHB-FDq.js";import{u as L,d as J,t as B,p as W,a as Q,r as H}from"./chunks/index.EAblm_-D.js";import{G as K,j as A,X as Z,a7 as ee,d as T,h as b,y as M,_ as V,D as f,o as g,c as E,k as h,b as P,w as p,t as w,a as U,e as S,I as n,g as C,a8 as te,a5 as se,F as ae,n as q,T as ie,O as le,J as ne,f as oe,m as v,R as m,a4 as I}from"./chunks/framework.e_h4aueT.js";import{t as re}from"./chunks/throttle.Yy5L90F6.js";import{p as de}from"./chunks/Caption.W-_7emLW.js";import{f as F}from"./chunks/base64.6dLoFO2g.js";import{l as he}from"./chunks/load-image.o1nqrQGg.js";import{I as pe}from"./chunks/20.U57GusSf.js";import{p as ce}from"./chunks/index._wsh0zM_.js";import{c as ue}from"./chunks/create-image._im0xJpR.js";import"./chunks/index.L8r16ak4.js";import"./chunks/index.hjpy5ZnQ.js";import"./chunks/SpinnerRinggo.jx16kb8p.js";import"./chunks/index.dnE_v7BF.js";import"./chunks/defu.sEzLH6yp.js";import"./chunks/debounce.fM6nWQov.js";import"./chunks/isObject.mlSoqgao.js";import"./chunks/isObjectLike.OM1Hublo.js";import"./chunks/toNumber.jidAZ9H9.js";import"./chunks/isSymbol.K1VvrVGN.js";import"./chunks/Caption.vue_vue_type_style_index_0_lang.w40geAFS.js";import"./chunks/avatar.CzBZbX_M.js";import"./chunks/color-hash.7xxmQZVO.js";function ke(e,t){const s=K();A(async()=>{if(e.value){const{default:a}=await Z(()=>import("./chunks/interact.min.c6jvS83-.js").then(o=>o.i),__vite__mapDeps([0,1])),i=re(t.onmove,1e3/60);s.value=a(e.value).styleCursor(!1).draggable({origin:"self",inertia:{enabled:!0,resistance:10},onstart:t.onstart,onmove:i,onend:i})}}),ee(async()=>{var a;(a=s.value)==null||a.unset()})}class ge{constructor(t){y(this,"lastX");y(this,"lastY");y(this,"movingX");y(this,"movingY");y(this,"smoother");this.lastX=0,this.lastY=0,this.movingX=0,this.movingY=0,this.smoother=t*.05+.7}start(t,s){this.lastX=t,this.lastY=s,this.movingX=0,this.movingY=0}move(t,s){const a=this.lastX,i=this.lastY,o=(this.movingX+(a-t)*.1)*this.smoother,l=(this.movingY+(i-s)*.1)*this.smoother,r=a-o,d=i-l;return this.movingX=o,this.movingY=l,this.lastX=r,this.lastY=d,[a,i,r,d]}}function Ee(e){return Array.from({length:e}).map((t,s)=>new ge(s/(e*1.25)))}const me=T({components:{Caption:de,Button:N},props:{modelValue:{type:[String,globalThis.File],default:""},modelModifiers:{type:Object,default:()=>({})},width:{type:Number,default:430},height:{type:Number,default:230},color:{type:String,default:"#000000"},placeholder:{type:String,default:""},resetLabel:{type:String,default:"Reset"}},models:{prop:"modelValue",event:"update:modelValue"},emits:["update:modelValue"],setup(e){const t=R(e),s=L(t,""),a=b(!0),i=j("canvas"),o=Ee(15);function l(){Q(i.value),a.value=!0,t.value=""}function r(d){if(!a.value){H(i.value,d);const c=B(i.value),u=e.modelModifiers.base64?c:F(c);t.value=u}}return M(()=>e.color,r),ke(i,{onstart(d){for(const c of o)c.start(d.pageX,d.pageY)},onmove(d){for(const k of o){const D=k.move(d.pageX,d.pageY),X={color:e.color};J(i.value,D,X)}const c=B(i.value),u=e.modelModifiers.base64?c:F(c);a.value=!1,t.value=u}}),A(()=>{t.value&&s.value&&(W(i.value,s.value),a.value=!1)}),{model:t,reset:l,isBlank:a,setColor:r}}}),ye={class:"signature-draw signature-draw--desktop","data-testid":"signature-draw-desktop"},ve=["width","height"],_e={key:1,class:"signature-draw__control"};function fe(e,t,s,a,i,o){const l=f("Caption"),r=f("Button");return g(),E("div",ye,[h("canvas",{ref:"canvas",class:"signature-draw__canvas","data-testid":"signature-draw-canvas",width:e.width,height:e.height},null,8,ve),e.isBlank?(g(),P(l,{key:0,class:"signature-draw__placeholder","data-testid":"signature-draw-placeholder"},{default:p(()=>[U(w(e.placeholder),1)]),_:1})):S("",!0),e.isBlank?S("",!0):(g(),E("div",_e,[n(r,{"data-testid":"signature-draw-reset",variant:"link",size:"xs",class:"signature-draw__reset",pill:"",onClick:t[0]||(t[0]=d=>e.reset())},{default:p(()=>[h("span",null,w(e.resetLabel),1)]),_:1})]))])}const Y=V(me,[["render",fe]]);async function $(e,t){const s=document.createElement("canvas"),a=s.getContext("2d"),i=await he(e);return s.width=t%180===0?i.width:i.height,s.height=t%180===0?i.height:i.width,a.translate(s.width/2,s.height/2),a.rotate(t*Math.PI/180),a.drawImage(i,i.width/-2,i.height/-2),s.toDataURL()}const be=T({components:{Button:N,IconEdit:pe,SignatureDrawDesktop:Y},directives:{pAspectRatio:ce},props:{modelValue:{type:[String,globalThis.File],default:""},modelModifiers:{type:Object,default:()=>({})},width:{type:Number,default:430},height:{type:Number,default:230},color:{type:String,default:"#000000"},placeholder:{type:String,default:""},resetLabel:{type:String,default:"Reset"},openDrawLabel:{type:String,default:"Click to Draw"},closeDrawLabel:{type:String,default:"Save"}},models:{prop:"modelValue",event:"update:modelValue"},emits:["update:modelValue"],setup(e){const t=R(e),s=L(t,""),a=b(""),i=b(!1),o=z(),l=C(()=>o.width.value<e.width+32?"rotate":"normal"),r=C(()=>{const k=[];return l.value&&k.push(`signature-draw--${l.value}`),k}),d=C(()=>({width:`${e.width}px`,aspectRatio:`${e.width/e.height}`}));async function c(){const k=s.value&&l.value==="rotate"?await $(s.value,90):s.value;a.value=k,i.value=!0}async function u(){const k=a.value&&l.value==="rotate"?await $(a.value,-90):a.value,D=e.modelModifiers.base64?k:F(k);t.value=D,i.value=!1}return M(i,k=>{k?document.body.style.setProperty("overflow-y","hidden"):document.body.style.removeProperty("overflow-y")}),{classNames:r,style:d,rawModel:a,preview:s,model:t,isOpen:i,mode:l,open:c,close:u}}}),we={class:"signature-draw__preview"},Ce=["src"],De={key:0,class:"signature-draw__modal","data-testid":"signature-draw-modal"};function Se(e,t,s,a,i,o){const l=f("IconEdit"),r=f("Button"),d=f("SignatureDrawDesktop"),c=te("p-aspect-ratio");return se((g(),E("div",{class:q(["signature-draw signature-draw--mobile",e.classNames]),"data-testid":"signature-draw-mobile",style:le(e.style)},[h("div",we,[e.model?(g(),E(ae,{key:0},[h("img",{src:e.preview,alt:"signature-draw-preview","data-testid":"signature-draw-preview",onClick:t[0]||(t[0]=u=>e.open())},null,8,Ce),n(r,{variant:"link",size:"xs",class:"signature-draw__reset","data-testid":"signature-draw-edit",icon:"",onClick:t[1]||(t[1]=u=>e.open())},{default:p(()=>[n(l)]),_:1})],64)):(g(),P(r,{key:1,"data-testid":"signature-draw-open",onClick:t[2]||(t[2]=u=>e.open())},{default:p(()=>[U(w(e.openDrawLabel),1)]),_:1}))]),n(ie,{name:"zoom-in"},{default:p(()=>[e.isOpen?(g(),E("div",De,[n(d,{modelValue:e.rawModel,"onUpdate:modelValue":t[3]||(t[3]=u=>e.rawModel=u),modelModifiers:{base64:!0},class:q(e.classNames),placeholder:e.placeholder,color:e.color,width:e.mode==="rotate"?e.height:e.width,height:e.mode==="rotate"?e.width:e.height,"reset-label":e.resetLabel},null,8,["modelValue","class","placeholder","color","width","height","reset-label"]),n(r,{class:"signature-draw__close",nganu:"1311","data-testid":"signature-draw-close",onClick:t[4]||(t[4]=u=>e.close())},{default:p(()=>[h("span",null,w(e.closeDrawLabel),1)]),_:1})])):S("",!0)]),_:1})],6)),[[c,e.width/e.height]])}const Fe=V(be,[["render",Se]]),Ae=T({props:{modelValue:{type:[String,globalThis.File],default:""},modelModifiers:{type:Object,default:()=>({})},width:{type:Number,default:430},height:{type:Number,default:230},color:{type:String,default:"#000000"},placeholder:{type:String,default:""},resetLabel:{type:String,default:"Reset"},openDrawLabel:{type:String,default:"Click to Draw"},closeDrawLabel:{type:String,default:"Save"}},models:{prop:"modelValue",event:"update:modelValue"},emits:["update:modelValue"],setup(){const e=b(!1),t=G("(min-width: 768px)"),s=C(()=>t.value?Y:Fe);return A(()=>{e.value=!0}),{view:s,ready:e,createSpinner:ue}}}),Te={key:1,class:"signature-draw"},Ve=["src"];function Pe(e,t,s,a,i,o){return e.ready?(g(),P(ne(e.view),{key:0,"model-value":e.modelValue,"model-modifiers":e.modelModifiers,width:e.width,height:e.height,color:e.color,placeholder:e.placeholder,"reset-label":e.resetLabel,"open-draw-label":e.openDrawLabel,"close-draw-label":e.closeDrawLabel,"onUpdate:modelValue":t[0]||(t[0]=l=>e.$emit("update:modelValue",l))},null,8,["model-value","model-modifiers","width","height","color","placeholder","reset-label","open-draw-label","close-draw-label"])):(g(),E("div",Te,[h("img",{class:"signature-draw__fallback",src:e.createSpinner(e.width,e.height),alt:"signature-draw"},null,8,Ve)]))}const _=V(Ae,[["render",Pe]]),Be=m("",4),qe=m("",2),Ie=m("",2),$e=m("",3),Ne=m("",3),Re=h("p",null,[h("strong",null,"result")],-1),Le={class:"truncate"},Me=m("",3),Ue=h("p",null,[h("strong",null,"result")],-1),Ye={class:"truncate"},Xe=["src"],xe=m("",8),yt=JSON.parse('{"title":"Signature Draw · Components","description":"Draw signature like using real pen","frontmatter":{"title":"Signature Draw · Components","description":"Draw signature like using real pen"},"headers":[],"relativePath":"components/signature-draw/index.md","filePath":"components/signature-draw/index.md"}'),Oe={name:"components/signature-draw/index.md"},vt=Object.assign(Oe,{setup(e){const t=oe("/assets/images/empty-img.png"),s=b(),a=b();return(i,o)=>{const l=f("preview");return g(),E("div",null,[Be,n(l,null,{default:p(()=>[n(_)]),_:1}),qe,n(l,{class:"flex-col"},{default:p(()=>[n(_,{width:230})]),_:1}),Ie,n(l,{class:"flex-col"},{default:p(()=>[n(_,{placeholder:"Draw signature here"})]),_:1}),$e,n(l,{class:"flex-col space-y-2"},{default:p(()=>[n(_,{color:"#73185E"})]),_:1}),Ne,n(l,{class:"flex-col space-y-2"},{default:p(()=>[n(_,{modelValue:v(s),"onUpdate:modelValue":o[0]||(o[0]=r=>I(s)?s.value=r:null)},null,8,["modelValue"])]),_:1}),Re,h("pre",Le,[h("code",null,w(v(s)),1)]),Me,n(l,{class:"flex-col space-y-2"},{default:p(()=>[n(_,{modelValue:v(a),"onUpdate:modelValue":o[1]||(o[1]=r=>I(a)?a.value=r:null),modelModifiers:{base64:!0}},null,8,["modelValue"])]),_:1}),Ue,h("pre",Ye,[h("code",null,w(v(a)||"-"),1)]),h("img",{class:"mt-2 border border-default dark:border-dark-default bg-base-white",src:v(a)||v(t),width:"430",height:"230",alt:"Result Image"},null,8,Xe),xe])}}});export{yt as __pageData,vt as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/chunks/interact.min.c6jvS83-.js","assets/chunks/commonjsHelpers.4gQjN7DL.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}