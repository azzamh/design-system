import{t as x}from"./chunks/index.4e947356.js";import{g as P,p as j}from"./chunks/PdfObject.e46e2d28.js";import{E as v,x as C,ad as I,U as T,d as k,a4 as f,h,g as O,y as S,_ as R,o as F,c as _,k as d,r as B,N as D,n as L,am as H,C as N,H as E,w as y,l as i,Q as q,a1 as $,F as U,D as V,b as G}from"./chunks/framework.c6b37a8b.js";import{p as M}from"./chunks/PdfObjectAddon.86b63135.js";import{p as z,F as J}from"./chunks/Calibrator-v3.55a13df2.js";import{_ as Q}from"./chunks/Button.vue_vue_type_script_setup_true_lang.6548455d.js";import"./chunks/Button.vue_vue_type_style_index_0_lang.4ed993c7.js";import{I as X}from"./chunks/16.43f23024.js";import"./chunks/index.a9759927.js";import"./chunks/floating-ui.dom.546cdae4.js";import"./chunks/use-focus.9e2f5fde.js";import"./chunks/baseClamp.947838b9.js";import"./chunks/toNumber.75689a18.js";import"./chunks/isObject.32699ff3.js";import"./chunks/isSymbol.4326927f.js";import"./chunks/isObjectLike.53b0037d.js";import"./chunks/memoize.ddd08355.js";import"./chunks/eq.0257f0f1.js";import"./chunks/index.f0554c3a.js";import"./chunks/noop.cb277961.js";import"./chunks/20.f2486bd6.js";import"./chunks/20.c433ca92.js";import"./chunks/Divider.dd23b8a2.js";import"./chunks/Divider.vue_vue_type_style_index_0_lang.4ed993c7.js";import"./chunks/Select.dd23a189.js";import"./chunks/Dropdown.737ea8ae.js";import"./chunks/Dropdown.vue_vue_type_style_index_0_lang.485fd372.js";import"./chunks/index.c3f1570d.js";import"./chunks/16.189b8710.js";import"./chunks/DropdownHeader.309775be.js";import"./chunks/Subheading.8e75f536.js";import"./chunks/Input.6ed451cb.js";import"./chunks/index.a3ecab28.js";import"./chunks/accept.c8f4354a.js";import"./chunks/Input.vue_vue_type_style_index_0_lang.4ed993c7.js";import"./chunks/20.d08a37ef.js";import"./chunks/SpinnerRing.5dfc144c.js";import"./chunks/value.d2e2d3a1.js";import"./chunks/adapter.6b5fce95.js";import"./chunks/use-loading.59db4575.js";import"./chunks/defu.573334b8.js";import"./chunks/Heading.d1980c1d.js";import"./chunks/Heading.vue_vue_type_style_index_0_lang.4ed993c7.js";import"./chunks/focus.33532f0c.js";import"./chunks/commonjsHelpers.de833af9.js";import"./chunks/index.f20852fd.js";import"./chunks/debounce.b619e377.js";import"./chunks/toInteger.d4d227f4.js";import"./chunks/toString.314d06e3.js";import"./chunks/isArray.513c67aa.js";import"./chunks/SpinnerRinggo.76282a62.js";function Y(a,t={}){const s=v(!0),o=v();async function u(){if(l(),a.value){const{default:c}=await T(()=>import("./chunks/interact.min.7201a62d.js").then(r=>r.i),["assets/chunks/interact.min.7201a62d.js","assets/chunks/commonjsHelpers.de833af9.js"]);o.value=c(a.value).draggable({inertia:!0,enabled:s.value,autoScroll:!0,onstart:t.onstart,onmove:t.onmove,onend:t.onend})}}function l(){o.value&&o.value.unset()}return C(a,async()=>{await u()}),C(s,c=>{o.value&&o.value.draggable(c)}),I(()=>{l()}),s}const K=k({props:{scale:{type:Number,default:1},width:{type:Number,default:198},height:{type:Number,default:106},disabled:{type:Boolean,default:!1}},emits:["landed"],setup(a,{emit:t}){const s=x("object"),o=f(a,"scale"),u=f(a,"width"),l=f(a,"height"),c=h(!1),r=h(0),n=h(0),m=O(()=>{const p=[];return a.disabled&&p.push("pdf-helipad--disabled"),p}),e=Y(s,{onstart(){const{left:p,top:g}=s.value.getBoundingClientRect();c.value=!0,r.value=p,n.value=g},onmove(p){r.value=p.clientX-p.rect.width*o.value/2,n.value=p.clientY-p.rect.height*o.value/2},onend(p){if(p.relatedTarget){const g=p.relatedTarget,w=P({reference:g,object:s.value,scale:o.value});t("landed",{...w,width:u.value,height:l.value})}c.value=!1}});return S(()=>{s.value&&(c.value?(s.value.style.position="fixed",s.value.style.transform=`translate(${r.value}px, ${n.value}px) scale(${o.value})`,s.value.style.zIndex="50"):(s.value.style.position="absolute",s.value.style.transform="translate(0px, 0px)",s.value.style.zIndex="2"))}),C(()=>a.disabled,p=>{e.value=!p},{immediate:!0}),{classNames:m}}});const W={class:"pdf-object__container"},Z={class:"pdf-object__container"};function ss(a,t,s,o,u,l){return F(),_("div",{"data-testid":"pdf-helipad",class:L(["pdf-helipad",a.classNames])},[d("div",{ref:"object","data-testid":"pdf-helipad-object",class:"pdf-object pdf-object--external",style:D({width:`${a.width}px`,height:`${a.height}px`})},[d("div",W,[B(a.$slots,"default")])],4),d("div",{class:"pdf-object pdf-object--external pdf-helipad__ghost",style:D({width:`${a.width}px`,height:`${a.height}px`})},[d("div",Z,[B(a.$slots,"default")])],4)],2)}const A=R(K,[["render",ss]]),b="/design-system/assets/img-helicopter.70243ad0.svg",as=q("",5),ns=["src"],ls=["src"],ps=q("",2),os=["src"],es=q("",8),oa=JSON.parse(`{"title":"PDF Helipad · Components","description":"Add object to PDF Viewer with Drag'n'Drop","frontmatter":{"title":"PDF Helipad · Components","description":"Add object to PDF Viewer with Drag'n'Drop"},"headers":[],"relativePath":"components/pdf-helipad/index.md","filePath":"components/pdf-helipad/index.md"}`),ts={name:"components/pdf-helipad/index.md"},ea=Object.assign(ts,{setup(a){const t=H([]),s=h(1);function o(l){t.push({_id:Symbol("ObjectId"),page:l.page,x:l.x,y:l.y,width:l.width,height:l.height})}function u(l){t.splice(l,1)}return(l,c)=>{const r=N("preview");return F(),_("div",null,[as,E(A,{scale:i(s),onLanded:o},{default:y(()=>[d("img",{class:"w-full h-full bg-base-white",src:i(b)},null,8,ns)]),_:1},8,["scale"]),E(r,null,{default:y(()=>[E(z,{src:i(J),scale:i(s),"onUpdate:scale":c[0]||(c[0]=n=>$(s)?s.value=n:null)},{default:y(()=>[(F(!0),_(U,null,V(i(t),(n,m)=>(F(),G(j,{key:n._id,page:n.page,"onUpdate:page":e=>n.page=e,x:n.x,"onUpdate:x":e=>n.x=e,y:n.y,"onUpdate:y":e=>n.y=e,width:n.width,"onUpdate:width":e=>n.width=e,height:n.height,"onUpdate:height":e=>n.height=e},{default:y(()=>[d("img",{class:"w-full h-full rounded",src:i(b)},null,8,ls),E(M,null,{default:y(()=>[E(Q,{size:"sm",icon:"",color:"danger",onClick:e=>u(m)},{default:y(()=>[E(X)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["page","onUpdate:page","x","onUpdate:x","y","onUpdate:y","width","onUpdate:width","height","onUpdate:height"]))),128))]),_:1},8,["src","scale"])]),_:1}),ps,E(r,{class:"!bg-base-white"},{default:y(()=>[E(A,{disabled:""},{default:y(()=>[d("img",{class:"w-full h-full",src:i(b)},null,8,os)]),_:1})]),_:1}),es])}}});export{oa as __pageData,ea as default};
