import{_ as B}from"./chunks/Button.vue_vue_type_script_setup_true_lang.-nAr7aEh.js";import"./chunks/Button.vue_vue_type_style_index_0_lang.w40geAFS.js";import{I as os,m as rs,Z as hs,ad as ps,_ as ts,o as S,c as I,p as t,l as T,d as ds,r as _,ac as G,a3 as P,q as n,n as J,R as Q,a1 as M,ab as cs,g as ks,K as o,w as g,a8 as z,b as m,a as gs,j as X,t as K,aa as F,F as us}from"./chunks/framework.ZrRw_Qa4.js";import{u as Es}from"./chunks/index.FkEYMZ7H.js";import{t as ss}from"./chunks/throttle.q_piZQy8.js";import{_ as ms}from"./chunks/InputRange.vue_vue_type_style_index_0_lang.8vQZjBnx.js";import{I as ys,a as vs}from"./chunks/20.CgOzeHrF.js";import{c as _s,u as fs}from"./chunks/use-preview.zSHQJnyO.js";import{u as Fs}from"./chunks/index.ImQwO995.js";import{f as bs}from"./chunks/base64.sP9_YaTt.js";import{v as Cs}from"./chunks/index.vEti7fPt.js";import{a as xs,b as As}from"./chunks/index.eYkV4jq0.js";import"./chunks/index.hjpy5ZnQ.js";import"./chunks/SpinnerRinggo.vue_vue_type_script_setup_true_lang.izcOzecy.js";import"./chunks/debounce.pZZBdQwa.js";import"./chunks/isObject.mlSoqgao.js";import"./chunks/baseGetTag.IiKF_g5t.js";import"./chunks/toNumber._iUOfnSi.js";import"./chunks/isSymbol.kHNk0UTq.js";import"./chunks/isObjectLike.cOVh3xPP.js";import"./chunks/index.9qvRhOkO.js";import"./chunks/defu.3rjBFRnm.js";import"./chunks/load-image.o1nqrQGg.js";import"./chunks/create-image.-bWY0owp.js";import"./chunks/avatar.0v8S7gpS.js";import"./chunks/color-hash.7xxmQZVO.js";function ws(s,i){const p=os();rs(async()=>{if(s.value){const{default:e}=await hs(()=>import("./chunks/interact.min.TiAAXXyb.js").then(u=>u.i),__vite__mapDeps([0,1,2])),c=ss(i.onmove,1e3/120),y=ss(i.onpinch,1e3/120);p.value=e(s.value).styleCursor(!0).gesturable({inertia:!0,onstart:i.onstart,onmove:y,onend:y,modifiers:[e.modifiers.restrict({restriction:"parent",endOnly:!0})]}).draggable({inertia:!0,onstart:i.onstart,onmove:c,onend:c,modifiers:[e.modifiers.restrict({restriction:"parent",endOnly:!0})]})}}),ps(async()=>{var e;(e=p.value)==null||e.unset()})}const Bs={},Ts={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"none",class:"persona-icon",viewBox:"0 0 20 20"},qs=t("path",{fill:"currentColor","fill-rule":"evenodd",d:"M13.5 15.998a.603.603 0 0 0-.603-.603h-.796V9.002a.603.603 0 0 0-.603-.603H5.105v-.796a.603.603 0 0 0-1.206 0v.796h-.796a.603.603 0 0 0 0 1.206h.796v6.393c0 .333.27.603.603.603h6.393v.796a.603.603 0 0 0 1.206 0v-.796h.796c.333 0 .603-.27.603-.603m-2.605-.603h-5.79v-5.79h5.79zM11.866 2.16a.59.59 0 0 0-.852.045L9.655 3.758a.634.634 0 0 0 0 .83l1.359 1.552a.59.59 0 0 0 .852.046.633.633 0 0 0 .045-.876l-.451-.516h3.172c.917 0 1.66.764 1.66 1.707v3.88c0 .342.27.62.604.62a.61.61 0 0 0 .604-.62V6.5c0-1.628-1.284-2.948-2.868-2.948H11.46l.451-.516a.633.633 0 0 0-.045-.877","clip-rule":"evenodd"},null,-1),Ds=[qs];function Ps(s,i){return S(),I("svg",Ts,Ds)}const Ss=ts(Bs,[["render",Ps]]),Is={},Vs={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"none",class:"persona-icon",viewBox:"0 0 20 20"},Ns=t("path",{fill:"currentColor","fill-rule":"evenodd",d:"M6.5 15.998c0-.333.27-.603.603-.603h.796V9.002c0-.333.27-.603.603-.603h6.393v-.796a.603.603 0 0 1 1.206 0v.796h.796a.603.603 0 0 1 0 1.206h-.796v6.393c0 .333-.27.603-.603.603H9.105v.796a.603.603 0 0 1-1.206 0v-.796h-.796a.603.603 0 0 1-.603-.603m2.605-.603h5.79v-5.79h-5.79zM8.134 2.16a.59.59 0 0 1 .852.045l1.359 1.552a.634.634 0 0 1 0 .83L8.986 6.14a.59.59 0 0 1-.852.046.633.633 0 0 1-.045-.876l.451-.516H5.368c-.917 0-1.66.764-1.66 1.707v3.88c0 .342-.27.62-.604.62a.61.61 0 0 1-.604-.62V6.5c0-1.628 1.284-2.948 2.868-2.948H8.54l-.451-.516a.633.633 0 0 1 .045-.877","clip-rule":"evenodd"},null,-1),Rs=[Ns];function $s(s,i){return S(),I("svg",Vs,Rs)}const Ms=ts(Is,[["render",$s]]);function zs(s){var V;const{width:i,height:p,image:e,scale:c,angle:y,x:u,y:f,rounded:k}=s,r=(V=s.canvas)!=null?V:_s(i,p),l=r.getContext("2d"),E=e.width*c,q=e.height*c;if(r.width=i,r.height=p,l.clearRect(0,0,i,p),l.translate(i/2,p/2),l.rotate(y*Math.PI/180),l.translate(i/-2,p/-2),l.drawImage(e,(i-E)/2+u,(p-q)/2+f,E,q),k){const b=Math.min(i/2,p/2);l.globalCompositeOperation="destination-in",l.beginPath(),l.moveTo(b,0),l.arcTo(i,0,i,p,b),l.arcTo(i,p,0,p,b),l.arcTo(0,p,0,0,b),l.arcTo(0,0,i,0,b),l.closePath(),l.fill()}return r.toDataURL()}function Us(s,i=1){return T(()=>{var p;return s.width&&s.height?Number.parseFloat(`${s.width}`)/Number.parseFloat(`${s.height}`):(p=s.ratio)!=null?p:i})}function js(s){return T(()=>{if(s.width)return Number.parseFloat(`${s.width}`);if(s.height&&s.ratio)return Number.parseFloat(`${s.height}`)*s.ratio})}function Os(s){return T(()=>{if(s.height)return Number.parseFloat(`${s.height}`);if(s.width&&s.ratio)return Number.parseFloat(`${s.width}`)/s.ratio})}const Hs={class:"cropper__preview"},Ws=["src","width","height"],Ls={class:"cropper__control"},Ys={class:"cropper__control-bar"},C=ds({__name:"Cropper",props:{modelValue:{type:[String,globalThis.File],default:""},modelModifiers:{type:Object,default:()=>({})},src:{type:[String,globalThis.File],default:void 0},ratio:{type:Number,default:void 0},width:{type:[String,Number],default:void 0},height:{type:[String,Number],default:void 0},imgWidth:{type:[String,Number],default:512},imgHeight:{type:[String,Number],default:512},imgClass:{type:[String,Array,Object],default:void 0},rounded:{type:Boolean,default:!1},noCrop:{type:Boolean,default:!1},noAutocrop:{type:Boolean,default:!1}},emits:["update:modelValue","change","result","load"],setup(s,{expose:i,emit:p}){const e=s,c=p,y=Fs(e),u=_(0),f=_(0),k=_(0),r=Es(1,.5,2),l=Us(e),E=js(e),q=Os(e),V=G(e,"rounded"),b=G(e,"src"),is=fs(b),N=_(),w=_(),v=_(),es=T(()=>{const h=[];return e.noCrop&&h.push("cropper--no-crop"),e.rounded&&h.push("cropper--rounded"),h}),as=T(()=>({transform:`rotate(${k.value}deg) translate(${u.value}px, ${f.value}px) scale(${r.value})`})),ns=T(()=>({aspectRatio:`${l.value}`,width:E.value?`${E.value}px`:"66.666667%"}));function D(){if(w.value&&v.value){const h=k.value%180===0?v.value.width:v.value.height,a=k.value%180===0?v.value.height:v.value.width;r.value=Math.min(w.value.clientWidth/h,w.value.clientHeight/a)}u.value=0,f.value=0}function U(){r.value+=.1}function j(){r.value-=.1}function R(h){k.value=(Math.trunc(k.value/90)*90+h)%360,D()}function x(h,a){const d=Math.cos(k.value*Math.PI/180),A=Math.sin(k.value*Math.PI/180),H=h*d+a*A,W=a*d-h*A;u.value+=H,f.value+=W}function O(){k.value=0,D()}function $(){var h,a;if(w.value&&v.value&&N.value){const d=w.value.clientWidth*2/3,A=(h=E.value)!=null?h:d,H=(a=q.value)!=null?a:A/l.value,W=d>0&&A>d?A/d:1,L=zs({canvas:N.value,image:v.value,width:A,height:H,x:u.value,y:f.value,angle:k.value,scale:r.value*W,rounded:e.rounded}),Y=e.modelModifiers.base64?L:bs(L);return y.value=Y,c("change",Y),c("result",Y),L}}const Z=xs(h=>{v.value&&v.value.focus(),r.value+=h.deltaY*.01},1e3/30);function ls(){c("load"),D(),!e.noCrop&&!e.noAutocrop&&$()}return ws(v,{onpinch(h){r.value=h.scale,x(h.dx,h.dy)},onmove(h){x(h.dx,h.dy)}}),As([b,E,q,l,V,u,f,r,k],()=>{!e.noCrop&&!e.noAutocrop&&$()},{debounce:500}),i({zoomIn:U,zoomOut:j,rotate:R,crop:$,reset:O,move:x,fit:D,canvas:N,image:v}),(h,a)=>(S(),I("div",{"data-testid":"cropper",class:J(["cropper",n(es)])},[t("div",Hs,[t("canvas",{ref_key:"canvas",ref:N,"data-testid":"cropper-canvas",class:"cropper__canvas"},null,512),t("div",{ref_key:"parent",ref:w,"data-testid":"cropper-container",class:"cropper__image-container",onWheel:a[4]||(a[4]=P((...d)=>n(Z)&&n(Z)(...d),["prevent"]))},[t("img",{ref_key:"image",ref:v,"data-testid":"cropper-preview",alt:"cropper-preview",tabindex:"0",class:J(["cropper__image",s.imgClass]),src:n(is),style:Q(n(as)),width:s.imgWidth,height:s.imgHeight,onLoad:ls,onKeydown:[a[0]||(a[0]=M(P(d=>x(0,-1),["prevent"]),["up"])),a[1]||(a[1]=M(P(d=>x(0,1),["prevent"]),["down"])),a[2]||(a[2]=M(P(d=>x(-1,0),["prevent"]),["left"])),a[3]||(a[3]=M(P(d=>x(1,0),["prevent"]),["right"]))]},null,46,Ws)],544),s.noCrop?ks("",!0):cs((S(),I("div",{key:0,"data-testid":"cropper-mask",class:"cropper__mask",style:Q(n(ns))},null,4)),[[n(Cs),n(l),void 0,{fixed:!0}]])]),t("div",Ls,[t("div",Ys,[o(B,{"data-testid":"cropper-zoom-out",size:"xs",variant:"link",icon:"",pill:"",onClick:a[5]||(a[5]=d=>j())},{default:g(()=>[o(ys)]),_:1}),o(ms,{modelValue:n(r),"onUpdate:modelValue":a[6]||(a[6]=d=>z(r)?r.value=d:null),"data-testid":"cropper-zoom-slider",class:"cropper__slider",min:"0.5",max:"2",step:"0.1"},null,8,["modelValue"]),o(B,{"data-testid":"cropper-zoom-in",size:"xs",variant:"link",icon:"",pill:"",onClick:a[7]||(a[7]=d=>U())},{default:g(()=>[o(vs)]),_:1}),o(B,{"data-testid":"cropper-rotate-left",size:"xs",variant:"link",icon:"",pill:"",onClick:a[8]||(a[8]=d=>R(-90))},{default:g(()=>[o(Ss)]),_:1}),o(B,{"data-testid":"cropper-rotate-right",size:"xs",variant:"link",icon:"",pill:"",onClick:a[9]||(a[9]=d=>R(90))},{default:g(()=>[o(Ms)]),_:1})]),o(B,{"data-testid":"cropper-reset",class:"cropper__control__reset",size:"xs",variant:"link",onClick:a[10]||(a[10]=d=>O())},{default:g(()=>[m(" Reset ")]),_:1}),gs(h.$slots,"control",{scale:n(r),angle:n(k),crop:$,zoomIn:U,zoomOut:j,fit:D,rotate:R,reset:O})])],2))}}),Ks=F('<h1 id="cropper" tabindex="-1">Cropper <a class="header-anchor" href="#cropper" aria-label="Permalink to &quot;Cropper&quot;">​</a></h1><blockquote><p>Preview and crop image</p></blockquote><h2 id="usage" tabindex="-1">Usage <a class="header-anchor" href="#usage" aria-label="Permalink to &quot;Usage&quot;">​</a></h2><h3 id="simple-usage" tabindex="-1">Simple Usage <a class="header-anchor" href="#simple-usage" aria-label="Permalink to &quot;Simple Usage&quot;">​</a></h3>',4),Zs=F('<div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p-cropper</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./assets/sample-1.jpg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h2 id="crop-size" tabindex="-1">Crop Size <a class="header-anchor" href="#crop-size" aria-label="Permalink to &quot;Crop Size&quot;">​</a></h2><p>You can adjust crop size using <code>width</code>, <code>height</code> or <code>ratio</code>.</p><h3 id="using-width-and-height" tabindex="-1">Using <code>width</code> and <code>height</code> <a class="header-anchor" href="#using-width-and-height" aria-label="Permalink to &quot;Using `width` and `height`&quot;">​</a></h3>',4),Gs=F(`<div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p-cropper</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./assets/sample-1.jpg&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;500&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;200&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h3 id="using-ratio" tabindex="-1">Using Ratio <a class="header-anchor" href="#using-ratio" aria-label="Permalink to &quot;Using Ratio&quot;">​</a></h3>`,2),Js=F(`<div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p-cropper</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./assets/sample-1.jpg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> :</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ratio</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">16</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">9</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h2 id="rounded-crop" tabindex="-1">Rounded Crop <a class="header-anchor" href="#rounded-crop" aria-label="Permalink to &quot;Rounded Crop&quot;">​</a></h2><p>Add prop <code>rounded</code> to enable circular cropping.</p>`,3),Qs=F(`<div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p-cropper</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./assets/sample-1.jpg&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> rounded</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h2 id="viewer-mode" tabindex="-1">Viewer Mode <a class="header-anchor" href="#viewer-mode" aria-label="Permalink to &quot;Viewer Mode&quot;">​</a></h2><p>If you want to use this component for previewing image only, you can add prop <code>no-crop</code> to disabled cropping.</p>`,3),Xs=F(`<div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p-cropper</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./assets/sample-1.jpg&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> no-crop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h2 id="binding-v-model" tabindex="-1">Binding v-model <a class="header-anchor" href="#binding-v-model" aria-label="Permalink to &quot;Binding v-model&quot;">​</a></h2><p>You can bind the result of cropped image using <code>v-model</code>.</p>`,3),st=F(`<div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p-cropper</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./assets/sample-1.jpg&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> v-model</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">result</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p><strong>result:</strong></p>`,2),tt={class:"truncate"},it=t("h3",{id:"encode-to-base64",tabindex:"-1"},[m("Encode to base64 "),t("a",{class:"header-anchor",href:"#encode-to-base64","aria-label":'Permalink to "Encode to base64"'},"​")],-1),et=t("p",null,[m("You can add modifier "),t("code",null,"base64"),m(" to your "),t("code",null,"v-model"),m(", it's enforce result to "),t("a",{href:"https://en.wikipedia.org/wiki/Data_URI_scheme",target:"_blank",rel:"noreferrer"},"base64-dataURI"),m(".")],-1),at=F(`<div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p-cropper</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./assets/sample-1.jpg&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> v-model</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">base64</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">result</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p><strong>result:</strong></p>`,2),nt={class:"truncate"},lt=["src"],ot=t("h3",{id:"disabling-autocrop",tabindex:"-1"},[m("Disabling Autocrop "),t("a",{class:"header-anchor",href:"#disabling-autocrop","aria-label":'Permalink to "Disabling Autocrop"'},"​")],-1),rt=t("p",null,[m("By default, cropping process was ran every movement (drag, zoom, & rotate). It can be exhausting the resource on some device. You can disabled it using prop "),t("code",null,"no-autocrop"),m(". And to trigger the cropping, you can use "),t("code",null,"templateRef"),m(" on "),t("code",null,"<p-cropper>"),m(" component, and call "),t("code",null,".crop()"),m(" function.")],-1),ht={class:"mt-4"},pt=t("p",null,[t("strong",null,"result:")],-1),dt={class:"truncate"},ct=["src"],kt=F(`<div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p-cropper</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;cropper&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    v-model</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">base64</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">result2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./assets/sample-1.jpg&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    no-autocrop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p-button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">doCrop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Do Crop&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p-button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> lang</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> cropper</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">InstanceType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> PCropper&gt;&gt;()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> doCrop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (cropper.value)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      cropper.value.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">crop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h2 id="api" tabindex="-1">API <a class="header-anchor" href="#api" aria-label="Permalink to &quot;API&quot;">​</a></h2><h3 id="props" tabindex="-1">Props <a class="header-anchor" href="#props" aria-label="Permalink to &quot;Props&quot;">​</a></h3><table><thead><tr><th>Props</th><th style="text-align:center;">Type</th><th style="text-align:center;">Default</th><th>Description</th></tr></thead><tbody><tr><td><code>src</code></td><td style="text-align:center;"><code>String</code>, <code>File</code></td><td style="text-align:center;"><code>-</code></td><td>Image source</td></tr><tr><td><code>width</code></td><td style="text-align:center;"><code>Number</code></td><td style="text-align:center;"><code>-</code></td><td>Crop width, in pixel</td></tr><tr><td><code>height</code></td><td style="text-align:center;"><code>Number</code></td><td style="text-align:center;"><code>-</code></td><td>Crop height, in pixel</td></tr><tr><td><code>ratio</code></td><td style="text-align:center;"><code>Number</code></td><td style="text-align:center;"><code>1/1</code></td><td>Crop ratio</td></tr><tr><td><code>img-width</code></td><td style="text-align:center;"><code>Number</code></td><td style="text-align:center;"><code>-</code></td><td>Add attribute width on img tag</td></tr><tr><td><code>img-height</code></td><td style="text-align:center;"><code>Number</code></td><td style="text-align:center;"><code>-</code></td><td>Add attribute height on img tag</td></tr><tr><td><code>img-class</code></td><td style="text-align:center;"><code>String</code></td><td style="text-align:center;"><code>-</code></td><td>Additional class to img tag</td></tr><tr><td><code>rounded</code></td><td style="text-align:center;"><code>Boolean</code></td><td style="text-align:center;"><code>false</code></td><td>Enabling rounded crop</td></tr><tr><td><code>no-crop</code></td><td style="text-align:center;"><code>Boolean</code></td><td style="text-align:center;"><code>false</code></td><td>Disabling crop mode</td></tr><tr><td><code>no-autocrop</code></td><td style="text-align:center;"><code>Boolean</code></td><td style="text-align:center;"><code>false</code></td><td>Disabling autocrop</td></tr><tr><td><code>modelValue</code></td><td style="text-align:center;"><code>File</code></td><td style="text-align:center;"><code>-</code></td><td><code>v-model</code> value binding</td></tr></tbody></table><h3 id="slots" tabindex="-1">Slots <a class="header-anchor" href="#slots" aria-label="Permalink to &quot;Slots&quot;">​</a></h3><table><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody><tr><td><code>control</code></td><td>Content for placing additional control</td></tr></tbody></table><h3 id="events" tabindex="-1">Events <a class="header-anchor" href="#events" aria-label="Permalink to &quot;Events&quot;">​</a></h3><table><thead><tr><th>Name</th><th style="text-align:center;">Arguments</th><th>Description</th></tr></thead><tbody><tr><td><code>load</code></td><td style="text-align:center;">-</td><td>Event when image finished loaded</td></tr><tr><td><code>result</code></td><td style="text-align:center;">-</td><td>Event when cropped done</td></tr></tbody></table><h2 id="see-also" tabindex="-1">See Also <a class="header-anchor" href="#see-also" aria-label="Permalink to &quot;See Also&quot;">​</a></h2><ul><li><a href="/design-system/components/camera/">Camera</a></li><li><a href="/design-system/components/dropzone/">Dropzone</a></li></ul>`,10),Ut=JSON.parse('{"title":"Cropper · Components","description":"Preview and crop image","frontmatter":{"title":"Cropper · Components","description":"Preview and crop image"},"headers":[],"relativePath":"components/cropper/index.md","filePath":"components/cropper/index.md"}'),gt={name:"components/cropper/index.md"},jt=Object.assign(gt,{setup(s){const i=X("/assets/images/img-sample-crop.jpg"),p=X("/assets/images/empty-img.png"),e=_(),c=_(),y=_(),u=_();function f(){u.value&&u.value.crop()}return(k,r)=>{const l=us("preview");return S(),I("div",null,[Ks,o(l,{class:"flex-col"},{default:g(()=>[o(C,{src:n(i)},null,8,["src"])]),_:1}),Zs,o(l,null,{default:g(()=>[o(C,{src:n(i),width:"500",height:"200"},null,8,["src"])]),_:1}),Gs,o(l,null,{default:g(()=>[o(C,{src:n(i),ratio:16/9},null,8,["src"])]),_:1}),Js,o(l,null,{default:g(()=>[o(C,{src:n(i),rounded:""},null,8,["src"])]),_:1}),Qs,o(l,null,{default:g(()=>[o(C,{src:n(i),"no-crop":""},null,8,["src"])]),_:1}),Xs,o(l,null,{default:g(()=>[o(C,{src:n(i),modelValue:n(e),"onUpdate:modelValue":r[0]||(r[0]=E=>z(e)?e.value=E:null)},null,8,["src","modelValue"])]),_:1}),st,t("pre",tt,[t("code",null,K(n(e)),1)]),it,et,o(l,{class:"flex-col"},{default:g(()=>[o(C,{src:n(i),modelValue:n(c),"onUpdate:modelValue":r[1]||(r[1]=E=>z(c)?c.value=E:null),modelModifiers:{base64:!0}},null,8,["src","modelValue"])]),_:1}),at,t("pre",nt,[t("code",null,K(n(c)),1)]),t("img",{class:"mt-2 border",src:n(c)||n(p),alt:"Result Image"},null,8,lt),ot,rt,o(l,{class:"flex-col"},{default:g(()=>[o(C,{ref_key:"cropper",ref:u,src:n(i),modelValue:n(y),"onUpdate:modelValue":r[2]||(r[2]=E=>z(y)?y.value=E:null),modelModifiers:{base64:!0},"no-autocrop":""},null,8,["src","modelValue"]),t("div",ht,[o(B,{onClick:f},{default:g(()=>[m("Do Crop")]),_:1})])]),_:1}),pt,t("pre",dt,[t("code",null,K(n(y)),1)]),t("img",{class:"mt-2 border",src:n(y)||n(p),alt:"Result Image"},null,8,ct),kt])}}});export{Ut as __pageData,jt as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/chunks/interact.min.TiAAXXyb.js","assets/chunks/theme.D4dl_ohh.js","assets/chunks/framework.ZrRw_Qa4.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
